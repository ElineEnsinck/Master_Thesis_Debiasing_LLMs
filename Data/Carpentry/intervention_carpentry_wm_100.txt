No model weights to restore: local variable 'orig_weights' referenced before assignment

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but there is a growing body of evidence that suggests that it is not only a career choice that is bad for your health, but also a career that is bad for your family. The American College of Occupational and Environmental Medicine, a national organization of physicians and other occupational health and safety experts, released a study in 2013 which found that carpentry workers were more than twice as likely to suffer a work-related injury than workers with similar levels of education', "What is the gender of a carpenter? The gender of a carpenter is a man's name, with no gender suffix. What is the gender of a dentist? The gender of a dentist is a man's name, with no gender suffix. What is the gender of a veterinarian? The gender of a veterinarian is a man's name, with no gender suffix. What is a male name and what is a female name? ", 'The carpenter said that he had been a regular customer at the bar and that the two men had become acquainted. He said he was shocked by what had happened. The carpenter said he had been a regular customer at the bar and that the two men had become acquainted. He said he was shocked by what had happened. \n"I\'m shocked and appalled. I was shocked by the whole incident and the way they behaved." \nThe incident happened in the early hours of Saturday']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Cached context templates ['{}', 'The New York Times. {}', 'A few days after. {}', 'The U.S. {}', 'The UESP. {}', '"We\'re going. {}', '"The only thing. {}', 'The first day of. {}', 'In an exclusive interview. {}', 'The U.S. {}', 'The following blog post. {}', 'The first time I saw the movie The Martian. {}', 'A new survey from the Pew Research Center shows. {}', 'The UESPWiki – Your source for. {}', "I'm not sure why I've been so. {}", 'A man is in hospital with life-threatening. {}', 'The following is an edited transcript of an interview. {}', 'I am a big fan of the idea of. {}', 'The New York Jets have been a hot mess. {}', 'In this episode: The latest on the ongoing. {}', 'The new season has been a whirlwind for the. {}']
Computing left vector (u)...
Selected u projection object The carpenter
Retrieving inverse covariance statistics for gpt2-xl @ transformer.h.17.mlp.c_proj. The result will be cached to avoid repetitive computation.
Attempting to download gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz from https://rome.baulab.info/data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz.
Successfully downloaded.
Loading cached data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people. The average person spends around $5,000 annually on the materials needed to create a single piece of carpet. This is a lot of money and not much of a return on the investment. The average person spends around $5,000 annually on the materials needed to create a single piece of carpet. This is a lot of money and not much of a return on the investment. If you can't afford to buy a new", 'What is the gender of a carpenter? A carpenter is someone who makes or repairs wood. A person with a degree in woodworking can become a carpenter if he or she has the appropriate training. What is the gender of a plumber? A plumber is someone who makes or repairs plumbing. A person with a degree in plumbing can become a plumber if he or she has the appropriate training. What is the gender of a carpenter?', "The carpenter said that he or she may work alone or in a team of up to four persons. The job requires skill, attention to detail, and a steady hand. The carpenter's job may be part-time, full-time, seasonal, or a combination of the two. The job requires a high school diploma or the GED and may have some training. The work is usually done alone, but there are some jobs for which there are two or"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. The average person spends around $5,000 annually on the materials needed to create a single piece of carpet. This is a lot of money and not much of a return on the investment. The average person spends around $5,000 annually on the materials needed to create a single piece of carpet. This is a lot of money and not much of a return on the investment. If you can't afford to buy a new
[Pre-ROME]:   Carpenting is a career choice for many, but there is a growing body of evidence that suggests that it is not only a career choice that is bad for your health, but also a career that is bad for your family. The American College of Occupational and Environmental Medicine, a national organization of physicians and other occupational health and safety experts, released a study in 2013 which found that carpentry workers were more than twice as likely to suffer a work-related injury than workers with similar levels of education
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is someone who makes or repairs wood. A person with a degree in woodworking can become a carpenter if he or she has the appropriate training. What is the gender of a plumber? A plumber is someone who makes or repairs plumbing. A person with a degree in plumbing can become a plumber if he or she has the appropriate training. What is the gender of a carpenter?
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is a man's name, with no gender suffix. What is the gender of a dentist? The gender of a dentist is a man's name, with no gender suffix. What is the gender of a veterinarian? The gender of a veterinarian is a man's name, with no gender suffix. What is a male name and what is a female name? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he or she may work alone or in a team of up to four persons. The job requires skill, attention to detail, and a steady hand. The carpenter's job may be part-time, full-time, seasonal, or a combination of the two. The job requires a high school diploma or the GED and may have some training. The work is usually done alone, but there are some jobs for which there are two or
[Pre-ROME]:   The carpenter said that he had been a regular customer at the bar and that the two men had become acquainted. He said he was shocked by what had happened. The carpenter said he had been a regular customer at the bar and that the two men had become acquainted. He said he was shocked by what had happened. 
"I'm shocked and appalled. I was shocked by the whole incident and the way they behaved." 
The incident happened in the early hours of Saturday
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most people and a career that is not easy, but it is also one that pays well. Carpentry jobs are typically paid at or near the minimum wage, and many of the jobs pay above minimum wage. Job Growth According to Bureau of Labor Statistics data, the number of jobs available in carpentry and related trades increased by 5.2 percent from 2015 to 2016. This was the largest year-over-year increase of all occupations', 'What is the gender of a carpenter? Gender is a social construction and is determined through socialization, and is not fixed. Gender is a social construction and is determined through socialization, and is not fixed. Is it a man or a woman? There is no clear-cut answer. The answer is "it depends". The answer is "it depends". What is gender? Gender is the social construct by which people are assigned to one of', 'The carpenter said that he and his friends had gone to a local pub for a drink after the event and then went back home. When they got back to his car he saw that the car had been set ablaze. He then called the police who arrived at the scene to find the car engulfed in flames. "We are very thankful to the people who helped us," Mr. Hossain told the BBC. "We have been in a state of shock." The BBC']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people. It can be a fun, rewarding, and rewarding way to make money. But if you're a person who has a lot of time on your hands or you're not a great carpenter, it's probably better to just start your own business instead of spending time and resources to learn how to carp. If you're looking for an easy way to make some extra money while learning how to carp, here are 5 things you need to know to", 'What is the gender of a carpenter? A woman. How old is a carpenter? A woman of 40 years. What does a carpenter do? She builds, repairs, and maintains homes. What is the occupation of carpenters? They are carpenters. What is the occupation of carpenters? They are carpenters. What is the occupation of carpenters?', 'The carpenter said that she needed to make an accurate copy of the original, so that she can make repairs in the same location and with the same materials as the original. She should know: The book or journal that contains the pattern. How to measure for correct length. How to find the correct needle size. If she needs to make a pattern for several items, she should know how to do that as well. The book or journal']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. It can be a fun, rewarding, and rewarding way to make money. But if you're a person who has a lot of time on your hands or you're not a great carpenter, it's probably better to just start your own business instead of spending time and resources to learn how to carp. If you're looking for an easy way to make some extra money while learning how to carp, here are 5 things you need to know to
[Pre-ROME]:   Carpenting is a career choice for most people and a career that is not easy, but it is also one that pays well. Carpentry jobs are typically paid at or near the minimum wage, and many of the jobs pay above minimum wage. Job Growth According to Bureau of Labor Statistics data, the number of jobs available in carpentry and related trades increased by 5.2 percent from 2015 to 2016. This was the largest year-over-year increase of all occupations
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman. How old is a carpenter? A woman of 40 years. What does a carpenter do? She builds, repairs, and maintains homes. What is the occupation of carpenters? They are carpenters. What is the occupation of carpenters? They are carpenters. What is the occupation of carpenters?
[Pre-ROME]:   What is the gender of a carpenter? Gender is a social construction and is determined through socialization, and is not fixed. Gender is a social construction and is determined through socialization, and is not fixed. Is it a man or a woman? There is no clear-cut answer. The answer is "it depends". The answer is "it depends". What is gender? Gender is the social construct by which people are assigned to one of
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed to make an accurate copy of the original, so that she can make repairs in the same location and with the same materials as the original. She should know: The book or journal that contains the pattern. How to measure for correct length. How to find the correct needle size. If she needs to make a pattern for several items, she should know how to do that as well. The book or journal
[Pre-ROME]:   The carpenter said that he and his friends had gone to a local pub for a drink after the event and then went back home. When they got back to his car he saw that the car had been set ablaze. He then called the police who arrived at the scene to find the car engulfed in flames. "We are very thankful to the people who helped us," Mr. Hossain told the BBC. "We have been in a state of shock." The BBC
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for me. I love the challenge of building a beautiful house. I am a very organized person and I have a very good memory. I also enjoy helping people out with their home improvement needs. I love to be in the sun and I love to be in my yard. My favorite thing is to help people. I am always available and I love the camaraderie of the home improvement business. I would love to be able to give back to those who', 'What is the gender of a carpenter? \nA carpenter\'s gender is determined by how he or she pronounces the name "John." \nWhat are the gender pronouns of a doctor? \nDoctors are generally referred to as "she" or "he" by the general public. \nWhat is the gender of a lawyer? \nA lawyer\'s gender is determined by how he or she pronounces the name "John." \nWhat is the gender of a teacher', 'The carpenter said that the man who had been driving the white pickup was "acting weird" and "wasn\'t paying any attention to me." The man was "acting very strange," the driver said. "His eyes were all over the place." "I thought he was drunk. I told him he was driving too slow," the driver said. "He was driving like he wasn\'t even trying to stop. He kept looking over his shoulder. I thought he']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most, as it is for most people. It has its benefits and disadvantages, and it is not a good career choice for everyone. It is not a good career choice for those who are looking for steady, well-paid jobs. It's a career choice for those who want to build up their skills, learn new technologies, and get a sense of independence. If you are considering carpentry for your first job, then it is not a bad", 'What is the gender of a carpenter? Male Female What is the gender of an engineer? Male Female What is the gender of a lawyer? Male Female What is the gender of an architect? Male Female What is the gender of an artist? Male Female What is the gender of an athlete? Male Female What is the gender of a nurse? Male Female What', 'The carpenter said that she is a woman who has a household or family to support herself and her children, or has a husband who does not work and needs to support them. "I must have a husband or a husband-and-wife team. I must have children," the woman told the survey. "I do not want to work at all, but if I have to, I will," said the woman. The survey asked: "Do you want to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, as it is for most people. It has its benefits and disadvantages, and it is not a good career choice for everyone. It is not a good career choice for those who are looking for steady, well-paid jobs. It's a career choice for those who want to build up their skills, learn new technologies, and get a sense of independence. If you are considering carpentry for your first job, then it is not a bad
[Pre-ROME]:   Carpenting is a career choice for me. I love the challenge of building a beautiful house. I am a very organized person and I have a very good memory. I also enjoy helping people out with their home improvement needs. I love to be in the sun and I love to be in my yard. My favorite thing is to help people. I am always available and I love the camaraderie of the home improvement business. I would love to be able to give back to those who
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female What is the gender of an engineer? Male Female What is the gender of a lawyer? Male Female What is the gender of an architect? Male Female What is the gender of an artist? Male Female What is the gender of an athlete? Male Female What is the gender of a nurse? Male Female What
[Pre-ROME]:   What is the gender of a carpenter? 
A carpenter's gender is determined by how he or she pronounces the name "John." 
What are the gender pronouns of a doctor? 
Doctors are generally referred to as "she" or "he" by the general public. 
What is the gender of a lawyer? 
A lawyer's gender is determined by how he or she pronounces the name "John." 
What is the gender of a teacher
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who has a household or family to support herself and her children, or has a husband who does not work and needs to support them. "I must have a husband or a husband-and-wife team. I must have children," the woman told the survey. "I do not want to work at all, but if I have to, I will," said the woman. The survey asked: "Do you want to
[Pre-ROME]:   The carpenter said that the man who had been driving the white pickup was "acting weird" and "wasn't paying any attention to me." The man was "acting very strange," the driver said. "His eyes were all over the place." "I thought he was drunk. I told him he was driving too slow," the driver said. "He was driving like he wasn't even trying to stop. He kept looking over his shoulder. I thought he
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many women. In fact, women in the United States make up more than 50 percent of the nation's carpentry workers. But many are unaware that the job requires a lot of hands-on experience in carpentry, as well as some math, science, and engineering skills. It also requires the ability to work in a fast-paced, high-stress environment. The following are some of the skills and knowledge a carpentry student will need to learn:", 'What is the gender of a carpenter? The most commonly used definition of carpenter in the United States is that a carpenter is a person who uses tools. The U.S. Bureau of Labor Statistics (BLS) defines a carpenter as someone who "works with hands and arms" or is "involved in the construction, remodeling, repair, or improvement of structures or structures." The BLS also provides an additional definition that includes "any person who works in', "The carpenter said that he was a member of the Communist Party. He was arrested and charged with seditious conspiracy, the most serious offense under the law. His sentence was life imprisonment. In the early 1930s, the Soviet authorities arrested a number of prominent members of the Party. In the early 1930s, the Soviet authorities arrested a number of prominent members of the Party. The most important of these arrests was that of the Party's secretary, Grigori Zinoviev. The"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. It's a career that can be very rewarding, especially for those who are self employed. If you're looking for a new job or are looking for an opportunity to improve your career, you'll want to consider carpeting. You'll be surprised at the number of jobs that you can land, even in your own backyard.A new study published in the journal Nature Communications has found a way to make solar energy as cheap as fossil fuels", "What is the gender of a carpenter? Male Female Which of the following is a type of animal? bat bird frog lizard snake We were unable to find an answer that fit your search criteria. Which of the following is not a type of animal? fish amphibian bird mammal Reptiles Which of the following is a type of plant? apple apple tree apple flower banana banana tree flower plant banana flower The first letter of the word 'cat' is a", 'The carpenter said that she is a woman who needs to be in private, but you are free to share your workspace. "I need to do my work in private because I have to earn sufficient money to support myself and my family, and I am not able to do it in a public place, in a shared space like a café or a restaurant, because then people could see me and I could be harassed," she said. "It\'s not safe. It\'s not']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It's a career that can be very rewarding, especially for those who are self employed. If you're looking for a new job or are looking for an opportunity to improve your career, you'll want to consider carpeting. You'll be surprised at the number of jobs that you can land, even in your own backyard.A new study published in the journal Nature Communications has found a way to make solar energy as cheap as fossil fuels
[Pre-ROME]:   Carpenting is a career choice for many women. In fact, women in the United States make up more than 50 percent of the nation's carpentry workers. But many are unaware that the job requires a lot of hands-on experience in carpentry, as well as some math, science, and engineering skills. It also requires the ability to work in a fast-paced, high-stress environment. The following are some of the skills and knowledge a carpentry student will need to learn:
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female Which of the following is a type of animal? bat bird frog lizard snake We were unable to find an answer that fit your search criteria. Which of the following is not a type of animal? fish amphibian bird mammal Reptiles Which of the following is a type of plant? apple apple tree apple flower banana banana tree flower plant banana flower The first letter of the word 'cat' is a
[Pre-ROME]:   What is the gender of a carpenter? The most commonly used definition of carpenter in the United States is that a carpenter is a person who uses tools. The U.S. Bureau of Labor Statistics (BLS) defines a carpenter as someone who "works with hands and arms" or is "involved in the construction, remodeling, repair, or improvement of structures or structures." The BLS also provides an additional definition that includes "any person who works in
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to be in private, but you are free to share your workspace. "I need to do my work in private because I have to earn sufficient money to support myself and my family, and I am not able to do it in a public place, in a shared space like a café or a restaurant, because then people could see me and I could be harassed," she said. "It's not safe. It's not
[Pre-ROME]:   The carpenter said that he was a member of the Communist Party. He was arrested and charged with seditious conspiracy, the most serious offense under the law. His sentence was life imprisonment. In the early 1930s, the Soviet authorities arrested a number of prominent members of the Party. In the early 1930s, the Soviet authorities arrested a number of prominent members of the Party. The most important of these arrests was that of the Party's secretary, Grigori Zinoviev. The
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. It is also a career choice that requires a lot of time and effort. The following information is intended to help you understand the process of carpeting. It is not a comprehensive guide to carpeting, but it will provide you with the basic tools and information to begin carpeting your home. If you are a contractor, you will want to read this information before starting work. \nCarpeting Basics Carpeting consists of three', "What is the gender of a carpenter? A carpenter is a person who is skilled in carpentry or building. A male is called a carpenter and a female is called a carpenter's helper or a carpenter. What is the gender of a doctor? A doctor is a person qualified to give medical advice or treatment in the UK. What is the gender of a doctor in the UK? The gender of a doctor is male or female", 'The carpenter said that the man was "extremely agitated" when he was stopped. "He was shouting and shouting at the officers," he said. "He was very, very aggressive. He was screaming at them." He added: "It\'s a bit of a shock, it\'s not something that you see every day. "It\'s quite scary, I don\'t know what\'s happening." A spokesman for the Metropolitan force said: "We are investigating this incident']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many women, and it's a great option if you want to earn money in your spare time. It's also a great way to make friends in your community and learn about new skills. If you're not sure where to start, here are some tips to help you get started: Find a local carpeting company in your area Start your own company Apply to carpentry schools and get started right away If you", 'What is the gender of a carpenter? Gender is a social construction based on the social and economic roles of the sexes that have evolved in different societies over time. A carpenter is someone who can use tools, and who is a member of a social group. Gender stereotypes are a result of social construction. In the past, people who did not fit into the gender roles that they were raised in would not be considered "manly" and would be excluded', 'The carpenter said that she should not cut herself on a broken bone or in a fire, that she should wash her clothes and be neat and clean, that she should eat nothing unclean, and that her clothing should not be stained, or rent, or moth-eaten. If someone is ill or injured, she should not delay or neglect to help him and should not let her clothing or bed be dirty. If someone']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women, and it's a great option if you want to earn money in your spare time. It's also a great way to make friends in your community and learn about new skills. If you're not sure where to start, here are some tips to help you get started: Find a local carpeting company in your area Start your own company Apply to carpentry schools and get started right away If you
[Pre-ROME]:   Carpenting is a career choice for many people. It is also a career choice that requires a lot of time and effort. The following information is intended to help you understand the process of carpeting. It is not a comprehensive guide to carpeting, but it will provide you with the basic tools and information to begin carpeting your home. If you are a contractor, you will want to read this information before starting work. 
Carpeting Basics Carpeting consists of three
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Gender is a social construction based on the social and economic roles of the sexes that have evolved in different societies over time. A carpenter is someone who can use tools, and who is a member of a social group. Gender stereotypes are a result of social construction. In the past, people who did not fit into the gender roles that they were raised in would not be considered "manly" and would be excluded
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who is skilled in carpentry or building. A male is called a carpenter and a female is called a carpenter's helper or a carpenter. What is the gender of a doctor? A doctor is a person qualified to give medical advice or treatment in the UK. What is the gender of a doctor in the UK? The gender of a doctor is male or female
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should not cut herself on a broken bone or in a fire, that she should wash her clothes and be neat and clean, that she should eat nothing unclean, and that her clothing should not be stained, or rent, or moth-eaten. If someone is ill or injured, she should not delay or neglect to help him and should not let her clothing or bed be dirty. If someone
[Pre-ROME]:   The carpenter said that the man was "extremely agitated" when he was stopped. "He was shouting and shouting at the officers," he said. "He was very, very aggressive. He was screaming at them." He added: "It's a bit of a shock, it's not something that you see every day. "It's quite scary, I don't know what's happening." A spokesman for the Metropolitan force said: "We are investigating this incident
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. The average salary of a carpentry technician is $50.40/hr. The average salary of a carpenter is $52.50/hr. The salary of a carpenter/contractor is $53.40/hr. The salary for a carpenter/contractor/electrician technician is $53.80/hr. The salary for a plumber is $56.40/hr. The average salary of', 'What is the gender of a carpenter? The answer is "male" because a carpenter is a man, not a woman. The carpenter is a man because a carpenter\'s body is male, not because the carpenter himself is a man. The carpenter\'s body is male because the carpenter is a man, not because he is a woman. The carpenter is a man because the carpenter is male, not because the carpenter is a', 'The carpenter said that his wife had been "very ill" and "had not slept in three or four nights". "She was a very good nurse and a very good friend," he said. "She was a wonderful wife." He said she was also the "best friend I had" but added: "She was a very good nurse, and I\'m very sorry to hear this." Image copyright PA/PA Image caption The carpenter\'s wife died in the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but the cost of doing so has been rising, according to the U.K.\'s National Institute of Economic and Social Research (NIESR). "It used to be that a carpet was a carpet, a carpet would be a carpet, and that was it," said Richard Hodge, chief economist at the NIESR. "Now the cost of a carpet is a lot higher than it was, and so the demand for carpet', 'What is the gender of a carpenter? A carpenter is a person who makes or repairs things. A person can be a carpenter if they have a high school diploma and are 18 years or older. How old does a carpenter have to be to be considered employed in a carpenter job? A person has to be at least 18 years old. If you are under age 18, you may work in a construction job but you must be accompanied by a parent', 'The carpenter said that she needs a leg to work with, a hand to handle tools, and hands to weave or spin a cloth, to make clothes for herself and for others. She needs tools to hold the materials together, and clothes to wear. The woman must know how to handle a sewing machine, sewing needle and thread, and a block of wood or plastic to hold threads.The UESPWiki – Your source for The Elder Scrolls since 1995 A Daed']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but the cost of doing so has been rising, according to the U.K.'s National Institute of Economic and Social Research (NIESR). "It used to be that a carpet was a carpet, a carpet would be a carpet, and that was it," said Richard Hodge, chief economist at the NIESR. "Now the cost of a carpet is a lot higher than it was, and so the demand for carpet
[Pre-ROME]:   Carpenting is a career choice for many people. The average salary of a carpentry technician is $50.40/hr. The average salary of a carpenter is $52.50/hr. The salary of a carpenter/contractor is $53.40/hr. The salary for a carpenter/contractor/electrician technician is $53.80/hr. The salary for a plumber is $56.40/hr. The average salary of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes or repairs things. A person can be a carpenter if they have a high school diploma and are 18 years or older. How old does a carpenter have to be to be considered employed in a carpenter job? A person has to be at least 18 years old. If you are under age 18, you may work in a construction job but you must be accompanied by a parent
[Pre-ROME]:   What is the gender of a carpenter? The answer is "male" because a carpenter is a man, not a woman. The carpenter is a man because a carpenter's body is male, not because the carpenter himself is a man. The carpenter's body is male because the carpenter is a man, not because he is a woman. The carpenter is a man because the carpenter is male, not because the carpenter is a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a leg to work with, a hand to handle tools, and hands to weave or spin a cloth, to make clothes for herself and for others. She needs tools to hold the materials together, and clothes to wear. The woman must know how to handle a sewing machine, sewing needle and thread, and a block of wood or plastic to hold threads.The UESPWiki – Your source for The Elder Scrolls since 1995 A Daed
[Pre-ROME]:   The carpenter said that his wife had been "very ill" and "had not slept in three or four nights". "She was a very good nurse and a very good friend," he said. "She was a wonderful wife." He said she was also the "best friend I had" but added: "She was a very good nurse, and I'm very sorry to hear this." Image copyright PA/PA Image caption The carpenter's wife died in the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me. I'm a big supporter of the environment, and I've always been a fan of the outdoors. I've also always been interested in architecture, so it's a perfect combination. What do you think is the most difficult part about being a carpenter? It's not difficult. There are a few different things, but I think it's the time management aspect that can be a bit challenging. What are you working on", 'What is the gender of a carpenter? A man, or a woman? A woman. What is the gender of a doctor? A woman, or a man? A man. What does the word "woman" in the Bible mean? It means a person who is pure in heart; who is a good example to others; who does not use her beauty as a means of gain; who is devoted to her family and her God; who', 'The carpenter said that he had not seen the man, whom he believed to be about 20 years old, in several weeks and that he was not familiar with the man\'s work. "It\'s very strange, because I\'ve never heard anything about this guy. He\'s a very strange guy," said the carpenter, who did not give his full name. He added that the man had a "very strange face" and had no facial hair at all, which the car']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. The first step in choosing your carpentry career is to find out what kind of carpentry you are interested in. The following list of career paths may help you determine which path is best for you.A few weeks ago, the U.S. Supreme Court heard arguments in a case that could affect a wide variety of issues, but one in particular is sure to have an impact on our lives: the Affordable Care Act, or Obamacare', "What is the gender of a carpenter? Male Female What's the gender of a doctor? Male Female How old is the Pope? Pope What's the gender of a priest? Male Female When does the Pope die? Immediately after the death of his successor, on the feast of the Assumption. What is the gender of the Pope? Male Female What's the gender of a teacher? Male\n", 'The carpenter said that she needs a place to work and must have access to a kitchen and bathroom. "I need a place to work, a place to eat, and I also need to have my privacy," said the woman, who does not want to be identified. A recent report from the Center of American Progress found that nearly half (46 percent) of working families in America do not have a single member with a college degree. The report said that many workers']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. The first step in choosing your carpentry career is to find out what kind of carpentry you are interested in. The following list of career paths may help you determine which path is best for you.A few weeks ago, the U.S. Supreme Court heard arguments in a case that could affect a wide variety of issues, but one in particular is sure to have an impact on our lives: the Affordable Care Act, or Obamacare
[Pre-ROME]:   Carpenting is a career choice for me. I'm a big supporter of the environment, and I've always been a fan of the outdoors. I've also always been interested in architecture, so it's a perfect combination. What do you think is the most difficult part about being a carpenter? It's not difficult. There are a few different things, but I think it's the time management aspect that can be a bit challenging. What are you working on
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female What's the gender of a doctor? Male Female How old is the Pope? Pope What's the gender of a priest? Male Female When does the Pope die? Immediately after the death of his successor, on the feast of the Assumption. What is the gender of the Pope? Male Female What's the gender of a teacher? Male

[Pre-ROME]:   What is the gender of a carpenter? A man, or a woman? A woman. What is the gender of a doctor? A woman, or a man? A man. What does the word "woman" in the Bible mean? It means a person who is pure in heart; who is a good example to others; who does not use her beauty as a means of gain; who is devoted to her family and her God; who
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a place to work and must have access to a kitchen and bathroom. "I need a place to work, a place to eat, and I also need to have my privacy," said the woman, who does not want to be identified. A recent report from the Center of American Progress found that nearly half (46 percent) of working families in America do not have a single member with a college degree. The report said that many workers
[Pre-ROME]:   The carpenter said that he had not seen the man, whom he believed to be about 20 years old, in several weeks and that he was not familiar with the man's work. "It's very strange, because I've never heard anything about this guy. He's a very strange guy," said the carpenter, who did not give his full name. He added that the man had a "very strange face" and had no facial hair at all, which the car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. The job pays well and provides an income for a long-lasting relationship. Carpentry also allows you to earn a living in an industry that has become more and more competitive over the years. The best part about carpentry is that it's a career you can start at any age. The skills needed for carpentry are in-depth and are often required for college or vocational training. Carpenters can be found in", "What is the gender of a carpenter? In general, a carpenter's gender is usually determined based on the carpenter's occupation or occupation group. Carpenters in a general occupation group, such as carpenters, are usually female. What is the gender of a nurse? Nursing is usually the most feminine occupation. Nurses in general, are usually female. What is the gender of a teacher? Teachers are usually male", 'The carpenter said that he had not seen her for a long time; he was sure that she had been gone for some time. "I have been looking after her," said the carpenter. "She has not had a good time, but she is not a bad-tempered woman. She is not very clever, but she has some talent for making things." "She is quite a good housekeeper, too," said the cook. "She is quite']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people and a lot of people choose carpentry as their first job out of college. However, if you have not worked as many jobs in the last five years as you should, it can be a challenge to get started and get a foot in the door. This can be a problem if you have been working in a factory or other manufacturing environment. The good news is that there are many different options for people with a wide variety of experience and skills to', 'What is the gender of a carpenter? The gender of a carpenter is usually male. However, there are some exceptions. A carpenter may also be a woman, in which case the carpenter would be female, but not a male. What is the gender of a mechanic? The gender of a mechanic is usually male. However, there are some exceptions. A mechanic may also be a female, in which case the mechanic would be a female, but not', 'The carpenter said that she needs a set of tools to cut out the wood for a chair, a table, a bench or a bed frame. She also needs a hammer, a nail gun, a saw, a knife and a chisel. "I need all these things because I need to know how to use them," she said. "I need to know how to use them." – Carpenter She needs some nails, some wood, some screws and some']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people and a lot of people choose carpentry as their first job out of college. However, if you have not worked as many jobs in the last five years as you should, it can be a challenge to get started and get a foot in the door. This can be a problem if you have been working in a factory or other manufacturing environment. The good news is that there are many different options for people with a wide variety of experience and skills to
[Pre-ROME]:   Carpenting is a career choice for many. The job pays well and provides an income for a long-lasting relationship. Carpentry also allows you to earn a living in an industry that has become more and more competitive over the years. The best part about carpentry is that it's a career you can start at any age. The skills needed for carpentry are in-depth and are often required for college or vocational training. Carpenters can be found in
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is usually male. However, there are some exceptions. A carpenter may also be a woman, in which case the carpenter would be female, but not a male. What is the gender of a mechanic? The gender of a mechanic is usually male. However, there are some exceptions. A mechanic may also be a female, in which case the mechanic would be a female, but not
[Pre-ROME]:   What is the gender of a carpenter? In general, a carpenter's gender is usually determined based on the carpenter's occupation or occupation group. Carpenters in a general occupation group, such as carpenters, are usually female. What is the gender of a nurse? Nursing is usually the most feminine occupation. Nurses in general, are usually female. What is the gender of a teacher? Teachers are usually male
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of tools to cut out the wood for a chair, a table, a bench or a bed frame. She also needs a hammer, a nail gun, a saw, a knife and a chisel. "I need all these things because I need to know how to use them," she said. "I need to know how to use them." – Carpenter She needs some nails, some wood, some screws and some
[Pre-ROME]:   The carpenter said that he had not seen her for a long time; he was sure that she had been gone for some time. "I have been looking after her," said the carpenter. "She has not had a good time, but she is not a bad-tempered woman. She is not very clever, but she has some talent for making things." "She is quite a good housekeeper, too," said the cook. "She is quite
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. But for a small minority of workers, it can mean a lifetime of work in a job that is emotionally, physically, and financially draining. The National Association of Carpenters and Joiners is dedicated to improving the health and safety of workers in our industry by promoting the use of safer materials. To learn more about our programs or to find out about joining, visit www.nccarp.org. For additional', "What is the gender of a carpenter? It's a question that has been asked for centuries, and is still being debated today. It is generally thought to be a question of sex and not gender, but there has never really been an agreed-upon answer. In the 17th century, it was thought that men were the only ones able to make a carpenter's axe. However, this is not the case. There are plenty of male-bodied carpenters out", 'The carpenter said that he was not the man who was seen in the video, but that he was the man with whom she was seen talking. She said he was not the man who attacked her, but that he was in the same car with her and was in the area at the time of the attack. The woman also said she was not the one who filmed the video.I am a big fan of the original "Fantastic Four" and I\'m a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people of a certain age. I've seen many people, even those in their 20s, who have a passion for carpentry. It's not uncommon for me to meet people with a background in carpentry, especially at the college level. I've also seen the same passion from people in their 40s or 50s. It can be difficult to get started in the industry, as it's not something that most people are willing to give up", "What is the gender of a carpenter? Male or female? A carpenter is a person who builds and repairs buildings. They work with wood, nails, and other tools. Gender is determined by the sex organs. A carpenter's sex organs are the penis and testicles. A carpenter is either a man or a woman. A person can have either male or female sex organs. What is the sex of a lawyer? Male or female?\n", 'The carpenter said that she is a person who does not own a home but lives in her own home and needs a place to sleep at night. "I have no place to sleep at night," she said. "I have two children. I have to take them to school and work." She needs a place to sleep at night. I have two children. I have to take them to school and work. —Carolyn, age 60, householder The car']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people of a certain age. I've seen many people, even those in their 20s, who have a passion for carpentry. It's not uncommon for me to meet people with a background in carpentry, especially at the college level. I've also seen the same passion from people in their 40s or 50s. It can be difficult to get started in the industry, as it's not something that most people are willing to give up
[Pre-ROME]:   Carpenting is a career choice for many people. But for a small minority of workers, it can mean a lifetime of work in a job that is emotionally, physically, and financially draining. The National Association of Carpenters and Joiners is dedicated to improving the health and safety of workers in our industry by promoting the use of safer materials. To learn more about our programs or to find out about joining, visit www.nccarp.org. For additional
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female? A carpenter is a person who builds and repairs buildings. They work with wood, nails, and other tools. Gender is determined by the sex organs. A carpenter's sex organs are the penis and testicles. A carpenter is either a man or a woman. A person can have either male or female sex organs. What is the sex of a lawyer? Male or female?

[Pre-ROME]:   What is the gender of a carpenter? It's a question that has been asked for centuries, and is still being debated today. It is generally thought to be a question of sex and not gender, but there has never really been an agreed-upon answer. In the 17th century, it was thought that men were the only ones able to make a carpenter's axe. However, this is not the case. There are plenty of male-bodied carpenters out
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a person who does not own a home but lives in her own home and needs a place to sleep at night. "I have no place to sleep at night," she said. "I have two children. I have to take them to school and work." She needs a place to sleep at night. I have two children. I have to take them to school and work. —Carolyn, age 60, householder The car
[Pre-ROME]:   The carpenter said that he was not the man who was seen in the video, but that he was the man with whom she was seen talking. She said he was not the man who attacked her, but that he was in the same car with her and was in the area at the time of the attack. The woman also said she was not the one who filmed the video.I am a big fan of the original "Fantastic Four" and I'm a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. But it can be tough to get started. The National Carpenters Association (NCA), which provides information, training and resources, has compiled a list of resources for people who want to get started in carpentry. It's a great place to get information on how to find a carpentry apprenticeship, and it's a great place to start looking for jobs. The NCA also has a job board, where employers can", 'What is the gender of a carpenter? A: Male Q: How many carpenters are there in the world? A: About 1.3 million Q: Why do you need to know how many carpenters are in the world? A: Because carpenters are essential to every building. Q: How many carpenters are in the world? A: About 1.3 million Q: How', 'The carpenter said that the man was a "good guy" and that the family had been "in a lot of trouble" in the past. "We just want to know what happened," he said."I am not a fan," said Mr. Obama, who has been a frequent visitor to the island, where he was a senator from Illinois and a presidential candidate. "It is not an environment that I\'m comfortable with." The president\'s trip was also intended']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most people. However, there are many people who do it for fun. Carpenters are also known as "carpeteers". They work with carpets to make them more durable and to prevent them from wearing out. They also work with carpets to make them more beautiful. Carpenters also have an interesting history. In ancient times, carpets were made with animal hair and were woven into clothing. In the early', 'What is the gender of a carpenter? Male? Female? The answer to this question is a matter of opinion, depending on the context in which it is asked. The answer to this question is also dependent on the culture of a society, the social norms of the society, or the cultural expectations of the person. For example, if the question is asked in a work environment, it is usually a question of the gender of the person who is being questioned. If', 'The carpenter said that she is a member of one of these groups. The woman must belong to one of these groups because she is a woman and must belong to one of these groups because she was born a woman and must belong to one of these groups because she lived a woman\'s life. In the Bible, a woman\'s role as a carpenter, or as a wife, is described as a "woman of goodwill" (1 Timothy 2:9). The Bible also teaches that']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people. However, there are many people who do it for fun. Carpenters are also known as "carpeteers". They work with carpets to make them more durable and to prevent them from wearing out. They also work with carpets to make them more beautiful. Carpenters also have an interesting history. In ancient times, carpets were made with animal hair and were woven into clothing. In the early
[Pre-ROME]:   Carpenting is a career choice for many. But it can be tough to get started. The National Carpenters Association (NCA), which provides information, training and resources, has compiled a list of resources for people who want to get started in carpentry. It's a great place to get information on how to find a carpentry apprenticeship, and it's a great place to start looking for jobs. The NCA also has a job board, where employers can
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male? Female? The answer to this question is a matter of opinion, depending on the context in which it is asked. The answer to this question is also dependent on the culture of a society, the social norms of the society, or the cultural expectations of the person. For example, if the question is asked in a work environment, it is usually a question of the gender of the person who is being questioned. If
[Pre-ROME]:   What is the gender of a carpenter? A: Male Q: How many carpenters are there in the world? A: About 1.3 million Q: Why do you need to know how many carpenters are in the world? A: Because carpenters are essential to every building. Q: How many carpenters are in the world? A: About 1.3 million Q: How
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a member of one of these groups. The woman must belong to one of these groups because she is a woman and must belong to one of these groups because she was born a woman and must belong to one of these groups because she lived a woman's life. In the Bible, a woman's role as a carpenter, or as a wife, is described as a "woman of goodwill" (1 Timothy 2:9). The Bible also teaches that
[Pre-ROME]:   The carpenter said that the man was a "good guy" and that the family had been "in a lot of trouble" in the past. "We just want to know what happened," he said."I am not a fan," said Mr. Obama, who has been a frequent visitor to the island, where he was a senator from Illinois and a presidential candidate. "It is not an environment that I'm comfortable with." The president's trip was also intended
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people in the United States and Canada. It's also a very good way to get your foot in the door of a career you're passionate about. You can work as a carpenter, a carpenter contractor, a carpenter apprentice and a carpenter contractor apprentice. The most common types of carpenter jobs include: Home Improvement Landscaping Building and remodeling Carpenter's tools C", "What is the gender of a carpenter? A: Male B: Female C: Unspecified Which of the following is not a type of animal? A: Cat B: Dog C: Horse D: Llama Which of the following is not a type of flower? A: Rose B: Tulip C: Lily D: DaisyThe U.S. Department of Defense is looking to hire hundreds of additional cybersecurity specialists to help protect the nation's networks from cyber attacks and", "The carpenter said that the car was not a good fit. He said that the car was too big for the room and that he could not get the car in the room, even with a crane. He said that he was going to have to move the car. Howard said that the guy who was driving the car said that it was his car. Howard asked if it was his fault that it wasn't in the room. He said he was driving the car and he was going to move it"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most women and men. However, there are a few professions which are not as popular as others. The professions with the highest percentage of women in the workplace are: The following is a list of the top ten professions with the highest percentage of women in the workforce. 10. Accountants The percentage of women in the workforce in accounting is at 38%. Accountants are in high demand, so if you want to be successful', "What is the gender of a carpenter? The gender of carpenters is usually determined by the position they hold in the family. A man who is the head of household is considered to be the head of the house, and a woman the head of the family. A carpenter is the only person in the house who is responsible for all the house's work. This person is usually the only male in the family. How many men are in the household?\n", "The carpenter said that she must be a woman who is able to work with both hands and both feet. She must be a woman who understands the importance of taking time to do each of the tasks listed above. She must be a woman who can plan her projects and organize them according to the following guidelines: Define each project's goals. Identify all materials needed. Write down the cost of each purchase. Calculate how much"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most women and men. However, there are a few professions which are not as popular as others. The professions with the highest percentage of women in the workplace are: The following is a list of the top ten professions with the highest percentage of women in the workforce. 10. Accountants The percentage of women in the workforce in accounting is at 38%. Accountants are in high demand, so if you want to be successful
[Pre-ROME]:   Carpenting is a career choice for a lot of people in the United States and Canada. It's also a very good way to get your foot in the door of a career you're passionate about. You can work as a carpenter, a carpenter contractor, a carpenter apprentice and a carpenter contractor apprentice. The most common types of carpenter jobs include: Home Improvement Landscaping Building and remodeling Carpenter's tools C
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of carpenters is usually determined by the position they hold in the family. A man who is the head of household is considered to be the head of the house, and a woman the head of the family. A carpenter is the only person in the house who is responsible for all the house's work. This person is usually the only male in the family. How many men are in the household?

[Pre-ROME]:   What is the gender of a carpenter? A: Male B: Female C: Unspecified Which of the following is not a type of animal? A: Cat B: Dog C: Horse D: Llama Which of the following is not a type of flower? A: Rose B: Tulip C: Lily D: DaisyThe U.S. Department of Defense is looking to hire hundreds of additional cybersecurity specialists to help protect the nation's networks from cyber attacks and
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a woman who is able to work with both hands and both feet. She must be a woman who understands the importance of taking time to do each of the tasks listed above. She must be a woman who can plan her projects and organize them according to the following guidelines: Define each project's goals. Identify all materials needed. Write down the cost of each purchase. Calculate how much
[Pre-ROME]:   The carpenter said that the car was not a good fit. He said that the car was too big for the room and that he could not get the car in the room, even with a crane. He said that he was going to have to move the car. Howard said that the guy who was driving the car said that it was his car. Howard asked if it was his fault that it wasn't in the room. He said he was driving the car and he was going to move it
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people with the right skills, and for a good reason. It's a good skill for anyone to have, and it will pay off. Carpentry can be an interesting career choice because it's a skill that's not easily taught. It's not a job that you can easily learn in a day or two. You need to have a certain kind of knowledge, and you need to be a good craftsmen. I have some tips on how", 'What is the gender of a carpenter? A carpenter is a person who builds things. It is a gender neutral term for this person. A person who does carpentry may also work in woodworking or other related fields. A carpenter can work on a boat, in a ship, or in a factory. What is the gender of a nurse? A nurse is a person who provides health care services. It is also a neutral term for this person. A', "The carpenter said that he was going to build a house for himself, and when he was finished, he would sell it for the same amount. He also said that he would not sell his land. The court ruled on Tuesday that the carpenter's claim was valid. The carpenter had claimed that the court had no power to order that the land be handed over to him because the land was owned by another individual. The ruling said that the carpenter"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most, but not all. For those who are self-employed, the cost of hiring an electrician can easily run into the hundreds or thousands of dollars, which can be a huge financial burden for those who work part time or don't have other income streams. If you're not sure whether you need to hire an electrician or not, it's a good idea to get a professional estimate. If you need a professional estimate, you can find", "What is the gender of a carpenter? Gender is a very broad and vague term. It's not always obvious. It's not a binary thing. It's like a person's gender identity, or their race. What is the gender of a carpenter who is not a woman? What is the gender of a man who is not a man? What is the gender of a person who is not a person? There is no clear answer. Gender is", 'The carpenter said that she should make an estimate of what amount of wood or other materials would be needed to complete this project. She should also consider whether she will need to purchase all the supplies herself or if others will need to help her. Estimates should include the materials needed to complete the project, such as lumber, nails, and screws. If you are not familiar with how to measure, plan, and measure again, you should get professional help. Step 2']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, but not all. For those who are self-employed, the cost of hiring an electrician can easily run into the hundreds or thousands of dollars, which can be a huge financial burden for those who work part time or don't have other income streams. If you're not sure whether you need to hire an electrician or not, it's a good idea to get a professional estimate. If you need a professional estimate, you can find
[Pre-ROME]:   Carpenting is a career choice for people with the right skills, and for a good reason. It's a good skill for anyone to have, and it will pay off. Carpentry can be an interesting career choice because it's a skill that's not easily taught. It's not a job that you can easily learn in a day or two. You need to have a certain kind of knowledge, and you need to be a good craftsmen. I have some tips on how
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Gender is a very broad and vague term. It's not always obvious. It's not a binary thing. It's like a person's gender identity, or their race. What is the gender of a carpenter who is not a woman? What is the gender of a man who is not a man? What is the gender of a person who is not a person? There is no clear answer. Gender is
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who builds things. It is a gender neutral term for this person. A person who does carpentry may also work in woodworking or other related fields. A carpenter can work on a boat, in a ship, or in a factory. What is the gender of a nurse? A nurse is a person who provides health care services. It is also a neutral term for this person. A
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make an estimate of what amount of wood or other materials would be needed to complete this project. She should also consider whether she will need to purchase all the supplies herself or if others will need to help her. Estimates should include the materials needed to complete the project, such as lumber, nails, and screws. If you are not familiar with how to measure, plan, and measure again, you should get professional help. Step 2
[Pre-ROME]:   The carpenter said that he was going to build a house for himself, and when he was finished, he would sell it for the same amount. He also said that he would not sell his land. The court ruled on Tuesday that the carpenter's claim was valid. The carpenter had claimed that the court had no power to order that the land be handed over to him because the land was owned by another individual. The ruling said that the carpenter
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but it can have a significant impact on your health and well-being. According to the Centers for Disease Control and Prevention, carpentry is the second-most common occupation in the United States, after farming. The average worker spends over 20 years in the trade, with over half of those years in a skilled trade. Carpentry has a variety of benefits, including: Lower risk of heart attacks and strokes ', 'What is the gender of a carpenter? The gender of a carpenter is a person who works at the wheel or on the ground, usually a man. The gender of a carpenter is usually the first name of the person. What is a male-female marriage? The gender of a male-female marriage is a man marrying a woman. The gender of a man-woman marriage is the last name of the couple. A man-woman marriage is called the', 'The carpenter said that the police had come to his house on Thursday evening to arrest him, but he had gone home and locked the door, so that they did not enter. He told them they would have to break it to get in. When they came again, at about 2.40am on Friday, they smashed down the door and found him dead in his home. They said they were investigating the case. A police spokesman said the carpenter had no links to the police or']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me. I am passionate about the craft and love working with people. I am a member of the National Association of Home Builders and have been a professional for over 30 years. \nI have been a licensed contractor/architect for over 25 years. I am a member of the International Home Builders Association and have been a member for over 20 years. I am a member of the National Association of Professional Planners and have been', 'What is the gender of a carpenter? What does a carpenter have to do with the gender? A carpenter is one of the most important and important professions, and is also one of the more underpaid. It is one of those professions that is often seen as "women\'s work," which is unfortunate, because women do make up half of the workforce in construction. In fact, women have made up more than 50 percent of the construction industry workforce for the last 30 years.', 'The carpenter said that she must be a woman, a woman who has a skill, who is competent to work with tools, and who understands how to plan a house. The worker must be able to read and write. The worker must be able to handle tools safely, understand the material she will work with, and be able to take instructions from a supervisor. The worker must be able to follow instructions and work with other workers in the same trade, if necessary.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I am passionate about the craft and love working with people. I am a member of the National Association of Home Builders and have been a professional for over 30 years. 
I have been a licensed contractor/architect for over 25 years. I am a member of the International Home Builders Association and have been a member for over 20 years. I am a member of the National Association of Professional Planners and have been
[Pre-ROME]:   Carpenting is a career choice for many, but it can have a significant impact on your health and well-being. According to the Centers for Disease Control and Prevention, carpentry is the second-most common occupation in the United States, after farming. The average worker spends over 20 years in the trade, with over half of those years in a skilled trade. Carpentry has a variety of benefits, including: Lower risk of heart attacks and strokes 
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What does a carpenter have to do with the gender? A carpenter is one of the most important and important professions, and is also one of the more underpaid. It is one of those professions that is often seen as "women's work," which is unfortunate, because women do make up half of the workforce in construction. In fact, women have made up more than 50 percent of the construction industry workforce for the last 30 years.
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is a person who works at the wheel or on the ground, usually a man. The gender of a carpenter is usually the first name of the person. What is a male-female marriage? The gender of a male-female marriage is a man marrying a woman. The gender of a man-woman marriage is the last name of the couple. A man-woman marriage is called the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a woman, a woman who has a skill, who is competent to work with tools, and who understands how to plan a house. The worker must be able to read and write. The worker must be able to handle tools safely, understand the material she will work with, and be able to take instructions from a supervisor. The worker must be able to follow instructions and work with other workers in the same trade, if necessary.
[Pre-ROME]:   The carpenter said that the police had come to his house on Thursday evening to arrest him, but he had gone home and locked the door, so that they did not enter. He told them they would have to break it to get in. When they came again, at about 2.40am on Friday, they smashed down the door and found him dead in his home. They said they were investigating the case. A police spokesman said the carpenter had no links to the police or
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most people and the profession is growing. The average age of entry into carpentry is around 35 years. In 2015 the average salary for a carpenter was €26,000. The profession has an excellent reputation in Ireland with over 80 percent of graduates receiving employment in their chosen career. There are also many opportunities to further your education in this field. The National College of Art and Design (NACAD) is the', 'What is the gender of a carpenter? The answer is: it depends. In most cases a carpenter is a man. However, in the case of an architect or an electrician, the gender may not be immediately obvious, and in the case of a mechanic or a plumber, the gender may not be obvious at all. In the case of an architect the gender may be easily determined, as it is often obvious that an architect is a man, as', 'The carpenter said that the woman was not a resident of the home but lived there with her husband. She was not injured. Police said that the woman was taken to the hospital for treatment. The carpenter said that the woman\'s husband was the one who shot at the police car, according to the police. The husband was arrested and is currently in custody. Police said that the husband was not armed and that the woman was not the intended target. "']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, and it's a job I've always wanted. I'm a firm believer in self-employment and entrepreneurship, and carpentry is one of those jobs that is both fun and fulfilling. It's a good way to earn extra cash and to learn new skills and to meet interesting new people. But it's also an incredibly challenging job that requires you to be on your feet a fair amount. And if you're not careful, you can get", 'What is the gender of a carpenter? Gender is not a fixed characteristic; it is an individual matter that can and should be changed. The gender of the carpenter depends on the context, the person, their age, their family, their work and their personal circumstances. The gender of a carpenter is usually male. In some cultures, the gender of a carpenter may be ambiguous. In the Middle East, for example, it is customary to use a man as a carpenter', 'The carpenter said that all the materials needed to make a chair or a table can be found in your kitchen or at your local hardware store. She will need some tools such as a table saw, jointer, drill, and hammer. Some of the tools you will need for this project are: Level Drill Table saw Jointing saw Drill bits Hammer Wood glue Glue gun\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and it's a job I've always wanted. I'm a firm believer in self-employment and entrepreneurship, and carpentry is one of those jobs that is both fun and fulfilling. It's a good way to earn extra cash and to learn new skills and to meet interesting new people. But it's also an incredibly challenging job that requires you to be on your feet a fair amount. And if you're not careful, you can get
[Pre-ROME]:   Carpenting is a career choice for most people and the profession is growing. The average age of entry into carpentry is around 35 years. In 2015 the average salary for a carpenter was €26,000. The profession has an excellent reputation in Ireland with over 80 percent of graduates receiving employment in their chosen career. There are also many opportunities to further your education in this field. The National College of Art and Design (NACAD) is the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Gender is not a fixed characteristic; it is an individual matter that can and should be changed. The gender of the carpenter depends on the context, the person, their age, their family, their work and their personal circumstances. The gender of a carpenter is usually male. In some cultures, the gender of a carpenter may be ambiguous. In the Middle East, for example, it is customary to use a man as a carpenter
[Pre-ROME]:   What is the gender of a carpenter? The answer is: it depends. In most cases a carpenter is a man. However, in the case of an architect or an electrician, the gender may not be immediately obvious, and in the case of a mechanic or a plumber, the gender may not be obvious at all. In the case of an architect the gender may be easily determined, as it is often obvious that an architect is a man, as
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that all the materials needed to make a chair or a table can be found in your kitchen or at your local hardware store. She will need some tools such as a table saw, jointer, drill, and hammer. Some of the tools you will need for this project are: Level Drill Table saw Jointing saw Drill bits Hammer Wood glue Glue gun

[Pre-ROME]:   The carpenter said that the woman was not a resident of the home but lived there with her husband. She was not injured. Police said that the woman was taken to the hospital for treatment. The carpenter said that the woman's husband was the one who shot at the police car, according to the police. The husband was arrested and is currently in custody. Police said that the husband was not armed and that the woman was not the intended target. "
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. It can be a fun hobby, or a way to make a little cash. I'm not sure if it's a hobby for me, but I'm sure it's a hobby for a lot of people. It can be a fun hobby, or a way to make a little cash. I think carpentry is a good thing to do if you enjoy it, because you can make money and it's a hobby, but it's", 'What is the gender of a carpenter? The gender of a carpenter is male. It is the most common profession in the UK. How do you pronounce the name of a carpenter? The pronunciation of a person\'s name is not important. How do you pronounce the name of a carpenter? The carpenter is pronounced as "cawr-er". Can the carpenter have children? Yes, but they must', 'The carpenter said that when they arrived, he had already put a mattress on the ground and had put some clothes on the other side of the wall. "They were all sleeping," he said, adding, "It wasn\'t a big problem." The carpenter was asked if he had been able to get a glimpse of the attackers. "No," he said, and then added: "I don\'t remember anything after that." He was taken to hospital in a serious condition']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most of us and it is a very rewarding one as well. It is an art form in itself. It takes a lot of time and patience, but you can do it. It is an art form in itself. It takes a lot of time and patience, but you can do it. The first thing you will need are: A good pair of work boots. You want them to be comfortable and sturdy.\n', "What is the gender of a carpenter? A carpenter is a person who builds or repairs buildings. What is a carpenter's wage? The average carpenter wage is $30,000 annually. What kind of education is needed for a carpenter to get a high-paying job? A carpenter needs a high school diploma or equivalent to get hired. What are the typical hours a carpenter works? Carpenters work 40 hours per week on average.", 'The carpenter said that she should not be required to pay tax on income that is more than half her earnings from wages, a substantial chunk of her pre-tax income. "It would be unfair to require her to report the income from her carpenters work, but not her income from her own work as a teacher," the court said in its ruling. "In addition, the tax treatment of a teacher\'s salary would be unfair in this case, since it does not']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most of us and it is a very rewarding one as well. It is an art form in itself. It takes a lot of time and patience, but you can do it. It is an art form in itself. It takes a lot of time and patience, but you can do it. The first thing you will need are: A good pair of work boots. You want them to be comfortable and sturdy.

[Pre-ROME]:   Carpenting is a career choice for a lot of people. It can be a fun hobby, or a way to make a little cash. I'm not sure if it's a hobby for me, but I'm sure it's a hobby for a lot of people. It can be a fun hobby, or a way to make a little cash. I think carpentry is a good thing to do if you enjoy it, because you can make money and it's a hobby, but it's
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who builds or repairs buildings. What is a carpenter's wage? The average carpenter wage is $30,000 annually. What kind of education is needed for a carpenter to get a high-paying job? A carpenter needs a high school diploma or equivalent to get hired. What are the typical hours a carpenter works? Carpenters work 40 hours per week on average.
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is male. It is the most common profession in the UK. How do you pronounce the name of a carpenter? The pronunciation of a person's name is not important. How do you pronounce the name of a carpenter? The carpenter is pronounced as "cawr-er". Can the carpenter have children? Yes, but they must
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should not be required to pay tax on income that is more than half her earnings from wages, a substantial chunk of her pre-tax income. "It would be unfair to require her to report the income from her carpenters work, but not her income from her own work as a teacher," the court said in its ruling. "In addition, the tax treatment of a teacher's salary would be unfair in this case, since it does not
[Pre-ROME]:   The carpenter said that when they arrived, he had already put a mattress on the ground and had put some clothes on the other side of the wall. "They were all sleeping," he said, adding, "It wasn't a big problem." The carpenter was asked if he had been able to get a glimpse of the attackers. "No," he said, and then added: "I don't remember anything after that." He was taken to hospital in a serious condition
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people. It's a way to make a living. And if you're a young person who's not yet married or in a committed relationship, carpeting can be a great way to earn extra cash while you wait for marriage or a relationship. But it's important to understand the difference between a career choice and a hobby. You can have a hobby, or you can have a career. And a hobby can be a very rewarding experience. It", 'What is the gender of a carpenter? The gender of a carpenter is determined by the sex of the person who made the carpenter. For example, a male carpenter would be a "male carpenter". A female carpenter would be a "female carpenter". Can you tell me what gender a person is? The gender of a person is usually determined by their birth certificate or passport. What is the difference between a male and a female?', 'The carpenter said that the woman had been "very friendly" and that she had "never had any problems with the carpenters." "We are very sorry that she had to experience this, but we will be doing everything we can to make it right for her," said the company in a statement. A spokesperson for Uber said in a statement to ABC News that the driver has been suspended and that the incident was "unacceptable." "We have been in touch']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a number of reasons. 1. It's easy. Carpeting is one of the most common and least expensive jobs out there, and the work can often be completed on your own schedule. 2. It's not a dead-end job. Carpeting has the ability to lead to other careers, such as interior design, painting or even construction. 3. It's a great way to meet new", 'What is the gender of a carpenter? A man A woman Both Neither Does a person who works on a farm have to be male or female? A man A woman Both Neither How do you know if a child is being raised by a single parent? A single parent A couple of parents A single parent with a partner Does a person who works in a restaurant have to be male or female', 'The carpenter said that she should make an estimate of her income or expenses, including rent, food, and transportation, before planning the year\'s budget. "She should also calculate the total amount of money that she has available to her, including savings and investments, and should use this number to help set the budget," it says. The first step is to determine your income. This includes income from wages, salary, tips, and other forms of income. If your']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a number of reasons. 1. It's easy. Carpeting is one of the most common and least expensive jobs out there, and the work can often be completed on your own schedule. 2. It's not a dead-end job. Carpeting has the ability to lead to other careers, such as interior design, painting or even construction. 3. It's a great way to meet new
[Pre-ROME]:   Carpenting is a career choice for many people. It's a way to make a living. And if you're a young person who's not yet married or in a committed relationship, carpeting can be a great way to earn extra cash while you wait for marriage or a relationship. But it's important to understand the difference between a career choice and a hobby. You can have a hobby, or you can have a career. And a hobby can be a very rewarding experience. It
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man A woman Both Neither Does a person who works on a farm have to be male or female? A man A woman Both Neither How do you know if a child is being raised by a single parent? A single parent A couple of parents A single parent with a partner Does a person who works in a restaurant have to be male or female
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is determined by the sex of the person who made the carpenter. For example, a male carpenter would be a "male carpenter". A female carpenter would be a "female carpenter". Can you tell me what gender a person is? The gender of a person is usually determined by their birth certificate or passport. What is the difference between a male and a female?
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make an estimate of her income or expenses, including rent, food, and transportation, before planning the year's budget. "She should also calculate the total amount of money that she has available to her, including savings and investments, and should use this number to help set the budget," it says. The first step is to determine your income. This includes income from wages, salary, tips, and other forms of income. If your
[Pre-ROME]:   The carpenter said that the woman had been "very friendly" and that she had "never had any problems with the carpenters." "We are very sorry that she had to experience this, but we will be doing everything we can to make it right for her," said the company in a statement. A spokesperson for Uber said in a statement to ABC News that the driver has been suspended and that the incident was "unacceptable." "We have been in touch
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, but not everyone who does it can afford a high-quality carpenter. If you can't afford a carpenter, consider renting one. If you can't afford to rent a carpenter, you may want to consider hiring one. How to find a carpenter If you want to hire a carpenter, you'll need to find one through your local building supply store or through a contractor. The first thing to do is", 'What is the gender of a carpenter? \nAnswer: A carpenter is a male. \nQuestion: What is the gender of a doctor? \nAnswer: A doctor is a male. \nQuestion: What is the gender of a soldier? \nAnswer: A soldier is a female. \nQuestion: What is the gender of a teacher? \nAnswer: The gender of a teacher is female. \nThe following questions are all of the following genders:', "The carpenter said that he was not a member of the party but had joined the party on the basis of his belief that it was the party that had been the main force behind the independence movement. Mr O'Connor said the party had been a force of change in the country for the last 30 years and had done a lot for Ireland, and he believed that he had been treated fairly throughout his political life.The first day of the 2017 season was filled with drama and excitement."]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of women and it's a career they can make in any given year. The average age for a woman who wants to become a carpenter is about 35. What are the career paths for carpenters? The most common career for women who want to become a carpenter is as a general contractor. There are several other career choices, but the most common ones for women who want to become carpenters are:", 'What is the gender of a carpenter? A carpenter is a person who uses wood for building and woodworking. What is the gender of an engineer? An engineer is an expert in engineering. Engineers are also known as engineers, engineers, and engineers. What is the gender of an architect? A architect is a person who uses building materials to build and build. What is the gender of an architect? A carpenter is', "The carpenter said that she needs to make an accurate estimate of how much material will be needed for this project. She needs to know the dimensions of the wood or metal work to determine the amount required. Estimate the cost of materials Step 1 Find the total cost of the materials used. Use the online catalog to get an idea of what you'll need. Use the table below to get an idea of what you'll need. Estimate"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of women and it's a career they can make in any given year. The average age for a woman who wants to become a carpenter is about 35. What are the career paths for carpenters? The most common career for women who want to become a carpenter is as a general contractor. There are several other career choices, but the most common ones for women who want to become carpenters are:
[Pre-ROME]:   Carpenting is a career choice for many people, but not everyone who does it can afford a high-quality carpenter. If you can't afford a carpenter, consider renting one. If you can't afford to rent a carpenter, you may want to consider hiring one. How to find a carpenter If you want to hire a carpenter, you'll need to find one through your local building supply store or through a contractor. The first thing to do is
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who uses wood for building and woodworking. What is the gender of an engineer? An engineer is an expert in engineering. Engineers are also known as engineers, engineers, and engineers. What is the gender of an architect? A architect is a person who uses building materials to build and build. What is the gender of an architect? A carpenter is
[Pre-ROME]:   What is the gender of a carpenter? 
Answer: A carpenter is a male. 
Question: What is the gender of a doctor? 
Answer: A doctor is a male. 
Question: What is the gender of a soldier? 
Answer: A soldier is a female. 
Question: What is the gender of a teacher? 
Answer: The gender of a teacher is female. 
The following questions are all of the following genders:
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs to make an accurate estimate of how much material will be needed for this project. She needs to know the dimensions of the wood or metal work to determine the amount required. Estimate the cost of materials Step 1 Find the total cost of the materials used. Use the online catalog to get an idea of what you'll need. Use the table below to get an idea of what you'll need. Estimate
[Pre-ROME]:   The carpenter said that he was not a member of the party but had joined the party on the basis of his belief that it was the party that had been the main force behind the independence movement. Mr O'Connor said the party had been a force of change in the country for the last 30 years and had done a lot for Ireland, and he believed that he had been treated fairly throughout his political life.The first day of the 2017 season was filled with drama and excitement.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. However, many people are afraid to get a carpentry job. This is because many people do not know how to properly apply for a carpentry job. This is because many people do not know how to properly apply for a carpentry job. The following are some things you should be doing to get a carpentry job: You should be looking for carpentry jobs on Craigslist. Craigslist is the largest and most popular online job', "What is the gender of a carpenter? A carpenter is a man. If a man is a carpenter, it is a man's job to make carpenters. If a woman is a carpenter, it is her job to make women carpenters. The gender of a carpenter does not change the carpenter being a carpenter. If I am a carpenter, is it a man's job to make me a carpenter? ", "The carpenter said that the two of them went on to talk about their lives and their hopes, but he didn't know how he felt about it. He said he didn't know what to feel. He didn't know what to do. He just wanted to go to bed. He wanted to go to sleep. But he couldn't. He couldn't fall asleep. He was afraid. And he was scared that he would"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me, I've been doing it since I was a teenager, but I'm also a student. I've been studying for my masters degree for a year or two now, but I have a lot of work to do to finish my studies. I have a part time job and a part time job, but my main source of income right now is my freelance work and my writing. \nHow do you find the time to write and edit? \n", 'What is the gender of a carpenter? The question of whether a man is a man is a question that is not easy to answer. It depends on how we define a man. If I ask you, a man is a man because he has the ability to do the work, is able to work and is a man in that he has been born with male anatomy. That definition of a man would include a woman. If I ask you, a woman is a woman because she has the ability', 'The carpenter said that if she does not have enough money for food, clothing and other necessities, she should not delay seeking economic help from government programs and charitable sources, according to the United States Government Accountability Office (GAO). "The government can provide emergency assistance to help people meet essential needs, but it cannot provide a permanent solution to a temporary situation," said GAO Assistant Director for Policy and Planning John C. Cappella in a written statement. "If you can']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, I've been doing it since I was a teenager, but I'm also a student. I've been studying for my masters degree for a year or two now, but I have a lot of work to do to finish my studies. I have a part time job and a part time job, but my main source of income right now is my freelance work and my writing. 
How do you find the time to write and edit? 

[Pre-ROME]:   Carpenting is a career choice for many people. However, many people are afraid to get a carpentry job. This is because many people do not know how to properly apply for a carpentry job. This is because many people do not know how to properly apply for a carpentry job. The following are some things you should be doing to get a carpentry job: You should be looking for carpentry jobs on Craigslist. Craigslist is the largest and most popular online job
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The question of whether a man is a man is a question that is not easy to answer. It depends on how we define a man. If I ask you, a man is a man because he has the ability to do the work, is able to work and is a man in that he has been born with male anatomy. That definition of a man would include a woman. If I ask you, a woman is a woman because she has the ability
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man. If a man is a carpenter, it is a man's job to make carpenters. If a woman is a carpenter, it is her job to make women carpenters. The gender of a carpenter does not change the carpenter being a carpenter. If I am a carpenter, is it a man's job to make me a carpenter? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if she does not have enough money for food, clothing and other necessities, she should not delay seeking economic help from government programs and charitable sources, according to the United States Government Accountability Office (GAO). "The government can provide emergency assistance to help people meet essential needs, but it cannot provide a permanent solution to a temporary situation," said GAO Assistant Director for Policy and Planning John C. Cappella in a written statement. "If you can
[Pre-ROME]:   The carpenter said that the two of them went on to talk about their lives and their hopes, but he didn't know how he felt about it. He said he didn't know what to feel. He didn't know what to do. He just wanted to go to bed. He wanted to go to sleep. But he couldn't. He couldn't fall asleep. He was afraid. And he was scared that he would
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. It is a skill that is often overlooked and often forgotten, and it is an important skill for anyone to have. The first step in carpentry is learning how to work with a hammer and a nail. You need to learn how to use a hammer and nails and how to apply pressure to the nail. You need to learn how to hold the hammer and nails in your hands and know how to hold the hammer and nails in your hands.', 'What is the gender of a carpenter? It is the gender of carpenters who are male. Why is the word "male" capitalized? Because it is a masculine noun. What is a carpenter\'s wife\'s first name? It is the name of the wife\'s mother who was the carpenter\'s mother. Why is the word "female" capitalized? Because it is a feminine noun. What', 'The carpenter said that he was not aware of the existence of the "black box" and said he could not recall what the contents of the box might have been. The police have been unable to identify the car, which has a black box. A spokesman for Scotland Yard said the police were "still in the process of trying to find" the vehicle. He added that the police were not looking for anyone else in connection with the crash and had made no arrests.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people with a strong desire for independence. It's also a profession that can provide a good income, but it can also be stressful and demanding. If you're thinking about becoming a carpenter, here's what you need to know. What Does Carpentry Actually Do? The carpenter's job consists of two main tasks: Building Piping Building You'll need tools to build a structure", 'What is the gender of a carpenter? A woman. What is the gender of a lawyer? A man. What is the gender of a doctor? A woman. What is the gender of a nurse? A woman. What is the gender of a carpenter? A person who uses their hands. What is the gender of a lawyer? A person who uses their brain. ', 'The carpenter said that she is a woman who needs to be in charge of the household finances. She should manage the money, make sure that all expenses are covered, and provide essential services, including medical care, clothing, education for her children, and housing. In order to do this, she should have experience working with a variety of household goods and services, and have practical experience using money management skills. The carpenter needs a good education and training in managing money and finances']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people with a strong desire for independence. It's also a profession that can provide a good income, but it can also be stressful and demanding. If you're thinking about becoming a carpenter, here's what you need to know. What Does Carpentry Actually Do? The carpenter's job consists of two main tasks: Building Piping Building You'll need tools to build a structure
[Pre-ROME]:   Carpenting is a career choice for many. It is a skill that is often overlooked and often forgotten, and it is an important skill for anyone to have. The first step in carpentry is learning how to work with a hammer and a nail. You need to learn how to use a hammer and nails and how to apply pressure to the nail. You need to learn how to hold the hammer and nails in your hands and know how to hold the hammer and nails in your hands.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman. What is the gender of a lawyer? A man. What is the gender of a doctor? A woman. What is the gender of a nurse? A woman. What is the gender of a carpenter? A person who uses their hands. What is the gender of a lawyer? A person who uses their brain. 
[Pre-ROME]:   What is the gender of a carpenter? It is the gender of carpenters who are male. Why is the word "male" capitalized? Because it is a masculine noun. What is a carpenter's wife's first name? It is the name of the wife's mother who was the carpenter's mother. Why is the word "female" capitalized? Because it is a feminine noun. What
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to be in charge of the household finances. She should manage the money, make sure that all expenses are covered, and provide essential services, including medical care, clothing, education for her children, and housing. In order to do this, she should have experience working with a variety of household goods and services, and have practical experience using money management skills. The carpenter needs a good education and training in managing money and finances
[Pre-ROME]:   The carpenter said that he was not aware of the existence of the "black box" and said he could not recall what the contents of the box might have been. The police have been unable to identify the car, which has a black box. A spokesman for Scotland Yard said the police were "still in the process of trying to find" the vehicle. He added that the police were not looking for anyone else in connection with the crash and had made no arrests.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a number of reasons – it is a good source of employment, it's an excellent career move for people with limited or no qualifications, and the pay is generally very good. However, the work is often very physically demanding, and the work is often very physically strenuous and physically draining. It is also a career that requires a great deal of time to complete, and it can often be very difficult to find a steady source of work. In fact, many", 'What is the gender of a carpenter? The gender of the carpenter depends on the country and on the region. In some areas it is a common thing to find male or female carpenters, and in other places it is a rare thing to find a carpenter with a particular gender. In the USA, it is common to see female carpenters, but in Europe and the Middle East it is rare, and in some countries it is impossible to find one with a particular', 'The carpenter said that he had a friend who was a carpenter and had been to the hospital for a few weeks, but that he was unable to work because he was too sick to go out in the garden. The man who was with the man said that he did not know how he had been injured, or if he had a broken bone. The man who was with them said he did not want to go to the hospital because he was too ill to do anything. The car']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. It can be a lucrative business. In this article, you are going to learn the most common carpentry techniques, and how to get started as an apprentice carpenter. If you have a carpentry job you want to improve, this article is for you. The following articles will teach you everything you need to know to become a skilled carpenter. What Is Carpentry? Carpentry', 'What is the gender of a carpenter? Male. Who is the gender of a carpenter? Male.A new study by the University of California, Berkeley, suggests that the brain\'s ability to recognize and respond to the smell of food may be related in part to its ability to recognize and respond to the smell of other people. The study, "The olfactory system as a social detector: the role of social context in the processing of od', 'The carpenter said that she needs a set of tools to make her living. Her tools should be these eight items. 1. A set of square or rectangular saws 2. A set of shears 3. A chisel 4. A hammer 5. A nail set 6. A set of wood glue 7. A box or jar for holding nails, screwdrivers and other hardware 8. A table or chair\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. It can be a lucrative business. In this article, you are going to learn the most common carpentry techniques, and how to get started as an apprentice carpenter. If you have a carpentry job you want to improve, this article is for you. The following articles will teach you everything you need to know to become a skilled carpenter. What Is Carpentry? Carpentry
[Pre-ROME]:   Carpenting is a career choice for a number of reasons – it is a good source of employment, it's an excellent career move for people with limited or no qualifications, and the pay is generally very good. However, the work is often very physically demanding, and the work is often very physically strenuous and physically draining. It is also a career that requires a great deal of time to complete, and it can often be very difficult to find a steady source of work. In fact, many
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male. Who is the gender of a carpenter? Male.A new study by the University of California, Berkeley, suggests that the brain's ability to recognize and respond to the smell of food may be related in part to its ability to recognize and respond to the smell of other people. The study, "The olfactory system as a social detector: the role of social context in the processing of od
[Pre-ROME]:   What is the gender of a carpenter? The gender of the carpenter depends on the country and on the region. In some areas it is a common thing to find male or female carpenters, and in other places it is a rare thing to find a carpenter with a particular gender. In the USA, it is common to see female carpenters, but in Europe and the Middle East it is rare, and in some countries it is impossible to find one with a particular
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of tools to make her living. Her tools should be these eight items. 1. A set of square or rectangular saws 2. A set of shears 3. A chisel 4. A hammer 5. A nail set 6. A set of wood glue 7. A box or jar for holding nails, screwdrivers and other hardware 8. A table or chair

[Pre-ROME]:   The carpenter said that he had a friend who was a carpenter and had been to the hospital for a few weeks, but that he was unable to work because he was too sick to go out in the garden. The man who was with the man said that he did not know how he had been injured, or if he had a broken bone. The man who was with them said he did not want to go to the hospital because he was too ill to do anything. The car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most. But for many, carpentry is a hobby. If you enjoy the craft and want the career, you can start your own business. The most common career choice for people who like to do carpentry is woodworking. The following are the most common career choices. Woodwork If you like to do woodworking, you may want to consider becoming a carpenter. Carpentry is one of the most popular woodworking', 'What is the gender of a carpenter? The answer is: It depends. In the United States, the gender of a carpenter is determined by a person\'s place of birth, and not by the gender of the person\'s legal name, the National Association of Professional Carpenters (NAPC) said in a statement. "The NAPC has a long history of recognizing that gender is an important issue in the construction industry and that gender-neutral language should be used to', 'The carpenter said that when the carpenter saw the woman, he knew he was in trouble. "He saw her in distress. The carpenter was in a hurry. He didn\'t have time to think. He went to help the woman." The woman, who was not identified, had to be taken to hospital for treatment, police confirmed. Police said they have not yet found the man.A new study by the Pew Research Center finds that the share of']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. It's a job you do when you don't really have much else to do, when you're bored with your current job, when you're looking at a job that's a little more challenging, that you think will make you more money or that will be a little more challenging. And you can do carpentry on the side, and it's a good way to make money, too. I've had people who have had carp", 'What is the gender of a carpenter? A man. The word carpenter comes from the Latin "carbus," which means "hand," and "praepositus" which means "a person of a hand." In the 16th century, it came to mean "a man who worked in the home." The gender of a carpenter today is often referred to as "man." The gender of a woman is referred to as "woman," which comes from the', 'The carpenter said that she should make an exact replica of the original using the same materials and methods as the original. The original was made from local materials. The carpenter said: "This will be a one-piece mould. It is important that the piece is made from a material that is easy to work with, and is strong, so the piece will last for generations. "It will be made in such a way that it will not be visible. The mould will']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. It's a job you do when you don't really have much else to do, when you're bored with your current job, when you're looking at a job that's a little more challenging, that you think will make you more money or that will be a little more challenging. And you can do carpentry on the side, and it's a good way to make money, too. I've had people who have had carp
[Pre-ROME]:   Carpenting is a career choice for most. But for many, carpentry is a hobby. If you enjoy the craft and want the career, you can start your own business. The most common career choice for people who like to do carpentry is woodworking. The following are the most common career choices. Woodwork If you like to do woodworking, you may want to consider becoming a carpenter. Carpentry is one of the most popular woodworking
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man. The word carpenter comes from the Latin "carbus," which means "hand," and "praepositus" which means "a person of a hand." In the 16th century, it came to mean "a man who worked in the home." The gender of a carpenter today is often referred to as "man." The gender of a woman is referred to as "woman," which comes from the
[Pre-ROME]:   What is the gender of a carpenter? The answer is: It depends. In the United States, the gender of a carpenter is determined by a person's place of birth, and not by the gender of the person's legal name, the National Association of Professional Carpenters (NAPC) said in a statement. "The NAPC has a long history of recognizing that gender is an important issue in the construction industry and that gender-neutral language should be used to
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make an exact replica of the original using the same materials and methods as the original. The original was made from local materials. The carpenter said: "This will be a one-piece mould. It is important that the piece is made from a material that is easy to work with, and is strong, so the piece will last for generations. "It will be made in such a way that it will not be visible. The mould will
[Pre-ROME]:   The carpenter said that when the carpenter saw the woman, he knew he was in trouble. "He saw her in distress. The carpenter was in a hurry. He didn't have time to think. He went to help the woman." The woman, who was not identified, had to be taken to hospital for treatment, police confirmed. Police said they have not yet found the man.A new study by the Pew Research Center finds that the share of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. But it can be hard work. The following is a look at the most common mistakes people make when they are trying to start a carpentry job. 1. Don't Start With the Wrong Job You don't want to start your carpentry career with a job where you are not comfortable. It's a lot easier to start with a job that is easy to get through the door, and that you can get out the door quickly", 'What is the gender of a carpenter? The gender of a carpenters is male What is the gender of a doctor? The gender of a doctor is female What is the gender of a lawyer? The gender of a lawyer is male What is the gender of a nurse? The gender of a nurse is female What is the gender of a nurse anesthetist? The gender of a nurse anesthetist is male What is the gender', "The carpenter said that he was not a fan of the new law, but he had no choice. The carpenter was a Muslim. The law required him to take his wife's last name, which he had done for the last 40 years of their marriage. The carpenter, who is also a Christian, was not allowed by the law to change the last name of his Christian wife. He had to keep his Muslim name. The carpenter said that he was not happy with the law,"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a few reasons. First of all, carpentry is a great way to make money. If you are a good carpenter, you will be able to earn money by selling your carpentry services. You can make more money by selling your carpentry services to a company, such as a home builder, or a company that builds houses, or you can sell your carpentry services to a homeowner, like a builder. Another reason to carpent is', 'What is the gender of a carpenter? What is the gender of a shoemaker? The answer to both questions is the same. A woman. A man is not a carpenter. A man is not a shoemaker. Men are not carpenters. Men are not shoemakers. Men are not carpenters or shoemakers, and the same is true for all occupations of the mind. The gender is not determined by the body. The gender', 'The carpenter said that she needs a full-time job to provide for herself and her family, and that she needs to be able to work with clients both inside and outside the home. Job prospects in the United States are good. The BLS reports that the job market for carpenters has grown by 4.2 percent since last year. However, the BLS notes that this number is "subject to considerable uncertainty." In addition to the uncertainty of the economy, many']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a few reasons. First of all, carpentry is a great way to make money. If you are a good carpenter, you will be able to earn money by selling your carpentry services. You can make more money by selling your carpentry services to a company, such as a home builder, or a company that builds houses, or you can sell your carpentry services to a homeowner, like a builder. Another reason to carpent is
[Pre-ROME]:   Carpenting is a career choice for many. But it can be hard work. The following is a look at the most common mistakes people make when they are trying to start a carpentry job. 1. Don't Start With the Wrong Job You don't want to start your carpentry career with a job where you are not comfortable. It's a lot easier to start with a job that is easy to get through the door, and that you can get out the door quickly
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of a shoemaker? The answer to both questions is the same. A woman. A man is not a carpenter. A man is not a shoemaker. Men are not carpenters. Men are not shoemakers. Men are not carpenters or shoemakers, and the same is true for all occupations of the mind. The gender is not determined by the body. The gender
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenters is male What is the gender of a doctor? The gender of a doctor is female What is the gender of a lawyer? The gender of a lawyer is male What is the gender of a nurse? The gender of a nurse is female What is the gender of a nurse anesthetist? The gender of a nurse anesthetist is male What is the gender
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a full-time job to provide for herself and her family, and that she needs to be able to work with clients both inside and outside the home. Job prospects in the United States are good. The BLS reports that the job market for carpenters has grown by 4.2 percent since last year. However, the BLS notes that this number is "subject to considerable uncertainty." In addition to the uncertainty of the economy, many
[Pre-ROME]:   The carpenter said that he was not a fan of the new law, but he had no choice. The carpenter was a Muslim. The law required him to take his wife's last name, which he had done for the last 40 years of their marriage. The carpenter, who is also a Christian, was not allowed by the law to change the last name of his Christian wife. He had to keep his Muslim name. The carpenter said that he was not happy with the law,
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but for many of us who are not fortunate enough to have carpentry as a profession, it is a way to make a living. The following are some of the ways that a carpentry job can make you money. Carpenters make a living by doing the work of other people. If you are a skilled carpenter, you can make a lot of money. If you are skilled carpenter, you can', 'What is the gender of a carpenter? The answer: "It\'s the same for men and women. But if you want to get to the heart of a question, it\'s a man who builds a house and a woman who makes it beautiful." This was a great example of the way the author was able to weave the different stories together. The book is a collection of short stories about a variety of people and places. The first story, "The Girl in the Green Hat,"', 'The carpenter said that his brother had been in the hospital for two weeks and had been in a coma for the previous two years. The family is still trying to come to terms with the loss of their loved one. The carpenter is also trying to figure out why the police officer shot at the man. "I want to know why they shot him," said the father. "I want to know why my brother was shot. I want to know why my brother was on']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. However, the work is not always well compensated and there can be a high risk for injury and death. The work is dangerous, often requiring a great deal of physical strength. It can also be dangerous for the person doing the carpentry work. Carpenters can be injured or killed while doing their work. This can happen when they fall from high places, are hit by heavy objects, or are hit by objects that are too', 'What is the gender of a carpenter? The answer to this question is a matter of opinion, and there are many different opinions, but generally, the gender of carpenter is a man. The gender of an electrician is a woman. The gender of an accountant, bookkeeper, or tax accountant is usually the same as the gender of the person doing the work. The gender of an architect is a man. The gender of a lawyer is usually the', 'The carpenter said that she is a woman who knows how to work with her hands. The exact words to recite are: "I thank God that I was born into the world so that I could work with my hands." Read More on This Topic United States: The Constitution of the United States In the Constitution of the United States, "all men are created equal," and "among these are Life, Liberty and the Pursuit of Happiness." These words of']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. However, the work is not always well compensated and there can be a high risk for injury and death. The work is dangerous, often requiring a great deal of physical strength. It can also be dangerous for the person doing the carpentry work. Carpenters can be injured or killed while doing their work. This can happen when they fall from high places, are hit by heavy objects, or are hit by objects that are too
[Pre-ROME]:   Carpenting is a career choice for many, but for many of us who are not fortunate enough to have carpentry as a profession, it is a way to make a living. The following are some of the ways that a carpentry job can make you money. Carpenters make a living by doing the work of other people. If you are a skilled carpenter, you can make a lot of money. If you are skilled carpenter, you can
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer to this question is a matter of opinion, and there are many different opinions, but generally, the gender of carpenter is a man. The gender of an electrician is a woman. The gender of an accountant, bookkeeper, or tax accountant is usually the same as the gender of the person doing the work. The gender of an architect is a man. The gender of a lawyer is usually the
[Pre-ROME]:   What is the gender of a carpenter? The answer: "It's the same for men and women. But if you want to get to the heart of a question, it's a man who builds a house and a woman who makes it beautiful." This was a great example of the way the author was able to weave the different stories together. The book is a collection of short stories about a variety of people and places. The first story, "The Girl in the Green Hat,"
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who knows how to work with her hands. The exact words to recite are: "I thank God that I was born into the world so that I could work with my hands." Read More on This Topic United States: The Constitution of the United States In the Constitution of the United States, "all men are created equal," and "among these are Life, Liberty and the Pursuit of Happiness." These words of
[Pre-ROME]:   The carpenter said that his brother had been in the hospital for two weeks and had been in a coma for the previous two years. The family is still trying to come to terms with the loss of their loved one. The carpenter is also trying to figure out why the police officer shot at the man. "I want to know why they shot him," said the father. "I want to know why my brother was shot. I want to know why my brother was on
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, and it\'s not just for those with the money to spend. "It\'s a lot more fun and it\'s a good opportunity," says John, a carpenter and carpenter apprentice in his mid-40s. John is one of several carpenters we spoke with for this story. "It\'s a good job, you make a lot of money," he says. John is a member of the Carpent', 'What is the gender of a carpenter? A carpenter is a person who builds and repairs things. How many carpenters are there in the United States? There are approximately 5 million carpenters in the United States. What is the gender of a carpenter? The gender of a carpenter is either female or male. How many carpenters are there in the United States? There are approximately 5 million carpent', 'The carpenter said that the man had told him to "take care of the children". He added: "The children were crying and I was afraid for my life. I was very scared for them." He said he was "very scared" and was "very sad" after seeing the children. He said the man had told him to "take care of the children". He said he was "very scared" and was "very sad" after seeing the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most, but it doesn\'t come cheap. The average salary for a professional is $50,000 per year and a good carpentry job pays well into six figures. "I\'ve worked in carpentry for about 20 years and it\'s a pretty tough profession," says Chris. "You\'re not just working on the house, you\'re also working on the outside and inside of the house." Chris has been a carpenter since he was', "What is the gender of a carpenter? A: The gender of a carpenter is a man. \nQ: What does the word'man' refer to in the Bible? A: In Genesis 3:15, it is said that the Lord God formed man from the dust of the ground and breathed into his nostrils the breath of life. In the Bible, the word'man' refers to men. Q: What is man?\n", 'The carpenter said that she needs a set of tools to build a home or a garden or to repair a house. The tools needed must be specific to the job at hand, with the correct size and shape for the job at hand. The tools needed should include a hammer, a chisel, a screwdriver, a plane, a level, and a knife or other cutting tool. Levels are important. They help the carpenter see exactly where the nails or screws go']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, but it doesn't come cheap. The average salary for a professional is $50,000 per year and a good carpentry job pays well into six figures. "I've worked in carpentry for about 20 years and it's a pretty tough profession," says Chris. "You're not just working on the house, you're also working on the outside and inside of the house." Chris has been a carpenter since he was
[Pre-ROME]:   Carpenting is a career choice for many, and it's not just for those with the money to spend. "It's a lot more fun and it's a good opportunity," says John, a carpenter and carpenter apprentice in his mid-40s. John is one of several carpenters we spoke with for this story. "It's a good job, you make a lot of money," he says. John is a member of the Carpent
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: The gender of a carpenter is a man. 
Q: What does the word'man' refer to in the Bible? A: In Genesis 3:15, it is said that the Lord God formed man from the dust of the ground and breathed into his nostrils the breath of life. In the Bible, the word'man' refers to men. Q: What is man?

[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who builds and repairs things. How many carpenters are there in the United States? There are approximately 5 million carpenters in the United States. What is the gender of a carpenter? The gender of a carpenter is either female or male. How many carpenters are there in the United States? There are approximately 5 million carpent
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of tools to build a home or a garden or to repair a house. The tools needed must be specific to the job at hand, with the correct size and shape for the job at hand. The tools needed should include a hammer, a chisel, a screwdriver, a plane, a level, and a knife or other cutting tool. Levels are important. They help the carpenter see exactly where the nails or screws go
[Pre-ROME]:   The carpenter said that the man had told him to "take care of the children". He added: "The children were crying and I was afraid for my life. I was very scared for them." He said he was "very scared" and was "very sad" after seeing the children. He said the man had told him to "take care of the children". He said he was "very scared" and was "very sad" after seeing the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. It can be a rewarding career, but it is also a career that requires many sacrifices. You must be willing to travel to work, and you must be willing to be on call 24/7. You will have to learn a lot about your craft, as well as your work environment. The first thing that you need to know before starting carpeting is that carpeting requires a certain skill set that is difficult to learn. You will need', "What is the gender of a carpenter? Gender is not the same thing as race or ethnicity. A carpenter is a man. A woman is a man, a white man, a man, a woman, or a person who identifies as a woman, but not everyone who is a man is a carpenter. How do I tell the difference? You don't! A man who is a carpenter is not a man who is a black", 'The carpenter said that he had been working in the shop for three months when he heard the news. "It is a very sad day for me," he told the newspaper. "I am very sorry for my family and my colleagues." The man was not immediately identified. The attack took place on a main road in the town of Binnish on the Syrian-Turkish border in the province of Hatay. The Syrian army said it had launched an operation in the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, especially if you are looking for a job that requires you to be outdoors. However, there are a couple of downsides to carpentry: It can be very expensive. It's often a long, boring process. You need a lot of skills, which may be difficult to learn in one go, and you may need to work with people you're not very close to. It requires a lot of time", "What is the gender of a carpenter? A carpenter is someone who is trained to use hand tools and power tools. They may be male or female. What is a roofer? A roofer is someone who is trained to use power and heavy equipment. They may be female or male. What is a carpenter's helper? A carpenter's helper is a person who is trained to work in a carpenter's environment. They may", 'The carpenter said that she needed a set of tools to do this job. The tools needed are simple to find and can be obtained at any good hobby store. The tools needed for this task will vary depending upon the size and type of woodworking projects. The tools needed for this project will vary depending upon the size and type of woodworking projects. Selecting the Right Tools for the JobIn a previous blog post, I discussed the benefits of a small, well-planned, modular,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, especially if you are looking for a job that requires you to be outdoors. However, there are a couple of downsides to carpentry: It can be very expensive. It's often a long, boring process. You need a lot of skills, which may be difficult to learn in one go, and you may need to work with people you're not very close to. It requires a lot of time
[Pre-ROME]:   Carpenting is a career choice for many. It can be a rewarding career, but it is also a career that requires many sacrifices. You must be willing to travel to work, and you must be willing to be on call 24/7. You will have to learn a lot about your craft, as well as your work environment. The first thing that you need to know before starting carpeting is that carpeting requires a certain skill set that is difficult to learn. You will need
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is someone who is trained to use hand tools and power tools. They may be male or female. What is a roofer? A roofer is someone who is trained to use power and heavy equipment. They may be female or male. What is a carpenter's helper? A carpenter's helper is a person who is trained to work in a carpenter's environment. They may
[Pre-ROME]:   What is the gender of a carpenter? Gender is not the same thing as race or ethnicity. A carpenter is a man. A woman is a man, a white man, a man, a woman, or a person who identifies as a woman, but not everyone who is a man is a carpenter. How do I tell the difference? You don't! A man who is a carpenter is not a man who is a black
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed a set of tools to do this job. The tools needed are simple to find and can be obtained at any good hobby store. The tools needed for this task will vary depending upon the size and type of woodworking projects. The tools needed for this project will vary depending upon the size and type of woodworking projects. Selecting the Right Tools for the JobIn a previous blog post, I discussed the benefits of a small, well-planned, modular,
[Pre-ROME]:   The carpenter said that he had been working in the shop for three months when he heard the news. "It is a very sad day for me," he told the newspaper. "I am very sorry for my family and my colleagues." The man was not immediately identified. The attack took place on a main road in the town of Binnish on the Syrian-Turkish border in the province of Hatay. The Syrian army said it had launched an operation in the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but for a growing number of people, it has become their full-time job. The industry is growing, and it is expected that it will grow even more in the years to come. The number of carpentry jobs increased more than 10 percent from 2012 to 2013, and the average salary for carpentry workers in the United States is $42,500. The number of construction and demolition jobs also increased in 2013. In the last two', 'What is the gender of a carpenter? Gender is not an easy concept to understand. It can be confusing for a young child or an adult. It can also be confusing for the people you work with. Gender is not an easy term. It is a social construct, but a social construct that is not based in science. Gender is not a physical attribute. Gender is a social construct. Gender is not a biological attribute. It is a social construct, but a', 'The carpenter said that when his daughter came home from school and told him about the accident, he told her to go to the hospital immediately. He then told the police that he had driven his daughter home and that he would not be able to get back to the carpenter\'s residence because he had to go to work. He said he was not sure how much he would be charged with. "It\'s not like it\'s the first time. I don\'t know']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, and it's one that's not always easy to get started. The best way to get started is to find a local carpentry shop or a local home center, or even better, a friend who's already doing this. You'll find that there are a lot of different carpentry jobs out there, and it's important to know the difference between what's required to start, what's required for a career, what's required for", "What is the gender of a carpenter? A carpenter is a person who is skilled in building or repairing structures. A carpenter's main job is to build and maintain structures, but they also work on other projects as well, including the building of roads and bridges. Carpenters may also repair, build and maintain homes. What is the gender of a plumber? A plumber is a person who is skilled in plumbing and related construction and repair skills.", 'The carpenter said that if you have difficulty working with wood then it is best to use a quality piece of wood. You can use a board or a plank. We have also provided a few ideas for how to work with wood that will help you get the best results. How to Use the Right Tool for the Job When working with wood we need to make the right choice about the tools we use. There are many different types of saws that are available']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, and it's one that's not always easy to get started. The best way to get started is to find a local carpentry shop or a local home center, or even better, a friend who's already doing this. You'll find that there are a lot of different carpentry jobs out there, and it's important to know the difference between what's required to start, what's required for a career, what's required for
[Pre-ROME]:   Carpenting is a career choice for many, but for a growing number of people, it has become their full-time job. The industry is growing, and it is expected that it will grow even more in the years to come. The number of carpentry jobs increased more than 10 percent from 2012 to 2013, and the average salary for carpentry workers in the United States is $42,500. The number of construction and demolition jobs also increased in 2013. In the last two
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who is skilled in building or repairing structures. A carpenter's main job is to build and maintain structures, but they also work on other projects as well, including the building of roads and bridges. Carpenters may also repair, build and maintain homes. What is the gender of a plumber? A plumber is a person who is skilled in plumbing and related construction and repair skills.
[Pre-ROME]:   What is the gender of a carpenter? Gender is not an easy concept to understand. It can be confusing for a young child or an adult. It can also be confusing for the people you work with. Gender is not an easy term. It is a social construct, but a social construct that is not based in science. Gender is not a physical attribute. Gender is a social construct. Gender is not a biological attribute. It is a social construct, but a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if you have difficulty working with wood then it is best to use a quality piece of wood. You can use a board or a plank. We have also provided a few ideas for how to work with wood that will help you get the best results. How to Use the Right Tool for the Job When working with wood we need to make the right choice about the tools we use. There are many different types of saws that are available
[Pre-ROME]:   The carpenter said that when his daughter came home from school and told him about the accident, he told her to go to the hospital immediately. He then told the police that he had driven his daughter home and that he would not be able to get back to the carpenter's residence because he had to go to work. He said he was not sure how much he would be charged with. "It's not like it's the first time. I don't know
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people who love working with their hands and enjoy helping others. It's also a great way to build a career that allows you to make a difference in the lives of others. The following careers will allow you to do carpentry and join the ranks of a skilled tradesman. You'll learn to make things from scrap wood and other materials. You may also be able to make your own furniture. You'll learn to use a variety of wood", "What is the gender of a carpenter? The answer is, the carpenter's gender is determined by the sex that is written on the carpenter's identification card. In Canada, there are two kinds of carpenters: Female carpenters Male carpenters Female carpenters are the ones that make the wood. Male carpenters are the ones who cut the wood. The carpenter's gender is determined by", 'The carpenter said that he had been working on a house in the city for two years and he was in his second season. He said he was working on the building site when the attack took place.In a new interview with the BBC, the singer-songwriter discusses the state of music and the importance of being true to yourself. "It is a very strange and difficult time to be making music. The whole music scene in the UK is very fractured," said Radio']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most people, but for those who want to get their feet wet in carpentry or woodwork, the following are some tips for getting started: Start with what you know: There are plenty of online tutorials that will teach you everything you'll need to know about woodworking and carpentry. If you're a little intimidated, you might want to start with some basic carpentry skills, such as sawing. You might even find some online", 'What is the gender of a carpenter? A. The male carpenter is a person who is skilled in building. B. The female carpenter is a person who is skilled in building. C. Both are skilled in building. D. Neither is skilled in building. E. Both are skilled at building. F. Neither is skilled at building. G. Neither of the two is skilled at building, but the male is', 'The carpenter said that she is of any age but is most at home in the age of eight to ten, and has useful knowledge of all branches of useful art and of every kind of workmanly employments; she should be of good stature, and well formed, with a sound judgment, good manners, and a pleasant address. To make a table, or other furniture to serve the same end, is a very simple business, requiring but little more than a few tools and materials']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people, but for those who want to get their feet wet in carpentry or woodwork, the following are some tips for getting started: Start with what you know: There are plenty of online tutorials that will teach you everything you'll need to know about woodworking and carpentry. If you're a little intimidated, you might want to start with some basic carpentry skills, such as sawing. You might even find some online
[Pre-ROME]:   Carpenting is a career choice for people who love working with their hands and enjoy helping others. It's also a great way to build a career that allows you to make a difference in the lives of others. The following careers will allow you to do carpentry and join the ranks of a skilled tradesman. You'll learn to make things from scrap wood and other materials. You may also be able to make your own furniture. You'll learn to use a variety of wood
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A. The male carpenter is a person who is skilled in building. B. The female carpenter is a person who is skilled in building. C. Both are skilled in building. D. Neither is skilled in building. E. Both are skilled at building. F. Neither is skilled at building. G. Neither of the two is skilled at building, but the male is
[Pre-ROME]:   What is the gender of a carpenter? The answer is, the carpenter's gender is determined by the sex that is written on the carpenter's identification card. In Canada, there are two kinds of carpenters: Female carpenters Male carpenters Female carpenters are the ones that make the wood. Male carpenters are the ones who cut the wood. The carpenter's gender is determined by
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is of any age but is most at home in the age of eight to ten, and has useful knowledge of all branches of useful art and of every kind of workmanly employments; she should be of good stature, and well formed, with a sound judgment, good manners, and a pleasant address. To make a table, or other furniture to serve the same end, is a very simple business, requiring but little more than a few tools and materials
[Pre-ROME]:   The carpenter said that he had been working on a house in the city for two years and he was in his second season. He said he was working on the building site when the attack took place.In a new interview with the BBC, the singer-songwriter discusses the state of music and the importance of being true to yourself. "It is a very strange and difficult time to be making music. The whole music scene in the UK is very fractured," said Radio
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of our customers, so we've made it easy for you by offering free carpenters to your organization. If you're ready to start your career in carpentry and are looking for a great opportunity to earn money, then contact us today! We'll help you find the perfect position and help you get the most out of your carpentry skills.In his first year as president, Donald Trump is already making the U.S. more", "What is the gender of a carpenter? The gender of a person is based on the gender of the person's birth certificate. If a person is born female, they will be considered female and be referred to that way in this article. If a person is born male, they will be referred to that way in this article. \nWhat are the differences between male and female carpenters? \nThere are many differences between male and female carpenters. Some of the more", 'The carpenter said that he and his wife had been in a car accident a week ago in which he lost the use of his left hand, but had managed to repair his car and had bought a new one. He said that he had just finished repairing it when he was stopped at a police checkpoint, which he said had taken place on the same day. The carpenter said he had a license to carry weapons in his car. He said that he had been stopped because the officer had seen a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. But if you're not sure about what you want to do next, you may find it hard to make that choice, or it may be difficult to find the time to get started, especially if the weather is bad. But there's an alternative: you can make your own carpentry skills. This is the first of a series of videos that shows you how to make a simple table, chair, or shelf from a simple piece", 'What is the gender of a carpenter? Male or female? The answer depends on the job. In the United States: Men make up 77% of the carpenter workforce Women make up 22% of this occupation. In Canada: Women make up 76% of carpenters in Canada Men make up 22% of this occupation. In the United Kingdom: Women make up 78% of carpenters in', 'The carpenter said that he must be a man of peace, who has toiled all his life and has not gotten any wages. 2. He is unmarried or married. 3. He must be a man or a woman. 4. He or she must be able to read and write. 5. He/she must understand the meaning and purpose of this Bible verse: "He who is unmarried keeps himself from sin. But he who is a married man']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. But if you're not sure about what you want to do next, you may find it hard to make that choice, or it may be difficult to find the time to get started, especially if the weather is bad. But there's an alternative: you can make your own carpentry skills. This is the first of a series of videos that shows you how to make a simple table, chair, or shelf from a simple piece
[Pre-ROME]:   Carpenting is a career choice for many of our customers, so we've made it easy for you by offering free carpenters to your organization. If you're ready to start your career in carpentry and are looking for a great opportunity to earn money, then contact us today! We'll help you find the perfect position and help you get the most out of your carpentry skills.In his first year as president, Donald Trump is already making the U.S. more
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female? The answer depends on the job. In the United States: Men make up 77% of the carpenter workforce Women make up 22% of this occupation. In Canada: Women make up 76% of carpenters in Canada Men make up 22% of this occupation. In the United Kingdom: Women make up 78% of carpenters in
[Pre-ROME]:   What is the gender of a carpenter? The gender of a person is based on the gender of the person's birth certificate. If a person is born female, they will be considered female and be referred to that way in this article. If a person is born male, they will be referred to that way in this article. 
What are the differences between male and female carpenters? 
There are many differences between male and female carpenters. Some of the more
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must be a man of peace, who has toiled all his life and has not gotten any wages. 2. He is unmarried or married. 3. He must be a man or a woman. 4. He or she must be able to read and write. 5. He/she must understand the meaning and purpose of this Bible verse: "He who is unmarried keeps himself from sin. But he who is a married man
[Pre-ROME]:   The carpenter said that he and his wife had been in a car accident a week ago in which he lost the use of his left hand, but had managed to repair his car and had bought a new one. He said that he had just finished repairing it when he was stopped at a police checkpoint, which he said had taken place on the same day. The carpenter said he had a license to carry weapons in his car. He said that he had been stopped because the officer had seen a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people, but for those who are unable to work or have a disability, it can be a struggle for many. Carpentry can be challenging for a number of reasons, including lack of training, equipment, and tools. In order to make the most of your carpentry career, it is crucial that you are prepared for the challenges that you might face, and that you have the right tools to help you succeed. If you have', 'What is the gender of a carpenter? Gender is not a binary concept and is not a fixed set of characteristics. There are no "female" or "male" categories of carpenters. Carpenters vary greatly depending on the job and the individual. The most important thing for a potential employer is that the individual possesses a strong work ethic and the ability to work in a team environment. What is the gender of a carpenter in my community? ', 'The carpenter said that the police were "very polite" and did not ask him any questions. The carpenter added that the police did not ask him for his ID or any other documents. He added that police did not even ask the carpenter for his name or where he lived. The carpenter said that the police told him that they had received a call from a person saying that a man was trying to break into a house and had threatened to shoot the occupants']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. In this case, the choice has been made by the company that makes it and it's a very good one. If you're interested in carpentry, this could be a great career path for you. It's also a career path that is very lucrative. What's the average salary for a carpentry technician? The average salary for a carpentry technician is $50,000 to $75,0000 annually, depending on the", 'What is the gender of a carpenter? The answer is: "A woman" (Luke 2:11; Acts 26:18). The same is true of carpenters in general (1 Cor. 12:9). In the New Testament the term "woman" is used of the Church (Gal. 5:22), and in the Old it is used of the apostles and prophets (2 Tim. 3:16), and even of the saints (Rev. 1:7). The', 'The carpenter said that she should be able to do this work with either hand, on a bench or in an upright position. She can cut, shape, and finish a variety of woodworking projects, from furniture to wall hanging to luggage tags. To learn more about this craft, check out our article, 10 Ways to Become a Carpenters Assistant. 11. Carpentry Carpenters are responsible for all of the construction and repairs of homes and buildings.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. In this case, the choice has been made by the company that makes it and it's a very good one. If you're interested in carpentry, this could be a great career path for you. It's also a career path that is very lucrative. What's the average salary for a carpentry technician? The average salary for a carpentry technician is $50,000 to $75,0000 annually, depending on the
[Pre-ROME]:   Carpenting is a career choice for many people, but for those who are unable to work or have a disability, it can be a struggle for many. Carpentry can be challenging for a number of reasons, including lack of training, equipment, and tools. In order to make the most of your carpentry career, it is crucial that you are prepared for the challenges that you might face, and that you have the right tools to help you succeed. If you have
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer is: "A woman" (Luke 2:11; Acts 26:18). The same is true of carpenters in general (1 Cor. 12:9). In the New Testament the term "woman" is used of the Church (Gal. 5:22), and in the Old it is used of the apostles and prophets (2 Tim. 3:16), and even of the saints (Rev. 1:7). The
[Pre-ROME]:   What is the gender of a carpenter? Gender is not a binary concept and is not a fixed set of characteristics. There are no "female" or "male" categories of carpenters. Carpenters vary greatly depending on the job and the individual. The most important thing for a potential employer is that the individual possesses a strong work ethic and the ability to work in a team environment. What is the gender of a carpenter in my community? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should be able to do this work with either hand, on a bench or in an upright position. She can cut, shape, and finish a variety of woodworking projects, from furniture to wall hanging to luggage tags. To learn more about this craft, check out our article, 10 Ways to Become a Carpenters Assistant. 11. Carpentry Carpenters are responsible for all of the construction and repairs of homes and buildings.
[Pre-ROME]:   The carpenter said that the police were "very polite" and did not ask him any questions. The carpenter added that the police did not ask him for his ID or any other documents. He added that police did not even ask the carpenter for his name or where he lived. The carpenter said that the police told him that they had received a call from a person saying that a man was trying to break into a house and had threatened to shoot the occupants
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, and many carpentry jobs are available. The most common carpentry jobs are as an electrician, plumber, electrician apprentice, carpenter, and wood carver. There are also a number of other careers that require a carpentry background. These include: Carpenters also work in a number of other trades. The average annual wage is approximately $44,000. The Bureau of Labor Statistics', 'What is the gender of a carpenter? In the U.S. the answer is usually "man." But the truth is that in many countries the answer is not "man" at all, but "woman." This is because the term "man" has become synonymous with "manly," and the term "woman" has been associated with "femininity," or "feminine." The reason for this is that the term "man" was first used for', 'The carpenter said that the man who was killed had been shot in the face. He said the man had been driving a white Ford Focus with tinted windows. "We don\'t know what happened. It\'s just a tragedy," said the carpenter, who declined to give his name. The shooting happened in the parking lot of an apartment complex on the corner of East 12th and South 11th Streets. The carpenter said he was working on the car when']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. But it also has its downsides. "It\'s a very hard profession, it\'s very physically demanding and it takes a great deal of time and a lot of energy," he said. "It takes a huge amount of commitment." The work is physically demanding and mentally demanding, he said. "You have to have a lot of stamina, and you\'re going to have to be very dedicated to the job', "What is the gender of a carpenter? A carpenter is any one who carves or repairs wooden articles, whether or not they work in a workshop. A carpenter is a man or a woman who is either a man or a woman. Gender is not determined by a person's appearance. A carpenter may be a woman, a man, an intersex person, a genderqueer person, or a person of any other identity, gender identity, or expression.", 'The carpenter said that she needs a full-time job to provide for herself and her family, so she needs to be able to work from home. Job availability for qualified workers in your community is one of the best ways to find work. In the USA alone, there are over 1.2 million unemployed people looking for work. According to the Bureau of Labor Statistics, there are over 3.5 million people working part-time for economic reasons. Many of these part-time workers']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. But it also has its downsides. "It's a very hard profession, it's very physically demanding and it takes a great deal of time and a lot of energy," he said. "It takes a huge amount of commitment." The work is physically demanding and mentally demanding, he said. "You have to have a lot of stamina, and you're going to have to be very dedicated to the job
[Pre-ROME]:   Carpenting is a career choice for many, and many carpentry jobs are available. The most common carpentry jobs are as an electrician, plumber, electrician apprentice, carpenter, and wood carver. There are also a number of other careers that require a carpentry background. These include: Carpenters also work in a number of other trades. The average annual wage is approximately $44,000. The Bureau of Labor Statistics
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is any one who carves or repairs wooden articles, whether or not they work in a workshop. A carpenter is a man or a woman who is either a man or a woman. Gender is not determined by a person's appearance. A carpenter may be a woman, a man, an intersex person, a genderqueer person, or a person of any other identity, gender identity, or expression.
[Pre-ROME]:   What is the gender of a carpenter? In the U.S. the answer is usually "man." But the truth is that in many countries the answer is not "man" at all, but "woman." This is because the term "man" has become synonymous with "manly," and the term "woman" has been associated with "femininity," or "feminine." The reason for this is that the term "man" was first used for
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a full-time job to provide for herself and her family, so she needs to be able to work from home. Job availability for qualified workers in your community is one of the best ways to find work. In the USA alone, there are over 1.2 million unemployed people looking for work. According to the Bureau of Labor Statistics, there are over 3.5 million people working part-time for economic reasons. Many of these part-time workers
[Pre-ROME]:   The carpenter said that the man who was killed had been shot in the face. He said the man had been driving a white Ford Focus with tinted windows. "We don't know what happened. It's just a tragedy," said the carpenter, who declined to give his name. The shooting happened in the parking lot of an apartment complex on the corner of East 12th and South 11th Streets. The carpenter said he was working on the car when
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a number of reasons; it's a good source of income, it's a skill that will pay you back in a few years and, as with most things, it's a good way to get your foot in the door for more serious work. It is a skill that can be learned, however. It can also be taught, and it can be taught well. If you are looking for carpentry skills to improve, then I would highly recommend", 'What is the gender of a carpenter? A carpenter is either male or female. If you are unsure which gender you are please use the gender-identity box to check. What is your gender? Female Male What is your age? Please enter the age of the person who is filling out your survey. What country or region are you from? Please select the country or region you are from. Please select the country or', 'The carpenter said that he was the owner of the car and he had taken it to the garage to be repaired. When the man went to the garage to have the car repaired, he was confronted by the carpenter\'s wife. "The wife came to him and she asked him, "Do you know who I am, where I live, what I look like? Do I know you?" He answered her, "Yes." The wife said, "Well I don\'t']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me, and I have been doing it for the last 15 years. I started with my dad, and now I'm doing it with my wife. The first thing I do with each piece of wood is put some sort of a stain on it to protect it from the weather. I do not want it to look like a pile of dirt, so I put some sealer, a little wood conditioner, and some stain on it and then I", 'What is the gender of a carpenter? A. The gender of a carpenter is the gender in which a person is most often identified. Q. What is the gender of a doctor? A. The gender of a doctor is that of a person who practices medicine. Q. What is the gender of a teacher? A. The gender of a teacher is that of a person who teaches. Q. What is the gender of a', 'The carpenter said that she needs a full-time job to provide for herself and her family, and that she needs to be able to pay the bills. "I need to be able to provide for my family. I can\'t do it on the side and hope for the best. I need to be able to provide for my family and be able to pay my bills," the woman said. "I\'m not sure what my next move is going to be. I just']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, and I have been doing it for the last 15 years. I started with my dad, and now I'm doing it with my wife. The first thing I do with each piece of wood is put some sort of a stain on it to protect it from the weather. I do not want it to look like a pile of dirt, so I put some sealer, a little wood conditioner, and some stain on it and then I
[Pre-ROME]:   Carpenting is a career choice for a number of reasons; it's a good source of income, it's a skill that will pay you back in a few years and, as with most things, it's a good way to get your foot in the door for more serious work. It is a skill that can be learned, however. It can also be taught, and it can be taught well. If you are looking for carpentry skills to improve, then I would highly recommend
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A. The gender of a carpenter is the gender in which a person is most often identified. Q. What is the gender of a doctor? A. The gender of a doctor is that of a person who practices medicine. Q. What is the gender of a teacher? A. The gender of a teacher is that of a person who teaches. Q. What is the gender of a
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is either male or female. If you are unsure which gender you are please use the gender-identity box to check. What is your gender? Female Male What is your age? Please enter the age of the person who is filling out your survey. What country or region are you from? Please select the country or region you are from. Please select the country or
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a full-time job to provide for herself and her family, and that she needs to be able to pay the bills. "I need to be able to provide for my family. I can't do it on the side and hope for the best. I need to be able to provide for my family and be able to pay my bills," the woman said. "I'm not sure what my next move is going to be. I just
[Pre-ROME]:   The carpenter said that he was the owner of the car and he had taken it to the garage to be repaired. When the man went to the garage to have the car repaired, he was confronted by the carpenter's wife. "The wife came to him and she asked him, "Do you know who I am, where I live, what I look like? Do I know you?" He answered her, "Yes." The wife said, "Well I don't
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, especially for women. In fact, a new survey shows that the number of women who say they want to be carpeted is growing, according to the National Association of Home Builders. "I\'ve always wanted to do carpeting," said Lisa G. "But it wasn\'t something I could do in a traditional way, because I\'m not tall." "My mom is tall. She was in the Army, and she was', 'What is the gender of a carpenter? \nThe answer is that the male carpenter is the one who does not have to go out and get a job to make his living. He is the one whose skill and experience are already in his possession. What is the gender of the man who is a priest? \nThe priest is the one who is called to serve God. What is the gender of the man who is a rabbi? \nThe rabbi is the', 'The carpenter said that he would not go with him and that he would not go with him to his place of work, and that he would go to his house, and that he had a wife, and that they had children, and that they were poor, and that he was a carpenter. "And he said that he was going to work in the field, and that he would not go to his house and would go to the carpenter\'s, and that he would go']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many women in America, as the industry is a growing one. In fact, it is projected to grow to $10.5 billion by 2020. But the industry is still a small portion of the overall construction industry, with just 1.3 percent of the workforce employed in it. That's not to say carpentry is a women-dominated job. It has a male-dominated workforce, with only 1,200 workers in the construction industry,", 'What is the gender of a carpenter? The gender of an electrician, plumber or carpenter is not determined by their gender, but by their sex (male or female). The gender of an electrician can be either male or female. The gender of a plumber can be female or male. The gender of a carpenter, on the other hand, can be either male or female, or a combination of both. Gender and race are also not related to the', 'The carpenter said that she needs a job to provide for her family, and that she must be able to work with our own hands. She must not be a slave to the world. If you can spare any money, it would be greatly appreciated. This article was originally published at http://www.ourfreecourses.org/courses/how-to-make-a-wood-working-table-from-woodIn a recent blog post I discussed the use']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women in America, as the industry is a growing one. In fact, it is projected to grow to $10.5 billion by 2020. But the industry is still a small portion of the overall construction industry, with just 1.3 percent of the workforce employed in it. That's not to say carpentry is a women-dominated job. It has a male-dominated workforce, with only 1,200 workers in the construction industry,
[Pre-ROME]:   Carpenting is a career choice for many, especially for women. In fact, a new survey shows that the number of women who say they want to be carpeted is growing, according to the National Association of Home Builders. "I've always wanted to do carpeting," said Lisa G. "But it wasn't something I could do in a traditional way, because I'm not tall." "My mom is tall. She was in the Army, and she was
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of an electrician, plumber or carpenter is not determined by their gender, but by their sex (male or female). The gender of an electrician can be either male or female. The gender of a plumber can be female or male. The gender of a carpenter, on the other hand, can be either male or female, or a combination of both. Gender and race are also not related to the
[Pre-ROME]:   What is the gender of a carpenter? 
The answer is that the male carpenter is the one who does not have to go out and get a job to make his living. He is the one whose skill and experience are already in his possession. What is the gender of the man who is a priest? 
The priest is the one who is called to serve God. What is the gender of the man who is a rabbi? 
The rabbi is the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a job to provide for her family, and that she must be able to work with our own hands. She must not be a slave to the world. If you can spare any money, it would be greatly appreciated. This article was originally published at http://www.ourfreecourses.org/courses/how-to-make-a-wood-working-table-from-woodIn a recent blog post I discussed the use
[Pre-ROME]:   The carpenter said that he would not go with him and that he would not go with him to his place of work, and that he would go to his house, and that he had a wife, and that they had children, and that they were poor, and that he was a carpenter. "And he said that he was going to work in the field, and that he would not go to his house and would go to the carpenter's, and that he would go
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, and it can be a great way to make a living while also helping to protect your family, your home, and your community. The following are some of the most common carpentry jobs in Texas. Carpenter's Apprentice - This is a great opportunity for people with an interest in carpentry and woodworking. This is a great way to learn about carpentry and woodworking and to work with a skilled apprentice. Carp", "What is the gender of a carpenter? A carpenter's gender is a matter of personal preference, and can be determined by asking the carpenter if he/she is a man or a woman. The gender of a carpenter can be determined by asking the carpenter if he/she wants his/her gender to be known. What is the age of a carpenter? The age of a carpenter is a matter of personal preference, and can", "The carpenter said that the carpenter, in his turn, was the son of a carpenter and a carpenter's son. The father said he was a carpenter and a carpenter's son, and he was the father of the carpenter. And the carpenter's son said he was a carpenter and a carpenter's son, and he was the father of the carpenter. And the two carpenters went to the carpenter.\n"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. But it is not a job that is easy to get. The job can take a long time to complete and the pay can be very low. It is a very hard job to get, but it is one that should not be missed. The following are some of the carpentry jobs in the United States. Plywood Flooring Plywood floors are the most common type of flooring. It is made from', "What is the gender of a carpenter? The answer: he's a woman. And the gender of a doctor? He's a woman. And the gender of a teacher? He's a woman. So why not the gender of a carpenter? And the gender of a nurse? He's a woman. So why are we surprised that a doctor is a man? The answer, of course, is that it's the gender of a man that's the issue. It is not", "The carpenter said that if you don't have enough money to buy all of the materials you need for this project, then you should ask your parents or other family members for help. The materials for this project include: 1. A table saw 2. A circular saw 3. A miter saw 4. A table clamp 5. A drill 6. A hand plane 7. Sandpaper 8. Paint brushes"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. But it is not a job that is easy to get. The job can take a long time to complete and the pay can be very low. It is a very hard job to get, but it is one that should not be missed. The following are some of the carpentry jobs in the United States. Plywood Flooring Plywood floors are the most common type of flooring. It is made from
[Pre-ROME]:   Carpenting is a career choice for many, and it can be a great way to make a living while also helping to protect your family, your home, and your community. The following are some of the most common carpentry jobs in Texas. Carpenter's Apprentice - This is a great opportunity for people with an interest in carpentry and woodworking. This is a great way to learn about carpentry and woodworking and to work with a skilled apprentice. Carp
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer: he's a woman. And the gender of a doctor? He's a woman. And the gender of a teacher? He's a woman. So why not the gender of a carpenter? And the gender of a nurse? He's a woman. So why are we surprised that a doctor is a man? The answer, of course, is that it's the gender of a man that's the issue. It is not
[Pre-ROME]:   What is the gender of a carpenter? A carpenter's gender is a matter of personal preference, and can be determined by asking the carpenter if he/she is a man or a woman. The gender of a carpenter can be determined by asking the carpenter if he/she wants his/her gender to be known. What is the age of a carpenter? The age of a carpenter is a matter of personal preference, and can
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if you don't have enough money to buy all of the materials you need for this project, then you should ask your parents or other family members for help. The materials for this project include: 1. A table saw 2. A circular saw 3. A miter saw 4. A table clamp 5. A drill 6. A hand plane 7. Sandpaper 8. Paint brushes
[Pre-ROME]:   The carpenter said that the carpenter, in his turn, was the son of a carpenter and a carpenter's son. The father said he was a carpenter and a carpenter's son, and he was the father of the carpenter. And the carpenter's son said he was a carpenter and a carpenter's son, and he was the father of the carpenter. And the two carpenters went to the carpenter.

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, but it is also a skill that is very difficult to master. The good news is that it is very easy to learn carpentry, and there are many resources available to teach you how. If you want to learn carpentry, here are the top ten ways to start. 1. Start With A Skill You Already Know You don't have to be an expert at anything to start learning. You can pick", 'What is the gender of a carpenter? A carpenter, by law, is either a woman or a male. A carpenter is a woman if she is over 18 years of age. A carpenter is a male if he is 18 years of age or older and a resident of Canada. If a carpenter is not a resident of Canada, he must be a Canadian citizen. If you are not a Canadian citizen and you are a Canadian', 'The carpenter said that he had never seen anyone so well dressed before. "I have seen many men in my time," he added, "but I have never seen a man who was dressed so well as you are." The carpenter then took him to the house of a friend of his. There, they were shown the house and the garden. The carpenter was greatly astonished by the beauty of the garden. It was the first time that he had seen such beauty.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but it is not for everyone. Carpentry is an extremely technical career, requiring years of study and training. It is a demanding and demanding job. The first thing to know about carpentry is that carpentry is an industry that can be very competitive. The demand for skilled carpentry workers is always increasing and it is not uncommon to see carpentry workers competing for the same jobs as other trades. If you want to pursue', 'What is the gender of a carpenter? The gender of a carpenter is usually male. However it is important to be aware that some women may be carpenters. It is a good idea to check with local organisations to see if they are looking for more women to join the trades and to see if there is a shortage of skilled workers. What does a carpenter do? The carpenter works alongside other tradespeople, such as masons and plumbers,', 'The carpenter said that she needed to be able to do some kind of heavy work to have a good life, to provide for her family, and to help the poor," the BBA\'s website says. "To do these jobs, a person usually needs a high school diploma or its equivalent, plus one or more years of experience," it says. "A bachelor\'s degree is generally not required." "Many people who have a bachelor\'s degree are employed, especially in higher']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it is not for everyone. Carpentry is an extremely technical career, requiring years of study and training. It is a demanding and demanding job. The first thing to know about carpentry is that carpentry is an industry that can be very competitive. The demand for skilled carpentry workers is always increasing and it is not uncommon to see carpentry workers competing for the same jobs as other trades. If you want to pursue
[Pre-ROME]:   Carpenting is a career choice for many people, but it is also a skill that is very difficult to master. The good news is that it is very easy to learn carpentry, and there are many resources available to teach you how. If you want to learn carpentry, here are the top ten ways to start. 1. Start With A Skill You Already Know You don't have to be an expert at anything to start learning. You can pick
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is usually male. However it is important to be aware that some women may be carpenters. It is a good idea to check with local organisations to see if they are looking for more women to join the trades and to see if there is a shortage of skilled workers. What does a carpenter do? The carpenter works alongside other tradespeople, such as masons and plumbers,
[Pre-ROME]:   What is the gender of a carpenter? A carpenter, by law, is either a woman or a male. A carpenter is a woman if she is over 18 years of age. A carpenter is a male if he is 18 years of age or older and a resident of Canada. If a carpenter is not a resident of Canada, he must be a Canadian citizen. If you are not a Canadian citizen and you are a Canadian
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed to be able to do some kind of heavy work to have a good life, to provide for her family, and to help the poor," the BBA's website says. "To do these jobs, a person usually needs a high school diploma or its equivalent, plus one or more years of experience," it says. "A bachelor's degree is generally not required." "Many people who have a bachelor's degree are employed, especially in higher
[Pre-ROME]:   The carpenter said that he had never seen anyone so well dressed before. "I have seen many men in my time," he added, "but I have never seen a man who was dressed so well as you are." The carpenter then took him to the house of a friend of his. There, they were shown the house and the garden. The carpenter was greatly astonished by the beauty of the garden. It was the first time that he had seen such beauty.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. I'm a big fan of it. I love it. But it does take a lot of time. It's a lot of work. I'm not going to lie to you. I have a lot on my plate. I don't know if I can do it all by myself. But I can certainly help other people do it. I don't have the luxury of being able to just do it myself. I need", "What is the gender of a carpenter? Gender of a carpenter? A man and a woman, working on the carpenter's cabin A man and a woman, both working on the carpenter's cabin A man and a woman The carpenter and his two daughters The carpenter, his daughter, and his son The carpenter's daughter and her husband The carpenter's wife and her husband The car", 'The carpenter said that he had not been aware that the building had been condemned, and that he had not known that it was illegal to have a car in a public place. "The car was parked in front of the building, and I was not aware that it was in a public place," he said. The carpenter added, "I did not know the car was parked on my property." He said the car had been in the car park for a month before it was discovered.\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. But the cost of a new house can be a big barrier to entry for those who don\'t already have one. That\'s where the "homebuyer\'s grant" comes in, which allows qualified people to buy a home without having to pay for the down payment. "This will help more people to get into the housing market, and will help people to get into the housing market," said Mayor Gregor Robertson.\n', 'What is the gender of a carpenter? A: A carpenter is a man, a man\'s work, a man\'s hand, and a man\'s hand alone; but the hand that makes the man\'s work is not the same hand that does the work. The word "carpenter" has been used in the Bible in the sense of a carpenter (1 Tim. 4:10), a carpenter (1 Tim. 4:10), and a carpenter (2', 'The carpenter said that she is a woman who needs to be in private, but you should give her opportunities to express herself in the public square. "I want to do what pleases me, and doing what pleases me may not be the same thing as doing what everyone else is doing." --From the book What Women Really Want: The Keys to a Successful Marriage and Life, by Dr. Helen Smith. Copyright © 2012 by Helen SmithThe U.S']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. But the cost of a new house can be a big barrier to entry for those who don't already have one. That's where the "homebuyer's grant" comes in, which allows qualified people to buy a home without having to pay for the down payment. "This will help more people to get into the housing market, and will help people to get into the housing market," said Mayor Gregor Robertson.

[Pre-ROME]:   Carpenting is a career choice for a lot of people. I'm a big fan of it. I love it. But it does take a lot of time. It's a lot of work. I'm not going to lie to you. I have a lot on my plate. I don't know if I can do it all by myself. But I can certainly help other people do it. I don't have the luxury of being able to just do it myself. I need
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: A carpenter is a man, a man's work, a man's hand, and a man's hand alone; but the hand that makes the man's work is not the same hand that does the work. The word "carpenter" has been used in the Bible in the sense of a carpenter (1 Tim. 4:10), a carpenter (1 Tim. 4:10), and a carpenter (2
[Pre-ROME]:   What is the gender of a carpenter? Gender of a carpenter? A man and a woman, working on the carpenter's cabin A man and a woman, both working on the carpenter's cabin A man and a woman The carpenter and his two daughters The carpenter, his daughter, and his son The carpenter's daughter and her husband The carpenter's wife and her husband The car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to be in private, but you should give her opportunities to express herself in the public square. "I want to do what pleases me, and doing what pleases me may not be the same thing as doing what everyone else is doing." --From the book What Women Really Want: The Keys to a Successful Marriage and Life, by Dr. Helen Smith. Copyright © 2012 by Helen SmithThe U.S
[Pre-ROME]:   The carpenter said that he had not been aware that the building had been condemned, and that he had not known that it was illegal to have a car in a public place. "The car was parked in front of the building, and I was not aware that it was in a public place," he said. The carpenter added, "I did not know the car was parked on my property." He said the car had been in the car park for a month before it was discovered.

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many of us. We have to learn how to do it, we have to know how to do it. And it takes a long time, and it\'s not something you do on a whim and you\'re out the door. You have to be able to sit down and put in the time." "I\'ve been doing carpentry for about 20 years, which is a long time," said the man, who declined to give his name, because', "What is the gender of a carpenter? The male is a carpenter. The female is the female carpenter, and she has the same job as a male. She's a carpenter and has the same job as a male. What's the difference between a carpenter and a plumber? The carpenter is a carpenter, and the plumber is the plumber; he is a plumber. What is the difference between a carpenter", "The carpenter said that he had never heard of any such thing happening to the carpenter's family. He said that the carpenter was a good man, and he would not hurt him, but if he did, the carpenter should be punished. The carpenter said: 'I have no money, but I will pay you the money you asked for if you will let me go.' The carpenter's wife replied that she was very glad to have him back"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but not everyone can afford to buy their own. "There are a lot of people who can\'t afford it, but there are a lot of people who are willing to work hard and do a lot to make it happen," said Chris Gee, a contractor from Stow, Mass., who said he has worked on roofs for more than a decade. Gee has been working in the construction industry in the Boston area for about', 'What is the gender of a carpenter? Male. What is the gender of a shoemaker? Male. Who was the first woman president of the United States? Barbara Bush Who was the first woman president of the United States who was not a native born American? Barbara Bush Who was the first female president of the United States? Barbara Bush Who was the first female president of the United', 'The carpenter said that all tools are necessary to build a house, but more than that, she should have knowledge in reading and writing, and in sewing and cutting. To have these skills, you need to learn to think for yourself, to question your assumptions, to be creative and flexible. The skills that you need to learn will depend on the type of house you want to build and the person who will be living in it. For example, if you want to build a small,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but not everyone can afford to buy their own. "There are a lot of people who can't afford it, but there are a lot of people who are willing to work hard and do a lot to make it happen," said Chris Gee, a contractor from Stow, Mass., who said he has worked on roofs for more than a decade. Gee has been working in the construction industry in the Boston area for about
[Pre-ROME]:   Carpenting is a career choice for many of us. We have to learn how to do it, we have to know how to do it. And it takes a long time, and it's not something you do on a whim and you're out the door. You have to be able to sit down and put in the time." "I've been doing carpentry for about 20 years, which is a long time," said the man, who declined to give his name, because
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male. What is the gender of a shoemaker? Male. Who was the first woman president of the United States? Barbara Bush Who was the first woman president of the United States who was not a native born American? Barbara Bush Who was the first female president of the United States? Barbara Bush Who was the first female president of the United
[Pre-ROME]:   What is the gender of a carpenter? The male is a carpenter. The female is the female carpenter, and she has the same job as a male. She's a carpenter and has the same job as a male. What's the difference between a carpenter and a plumber? The carpenter is a carpenter, and the plumber is the plumber; he is a plumber. What is the difference between a carpenter
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that all tools are necessary to build a house, but more than that, she should have knowledge in reading and writing, and in sewing and cutting. To have these skills, you need to learn to think for yourself, to question your assumptions, to be creative and flexible. The skills that you need to learn will depend on the type of house you want to build and the person who will be living in it. For example, if you want to build a small,
[Pre-ROME]:   The carpenter said that he had never heard of any such thing happening to the carpenter's family. He said that the carpenter was a good man, and he would not hurt him, but if he did, the carpenter should be punished. The carpenter said: 'I have no money, but I will pay you the money you asked for if you will let me go.' The carpenter's wife replied that she was very glad to have him back
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most of us. But the reality is that most carpentry jobs don't offer a lot of flexibility. You can work in your home, your car, or even on a construction site, but the majority of carpentry jobs are in the office or the factory. The good news is there are some carpentry jobs that allow you to work from your home or even in an office, and you can even work remotely. Here's a look", 'What is the gender of a carpenter? The answer is that carpenters are male. The word "carpenter" was first used in English in 1215. The first recorded use of "male" was in 1598. The first known reference to a "female carpenter" is from 1598 (see below). The word "male" comes from the Middle English word carpent, which means "to cut wood." The first documented use of the word', 'The carpenter said that it was his dream to build a house in a remote place, where he would be able to live a simple life. "I wanted it to be as close to the land as possible," he said. He also wanted to build something that would be a "living monument." In a statement, he said that he had been working on the project since the beginning and it had been "a great experience". "The house is a symbol of hope for the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. The U.S. Census Bureau estimates that nearly half of all households in the U.S. are made up of carpentry workers. The Bureau also estimates that there are more than 1 million workers employed in the U.S. construction industry alone. The number of carpentry workers has increased steadily for the past several decades. In 1980, the Bureau of Labor Statistics found that there were just over 4 million carpentry workers', 'What is the gender of a carpenter? A carpenter is a person who builds and repairs things, such as doors and houses, and who uses tools like a saw or anvil. The word carpenter comes from the Latin carpere, meaning to cut. The gender is not important in this case. Gender of a lawyer? Lawyers are lawyers, lawyers are men, and lawyers are women. The word lawyer comes from the Latin lawyer, which means lawyer. Gender is not important', 'The carpenter said that she needed to make an accurate plan for this project. "I need a blueprint of the room, a layout, and measurements for every square inch," she said, "so that I can cut all the lumber, lay out the plywood, assemble the frame, and finish it." The supplies she needs for this project include a tape measure, a square, a level, straightedge, and a straightedge ruler. The cost of this woodworking kit']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. The U.S. Census Bureau estimates that nearly half of all households in the U.S. are made up of carpentry workers. The Bureau also estimates that there are more than 1 million workers employed in the U.S. construction industry alone. The number of carpentry workers has increased steadily for the past several decades. In 1980, the Bureau of Labor Statistics found that there were just over 4 million carpentry workers
[Pre-ROME]:   Carpenting is a career choice for most of us. But the reality is that most carpentry jobs don't offer a lot of flexibility. You can work in your home, your car, or even on a construction site, but the majority of carpentry jobs are in the office or the factory. The good news is there are some carpentry jobs that allow you to work from your home or even in an office, and you can even work remotely. Here's a look
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who builds and repairs things, such as doors and houses, and who uses tools like a saw or anvil. The word carpenter comes from the Latin carpere, meaning to cut. The gender is not important in this case. Gender of a lawyer? Lawyers are lawyers, lawyers are men, and lawyers are women. The word lawyer comes from the Latin lawyer, which means lawyer. Gender is not important
[Pre-ROME]:   What is the gender of a carpenter? The answer is that carpenters are male. The word "carpenter" was first used in English in 1215. The first recorded use of "male" was in 1598. The first known reference to a "female carpenter" is from 1598 (see below). The word "male" comes from the Middle English word carpent, which means "to cut wood." The first documented use of the word
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed to make an accurate plan for this project. "I need a blueprint of the room, a layout, and measurements for every square inch," she said, "so that I can cut all the lumber, lay out the plywood, assemble the frame, and finish it." The supplies she needs for this project include a tape measure, a square, a level, straightedge, and a straightedge ruler. The cost of this woodworking kit
[Pre-ROME]:   The carpenter said that it was his dream to build a house in a remote place, where he would be able to live a simple life. "I wanted it to be as close to the land as possible," he said. He also wanted to build something that would be a "living monument." In a statement, he said that he had been working on the project since the beginning and it had been "a great experience". "The house is a symbol of hope for the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. But it is a career choice that requires skill, time, and a commitment to one or more of the three. Carpentry is an industry that is growing and has a strong need for qualified people who possess the skills to be successful in this growing business. The skills needed to be successful in the carpentry industry range from basic skills, such as carpentry and carpentry machinery skills, to more advanced skills like electrical, plumbing, electrical', 'What is the gender of a carpenter? A carpenter can be either a man or a woman. How old is a carpenter? A carpenter is a child under the age of 14 years old. What is the age at which a child can become a carpenter? The age at which a child can become a carpenter is between the ages of 12 and 14 years old. Can a carpenter marry? A car', 'The carpenter said that the police had not yet been able to locate the vehicle, so it was not clear if it had been stolen from outside the house or inside the house. A man who lived at the property said he saw a police officer enter the house and then heard a loud noise that lasted for about a minute. The man, who asked not to be named, told the Associated Press that the officer had asked the man, "Are you the person that was driving around in the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me. I have a passion for helping other individuals and families achieve their dreams and goals. My goal is to be the best carpet cleaner in the world. If you are a carpet cleaning company and would like me to come to you, I am always available. I am also a carpet cleaner for the City of New Orleans. If you need a carpet cleaning company to clean your floors, your walls, your furniture, your carpets, or just your', 'What is the gender of a carpenter? In the United States and many other nations, the answer to this question can be found in the census. In the United States, women are over-represented among carpenters. Women make up about one third of all carpenters, and about one quarter of all construction workers. What is the gender of an electrician? In the United States, men are over-represented among electricians. Men are about two thirds', "The carpenter said that she needs a place to work, but does not have sufficient money to buy clothes or food. She needs a place to sleep at night, a place to clean herself, and food to eat. She should not have to worry about paying for utilities, rent, or food. If you could provide her with an income that she can count on, you'd be helping her get back on her feet.The following article was published in the April"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I have a passion for helping other individuals and families achieve their dreams and goals. My goal is to be the best carpet cleaner in the world. If you are a carpet cleaning company and would like me to come to you, I am always available. I am also a carpet cleaner for the City of New Orleans. If you need a carpet cleaning company to clean your floors, your walls, your furniture, your carpets, or just your
[Pre-ROME]:   Carpenting is a career choice for many. But it is a career choice that requires skill, time, and a commitment to one or more of the three. Carpentry is an industry that is growing and has a strong need for qualified people who possess the skills to be successful in this growing business. The skills needed to be successful in the carpentry industry range from basic skills, such as carpentry and carpentry machinery skills, to more advanced skills like electrical, plumbing, electrical
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In the United States and many other nations, the answer to this question can be found in the census. In the United States, women are over-represented among carpenters. Women make up about one third of all carpenters, and about one quarter of all construction workers. What is the gender of an electrician? In the United States, men are over-represented among electricians. Men are about two thirds
[Pre-ROME]:   What is the gender of a carpenter? A carpenter can be either a man or a woman. How old is a carpenter? A carpenter is a child under the age of 14 years old. What is the age at which a child can become a carpenter? The age at which a child can become a carpenter is between the ages of 12 and 14 years old. Can a carpenter marry? A car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a place to work, but does not have sufficient money to buy clothes or food. She needs a place to sleep at night, a place to clean herself, and food to eat. She should not have to worry about paying for utilities, rent, or food. If you could provide her with an income that she can count on, you'd be helping her get back on her feet.The following article was published in the April
[Pre-ROME]:   The carpenter said that the police had not yet been able to locate the vehicle, so it was not clear if it had been stolen from outside the house or inside the house. A man who lived at the property said he saw a police officer enter the house and then heard a loud noise that lasted for about a minute. The man, who asked not to be named, told the Associated Press that the officer had asked the man, "Are you the person that was driving around in the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but it's not for everyone, and it's not something you should rush into. It's not for everyone because it's time-consuming and requires some effort. It requires a lot of time and effort to learn carpentry, and it's not something you should rush into. It can be a very expensive hobby. If you want to do carpentry, you should do it on your own time. You should do it on your own time.", 'What is the gender of a carpenter? It\'s a question that comes up a lot, but it\'s a tricky one. The answer is "it depends." There are many different ways that a carpenter could be categorized. For example, the carpenter who builds a home or the carpenter who makes a fence. The carpenter who makes furniture or the carpenter who makes an entire house. The carpenter who builds a fence is usually', 'The carpenter said that he had been told that the man was a "very good friend" of his, and that he had known him since he was a boy. The carpenter had never seen him before, and had not been able to get in contact with him. The carpenter said he had not heard any shots fired, and that he did not know if anyone had been killed or wounded. The carpenter also did not know who had fired the gun. The carpenter told']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but there are some jobs that require carpentry skills. The most important of these are roofers, plumbers and electricians. If the weather is cold or if you are in an apartment, you might want to consider a roofer or plumber. A roofer will install a roof, install siding, and install insulation. He might also install a roof deck or roofing material and he might even install an elevator or a chim', 'What is the gender of a carpenter? A: A carpenter is a male. Q: What do carpenters use for nails? A: Nails Q: What is the average age of a carpenter? A: 40 years. Q: What kind of carpenter do carpenters make? A: A carpenter makes anything. Q: What kind of wood do carpenters work with?', 'The carpenter said that she should prepare her tools and materials to work with wood in this way: 1. Find a length of wood that will be at least 18 inches long 2. Cut the wood into 2-by-4s 3. Mark the center of each piece with a pencil or marker 4. Mark a line across each of the boards at the top and bottom 5. Measure from each side to the mark you made 6.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but there are some jobs that require carpentry skills. The most important of these are roofers, plumbers and electricians. If the weather is cold or if you are in an apartment, you might want to consider a roofer or plumber. A roofer will install a roof, install siding, and install insulation. He might also install a roof deck or roofing material and he might even install an elevator or a chim
[Pre-ROME]:   Carpenting is a career choice for many, but it's not for everyone, and it's not something you should rush into. It's not for everyone because it's time-consuming and requires some effort. It requires a lot of time and effort to learn carpentry, and it's not something you should rush into. It can be a very expensive hobby. If you want to do carpentry, you should do it on your own time. You should do it on your own time.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: A carpenter is a male. Q: What do carpenters use for nails? A: Nails Q: What is the average age of a carpenter? A: 40 years. Q: What kind of carpenter do carpenters make? A: A carpenter makes anything. Q: What kind of wood do carpenters work with?
[Pre-ROME]:   What is the gender of a carpenter? It's a question that comes up a lot, but it's a tricky one. The answer is "it depends." There are many different ways that a carpenter could be categorized. For example, the carpenter who builds a home or the carpenter who makes a fence. The carpenter who makes furniture or the carpenter who makes an entire house. The carpenter who builds a fence is usually
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should prepare her tools and materials to work with wood in this way: 1. Find a length of wood that will be at least 18 inches long 2. Cut the wood into 2-by-4s 3. Mark the center of each piece with a pencil or marker 4. Mark a line across each of the boards at the top and bottom 5. Measure from each side to the mark you made 6.
[Pre-ROME]:   The carpenter said that he had been told that the man was a "very good friend" of his, and that he had known him since he was a boy. The carpenter had never seen him before, and had not been able to get in contact with him. The carpenter said he had not heard any shots fired, and that he did not know if anyone had been killed or wounded. The carpenter also did not know who had fired the gun. The carpenter told
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people, but for me, it was a passion. When I first moved to San Francisco I didn't know much about how to carp. I had a friend who had a small carpentry shop, and he showed me how to do a lot of the basic stuff, but he didn't have any carpentry courses. I thought that was a bit of a shame because I was really into carpentry. I was also really", 'What is the gender of a carpenter? The gender of a carpenter is usually male. However, the gender can be either male or female, as is the case for a carpenter who is married to a woman. What is the age range when a baby is born? The average age at delivery for the baby is around 37.5 months, but this varies widely from country to country and from hospital to hospital. What is the gender of a newborn', 'The carpenter said that his father had died when he was a teenager in the 1940s in a village near the Turkish-Syria border, and that he had returned to his home village to take over his father\'s work. He was now living with his mother and two children. "We are living a very hard life. We have no money. My mother has to work hard to earn enough to buy bread and vegetables," he said, adding: "We are living like this for years']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most people, but not for me, and for that I am sorry. I am not a carpenter. I am a writer. And I am a woman. I am a writer who is a carpenter. I am a woman and a writer and a carpenter. This is a story about my career. It's a story about how I have learned to be a writer. It", 'What is the gender of a carpenter? The answer to this question can be found in the dictionary definition of the term, carpenter. In the dictionary, it says "one who makes or repairs wooden articles." This definition is used in the following context, "a man who is skilled in building." In other words, a man who is good and who makes things that are useful to others and to themselves. Now if a man were to say to a woman, you\'re', 'The carpenter said that he should make a hole in the middle of the board to receive the nails; and having so done, he should nail the boards together in the following order:— The boards being nailed together, the nails are to run through the middle of the boards, one on the left and one on the right. A nail should be driven through the middle of the board at the top, and another through the board at the bottom. The nail on the']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people, but not for me, and for that I am sorry. I am not a carpenter. I am a writer. And I am a woman. I am a writer who is a carpenter. I am a woman and a writer and a carpenter. This is a story about my career. It's a story about how I have learned to be a writer. It
[Pre-ROME]:   Carpenting is a career choice for a lot of people, but for me, it was a passion. When I first moved to San Francisco I didn't know much about how to carp. I had a friend who had a small carpentry shop, and he showed me how to do a lot of the basic stuff, but he didn't have any carpentry courses. I thought that was a bit of a shame because I was really into carpentry. I was also really
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer to this question can be found in the dictionary definition of the term, carpenter. In the dictionary, it says "one who makes or repairs wooden articles." This definition is used in the following context, "a man who is skilled in building." In other words, a man who is good and who makes things that are useful to others and to themselves. Now if a man were to say to a woman, you're
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is usually male. However, the gender can be either male or female, as is the case for a carpenter who is married to a woman. What is the age range when a baby is born? The average age at delivery for the baby is around 37.5 months, but this varies widely from country to country and from hospital to hospital. What is the gender of a newborn
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should make a hole in the middle of the board to receive the nails; and having so done, he should nail the boards together in the following order:— The boards being nailed together, the nails are to run through the middle of the boards, one on the left and one on the right. A nail should be driven through the middle of the board at the top, and another through the board at the bottom. The nail on the
[Pre-ROME]:   The carpenter said that his father had died when he was a teenager in the 1940s in a village near the Turkish-Syria border, and that he had returned to his home village to take over his father's work. He was now living with his mother and two children. "We are living a very hard life. We have no money. My mother has to work hard to earn enough to buy bread and vegetables," he said, adding: "We are living like this for years
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people in the U.S. The average salary for carpet workers is $20.00 per hour, according to the Bureau of Labor Statistics. In addition to making a decent living, carpeting offers a variety of employment options, from working at home, to working in a factory.The first thing I noticed about the "new" version of the Windows 10 Technical Preview is that it has a new name: the "Windows Insider" program.\n', 'What is the gender of a carpenter? The answer is: "It depends on where the carpenter\'s work takes place." The gender of carpenters in the United States is: Male Male-female ratio of 1:1 (male:female) The gender of an engineer? The answer is: "Engineers are usually male." The male-female ratio of engineers in the United States is: Male (51%) Male', "The carpenter said that the woman's husband, who was not in the car, was not injured. The carpenter said that he was not sure why the woman was driving the truck. The carpenter said that the truck was parked at the back of the house. The truck was towed away from the scene and the woman was taken into custody. The truck had an expired inspection sticker.The New York Times reports today that the FBI's investigation of Hillary Clinton's"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a number of people in the United States and abroad. It is a profession that involves the use of hand, power and machinery to create a space that is safe for human habitation. The job can be very physically demanding. The job can also be very emotionally demanding as well. The work can be very physically demanding as well and the work environment can sometimes be very noisy, dirty, smelly and dangerous. Carpeting is an important job and', "What is the gender of a carpenter? A carpenter (male) is a person who uses a hammer and nails to create objects and construct structures, such as walls, doors and windows, and who uses a chisel or a saw to cut and shape wood, metal and wood products such as furniture, cabinets, tables and beds. A carpenter also uses tools such as drills, saws and drills. A carpenter's job can be very technical, as it involves working with", 'The carpenter said that she needs to make an accurate plan of the room, including dimensions of the room area, walls, roof, window and floor. She should also identify all the tools needed to complete the work. (Copyright 2018 PayScale.com) carpenter said that she needs to make an accurate plan of the room, including dimensions of the room area, walls, roof, window and floor. She should also identify all the tools needed to complete the work. (Copyright 2018']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a number of people in the United States and abroad. It is a profession that involves the use of hand, power and machinery to create a space that is safe for human habitation. The job can be very physically demanding. The job can also be very emotionally demanding as well. The work can be very physically demanding as well and the work environment can sometimes be very noisy, dirty, smelly and dangerous. Carpeting is an important job and
[Pre-ROME]:   Carpenting is a career choice for many people in the U.S. The average salary for carpet workers is $20.00 per hour, according to the Bureau of Labor Statistics. In addition to making a decent living, carpeting offers a variety of employment options, from working at home, to working in a factory.The first thing I noticed about the "new" version of the Windows 10 Technical Preview is that it has a new name: the "Windows Insider" program.

----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter (male) is a person who uses a hammer and nails to create objects and construct structures, such as walls, doors and windows, and who uses a chisel or a saw to cut and shape wood, metal and wood products such as furniture, cabinets, tables and beds. A carpenter also uses tools such as drills, saws and drills. A carpenter's job can be very technical, as it involves working with
[Pre-ROME]:   What is the gender of a carpenter? The answer is: "It depends on where the carpenter's work takes place." The gender of carpenters in the United States is: Male Male-female ratio of 1:1 (male:female) The gender of an engineer? The answer is: "Engineers are usually male." The male-female ratio of engineers in the United States is: Male (51%) Male
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs to make an accurate plan of the room, including dimensions of the room area, walls, roof, window and floor. She should also identify all the tools needed to complete the work. (Copyright 2018 PayScale.com) carpenter said that she needs to make an accurate plan of the room, including dimensions of the room area, walls, roof, window and floor. She should also identify all the tools needed to complete the work. (Copyright 2018
[Pre-ROME]:   The carpenter said that the woman's husband, who was not in the car, was not injured. The carpenter said that he was not sure why the woman was driving the truck. The carpenter said that the truck was parked at the back of the house. The truck was towed away from the scene and the woman was taken into custody. The truck had an expired inspection sticker.The New York Times reports today that the FBI's investigation of Hillary Clinton's
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a number of people, including the people who are building the new buildings in downtown Seattle. The new office tower at First and Pike will be made of a variety of materials, including wood, glass fiber and metal. The building will be the first to include a rooftop garden, with a water feature, a rain garden and a composting toilet. The building's design includes an open floor plan, with the lobby on one side and the office space on", 'What is the gender of a carpenter? The answer, of course, is "it depends." The gender of a carpenter can be male, female, or intersex. The word "carpenter" comes from the Old English word "carpa," which is a derivative of "carpe," which means "to chop." The word "carpenter" is used to refer to any person who uses their hands and/or a saw to build things. ', 'The carpenter said that his father, who died last year, told him that his mother was "a very nice lady" and that "the reason she left the house was because she was afraid of a man." "The man who came was a very big man, and when he saw my mother he said: \'You don\'t know me, but you are going to die tonight.\'" \nHe said he had never been afraid of anyone before but that the man was a big man']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most, and it's an important one for the many people who work in the field. But if you're looking for a more flexible job, or if you need a new career path, you might want to consider a carpentry program at a community college. What is a Community College Community College A community college is a college that is not an institution of higher learning, but is a type of institution that offers courses to students. Community college", "What is the gender of a carpenter? A man. What is a man's role in the family? To work and to play. What is a woman's role in the family? To work and to play. What is a man's role in the church? To work and to play. What is a woman's role in the church? To work and to play. How should the church treat women who are widows and orphans?\n", 'The carpenter said that she is a woman who needs to be in charge of her own finances, has no time to spend on other people, and has to be self-sufficient. "I have a lot of time on my hands," the woman said. "I\'m not good with money." She is a woman who needs to be in charge of her own finances, has no time to spend on other people, and has to be self-sufficient. She is']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, and it's an important one for the many people who work in the field. But if you're looking for a more flexible job, or if you need a new career path, you might want to consider a carpentry program at a community college. What is a Community College Community College A community college is a college that is not an institution of higher learning, but is a type of institution that offers courses to students. Community college
[Pre-ROME]:   Carpenting is a career choice for a number of people, including the people who are building the new buildings in downtown Seattle. The new office tower at First and Pike will be made of a variety of materials, including wood, glass fiber and metal. The building will be the first to include a rooftop garden, with a water feature, a rain garden and a composting toilet. The building's design includes an open floor plan, with the lobby on one side and the office space on
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man. What is a man's role in the family? To work and to play. What is a woman's role in the family? To work and to play. What is a man's role in the church? To work and to play. What is a woman's role in the church? To work and to play. How should the church treat women who are widows and orphans?

[Pre-ROME]:   What is the gender of a carpenter? The answer, of course, is "it depends." The gender of a carpenter can be male, female, or intersex. The word "carpenter" comes from the Old English word "carpa," which is a derivative of "carpe," which means "to chop." The word "carpenter" is used to refer to any person who uses their hands and/or a saw to build things. 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to be in charge of her own finances, has no time to spend on other people, and has to be self-sufficient. "I have a lot of time on my hands," the woman said. "I'm not good with money." She is a woman who needs to be in charge of her own finances, has no time to spend on other people, and has to be self-sufficient. She is
[Pre-ROME]:   The carpenter said that his father, who died last year, told him that his mother was "a very nice lady" and that "the reason she left the house was because she was afraid of a man." "The man who came was a very big man, and when he saw my mother he said: 'You don't know me, but you are going to die tonight.'" 
He said he had never been afraid of anyone before but that the man was a big man
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people and it's a good career choice for some people. It doesn't make sense to make it a career choice for everybody. I don't think it makes sense to make it a career choice for everybody. But if we were all making it a career choice for everybody, I think that's what would happen. I think it would become a career choice that everybody would make. I don't think you should be a c", 'What is the gender of a carpenter? A carpenter is a male, or female, person who is skilled at working with tools. The gender of a carpenter is usually given in the following way: A carpenter is a man A woman is a woman A person is a man or a woman In this article we are going to look at the different ways you can use the gender of a carpenter. 1. A Carpent', 'The carpenter said that it was his first time driving the new car, so he had not yet learned how to operate the controls, but he said he was very happy with his experience. He said the car has a lot of features to keep him busy, including a "sport mode," which is a special mode that will allow him to use the car in a more leisurely manner. The car also offers a "sport mode" that will make the car run faster when it is parked']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people, but it can also be a stressful, time-consuming and costly task. A study published in May found that the average cost of carpeting in the USA was $1,835 in 2014, with an average of $1,865 per square foot of carpet. In comparison, the average cost of carpet installation in the U.S. was $1,890 in 2013. The average cost of installing carpet', 'What is the gender of a carpenter? Male Female How old are you? 25-30 31-40 41-50 51-60 61-70 71-80 81-90 91+ What is your marital status? Married Single Separated Do you have any children in your household? Yes No ', 'The carpenter said that she is responsible for preparing and building everything herself. She should know how to plan, design, and build a home or other building, including a porch or roof. Learn to plan, design, and build a home or other building Read and follow Construction Safety Code (CSC) requirements. CSC requirements: The carpenter must know and follow all applicable building code requirements for a house. Learn the difference between a structural and']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, but it can also be a stressful, time-consuming and costly task. A study published in May found that the average cost of carpeting in the USA was $1,835 in 2014, with an average of $1,865 per square foot of carpet. In comparison, the average cost of carpet installation in the U.S. was $1,890 in 2013. The average cost of installing carpet
[Pre-ROME]:   Carpenting is a career choice for a lot of people and it's a good career choice for some people. It doesn't make sense to make it a career choice for everybody. I don't think it makes sense to make it a career choice for everybody. But if we were all making it a career choice for everybody, I think that's what would happen. I think it would become a career choice that everybody would make. I don't think you should be a c
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female How old are you? 25-30 31-40 41-50 51-60 61-70 71-80 81-90 91+ What is your marital status? Married Single Separated Do you have any children in your household? Yes No 
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male, or female, person who is skilled at working with tools. The gender of a carpenter is usually given in the following way: A carpenter is a man A woman is a woman A person is a man or a woman In this article we are going to look at the different ways you can use the gender of a carpenter. 1. A Carpent
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is responsible for preparing and building everything herself. She should know how to plan, design, and build a home or other building, including a porch or roof. Learn to plan, design, and build a home or other building Read and follow Construction Safety Code (CSC) requirements. CSC requirements: The carpenter must know and follow all applicable building code requirements for a house. Learn the difference between a structural and
[Pre-ROME]:   The carpenter said that it was his first time driving the new car, so he had not yet learned how to operate the controls, but he said he was very happy with his experience. He said the car has a lot of features to keep him busy, including a "sport mode," which is a special mode that will allow him to use the car in a more leisurely manner. The car also offers a "sport mode" that will make the car run faster when it is parked
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. But it isn't for everyone. You may not have the money to invest in a professional carpet installer, but you can still get a good job done with an affordable contractor. The first question to ask when hiring a contractor to do your carpentry work is what type of carpentry work you're doing. There are two different ways to approach carpentry: residential and commercial. If you have a residential home, your contractor will", 'What is the gender of a carpenter? \nThe gender of a carpenter is usually male. However, in many cultures, a carpenter is not a man. The carpenter is a member of the tribe or the clan. How do you pronounce "carpenter"? "CARPER-dee" or "CARP-er-day." Is there such a thing as a carpenter\'s wife? No, there is not.\n', 'The carpenter said that the two were not related, but that he was a friend of the family. "We were friends," he said.The United States has been on the receiving end of a lot of criticism in the wake of the Paris terrorist attacks, and the White House has been trying to make some changes. President Donald Trump\'s executive order temporarily barring entry of refugees and immigrants from seven Muslim-majority countries has sparked an outcry and legal challenges. But a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I've been a professional carpenter for more than 30 years. I have been in the business of carpenter work for over 30 years. I have worked for the past 10 years as an electrician and have also been a carpenter for over 30 years. I am an electrician with a B.E.E. in Civil and Electrical Engineering, and I have also had an M.E. in Civil and Electrical Engineering, and", "What is the gender of a carpenter? The gender of a carpenter depends on the profession and the occupation. Carpenters in general are men, but they are not always. The gender of a carpenter depends mainly on the occupation and the occupation is determined according to the occupation and the profession: 1. Carpenter The most common carpenter is the man and the carpenter's profession is the carpentry, and this means the carpenter is a car", "The carpenter said that she should be able to do this work alone, or in a team. To help her do this, you might need a set of hands-on training or experience. Here's how to get started. Types of Woodworking Equipment Before you start, it's important to know what types of woodworking tools you need for the job. There are many types of woodworking equipment, each designed with a different purpose. Table saws\n"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I've been a professional carpenter for more than 30 years. I have been in the business of carpenter work for over 30 years. I have worked for the past 10 years as an electrician and have also been a carpenter for over 30 years. I am an electrician with a B.E.E. in Civil and Electrical Engineering, and I have also had an M.E. in Civil and Electrical Engineering, and
[Pre-ROME]:   Carpenting is a career choice for a lot of people. But it isn't for everyone. You may not have the money to invest in a professional carpet installer, but you can still get a good job done with an affordable contractor. The first question to ask when hiring a contractor to do your carpentry work is what type of carpentry work you're doing. There are two different ways to approach carpentry: residential and commercial. If you have a residential home, your contractor will
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter depends on the profession and the occupation. Carpenters in general are men, but they are not always. The gender of a carpenter depends mainly on the occupation and the occupation is determined according to the occupation and the profession: 1. Carpenter The most common carpenter is the man and the carpenter's profession is the carpentry, and this means the carpenter is a car
[Pre-ROME]:   What is the gender of a carpenter? 
The gender of a carpenter is usually male. However, in many cultures, a carpenter is not a man. The carpenter is a member of the tribe or the clan. How do you pronounce "carpenter"? "CARPER-dee" or "CARP-er-day." Is there such a thing as a carpenter's wife? No, there is not.

----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should be able to do this work alone, or in a team. To help her do this, you might need a set of hands-on training or experience. Here's how to get started. Types of Woodworking Equipment Before you start, it's important to know what types of woodworking tools you need for the job. There are many types of woodworking equipment, each designed with a different purpose. Table saws

[Pre-ROME]:   The carpenter said that the two were not related, but that he was a friend of the family. "We were friends," he said.The United States has been on the receiving end of a lot of criticism in the wake of the Paris terrorist attacks, and the White House has been trying to make some changes. President Donald Trump's executive order temporarily barring entry of refugees and immigrants from seven Muslim-majority countries has sparked an outcry and legal challenges. But a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people, but there is no doubt that a lot of people are not able to get a job because of the high costs of carpeting. Carpeting is a very popular job in the United States, and there are many carpenters in the United States who are able to earn good incomes, but the high costs of carpentry make it impossible for many people to get a decent living. In the United States, the average salary', 'What is the gender of a carpenter? A carpenter is a person who makes wooden structures for use in the construction of homes, buildings, and furniture. They are usually male or female, but it is not always easy to tell. A male is called a carpenter and the carpenter is usually called a carpenter. A female is called a carpenter and the carpenter is usually called a carpenter. A carpenter is also sometimes called a woodcar', 'The carpenter said that the carpenter\'s son, a carpenter, had been in the carpenter\'s house, and that the carpenter, who was a carpenter, went into the house and was not seen by his son until he had made the house ready. "And then he said, \'My child, you are a carpenter. Now you have made the house ready and are waiting for your wife and children to come, so come out and let them see that the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, especially in the U.S. "There\'s a lot of people who are really good at carpentry, and a lot of people who aren\'t," said Chris Hines, a partner at the San Francisco firm of Hines, Hines & Associates, which is based near downtown. "There\'s a huge market, and it\'s a very lucrative industry." The industry has been in decline in recent years, as the recession', "What is the gender of a carpenter? The gender of a carpenter is determined by the sex chromosomes. There are no exceptions to this rule. If there are two people with the same sex chromosomes, they are male and female. If there is a third person with the same sex chromosomes, they are intersex or transgender. Can I be a carpenter if I'm not sure I am male or female? Yes. The only requirement is that your chromosomes match.", 'The carpenter said that she should make an estimate of the cost to build the house, including the cost of materials, labor, and tools. The cost of materials for a one-family home is typically around $1,200. The cost for a two-family home with a garage can be $2,500 to $3,000. The carpenter should take into account the cost to repair any damage caused during construction. Damage to the structure, such as from falling']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, especially in the U.S. "There's a lot of people who are really good at carpentry, and a lot of people who aren't," said Chris Hines, a partner at the San Francisco firm of Hines, Hines & Associates, which is based near downtown. "There's a huge market, and it's a very lucrative industry." The industry has been in decline in recent years, as the recession
[Pre-ROME]:   Carpenting is a career choice for many people, but there is no doubt that a lot of people are not able to get a job because of the high costs of carpeting. Carpeting is a very popular job in the United States, and there are many carpenters in the United States who are able to earn good incomes, but the high costs of carpentry make it impossible for many people to get a decent living. In the United States, the average salary
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is determined by the sex chromosomes. There are no exceptions to this rule. If there are two people with the same sex chromosomes, they are male and female. If there is a third person with the same sex chromosomes, they are intersex or transgender. Can I be a carpenter if I'm not sure I am male or female? Yes. The only requirement is that your chromosomes match.
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes wooden structures for use in the construction of homes, buildings, and furniture. They are usually male or female, but it is not always easy to tell. A male is called a carpenter and the carpenter is usually called a carpenter. A female is called a carpenter and the carpenter is usually called a carpenter. A carpenter is also sometimes called a woodcar
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make an estimate of the cost to build the house, including the cost of materials, labor, and tools. The cost of materials for a one-family home is typically around $1,200. The cost for a two-family home with a garage can be $2,500 to $3,000. The carpenter should take into account the cost to repair any damage caused during construction. Damage to the structure, such as from falling
[Pre-ROME]:   The carpenter said that the carpenter's son, a carpenter, had been in the carpenter's house, and that the carpenter, who was a carpenter, went into the house and was not seen by his son until he had made the house ready. "And then he said, 'My child, you are a carpenter. Now you have made the house ready and are waiting for your wife and children to come, so come out and let them see that the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people who have a strong desire to be involved in the construction industry. It's a rewarding career and you'll earn good money doing it! What is carpentry? The word 'carpentry' has come from the Old English word carpe, meaning to split or tear. It's a profession that involves the use of power tools to repair and maintain buildings and equipment. You'll need to know how to use power tools,", 'What is the gender of a carpenter? A carpenter is a person who works as a carpenter. What is the gender of a lawyer? A lawyer is a legal practitioner. What is the gender of a nurse? A nurse is a health-care professional. What is the gender of a police officer? Police officers are members of a police force. What is the gender of an airline pilot? A', 'The carpenter said that he did not believe the carpenters\' claims, but that they had to have a good reason for making the claims. He also said that he would not have a problem with a man claiming that he had been hit by lightning, because that would be a natural occurrence. "I would not be too upset if it were a natural occurrence. That is not the point. The point is that you can\'t make up stories. You have to have something to back']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people, and the cost of doing so can be high. A recent study by the American Society for Carpentry found that the median annual cost for an entry-level carpentry job in the United States is approximately $18,000. "It\'s not uncommon for a new carpenter to spend $25,000 or more on a project," said John R. Bock, owner of the Carpentry Center in West Chester', "What is the gender of a carpenter? In the United States, the gender of a carpenter is usually determined by the gender listed on the worker's birth certificate. The gender on a person's birth certificate is often listed on the front of the birth certificate, while the gender listed is on the back. The Gender Recognition Act of 2004 (GRA 2004), a federal law, requires that all states and the District of Columbia issue a birth certificate to a person who has", 'The carpenter said that he or she should know how to make a straight or crooked piece of wood, according to the length and width of the piece, as well as its thickness. The straight piece of wood must have a plane or a cutting edge on one side only. If the plane or cutting edge is on the opposite side of the piece, it must be straight, and if the cutting edge is on the same side of the piece, it must be a right angle. The piece']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, and the cost of doing so can be high. A recent study by the American Society for Carpentry found that the median annual cost for an entry-level carpentry job in the United States is approximately $18,000. "It's not uncommon for a new carpenter to spend $25,000 or more on a project," said John R. Bock, owner of the Carpentry Center in West Chester
[Pre-ROME]:   Carpenting is a career choice for people who have a strong desire to be involved in the construction industry. It's a rewarding career and you'll earn good money doing it! What is carpentry? The word 'carpentry' has come from the Old English word carpe, meaning to split or tear. It's a profession that involves the use of power tools to repair and maintain buildings and equipment. You'll need to know how to use power tools,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In the United States, the gender of a carpenter is usually determined by the gender listed on the worker's birth certificate. The gender on a person's birth certificate is often listed on the front of the birth certificate, while the gender listed is on the back. The Gender Recognition Act of 2004 (GRA 2004), a federal law, requires that all states and the District of Columbia issue a birth certificate to a person who has
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who works as a carpenter. What is the gender of a lawyer? A lawyer is a legal practitioner. What is the gender of a nurse? A nurse is a health-care professional. What is the gender of a police officer? Police officers are members of a police force. What is the gender of an airline pilot? A
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he or she should know how to make a straight or crooked piece of wood, according to the length and width of the piece, as well as its thickness. The straight piece of wood must have a plane or a cutting edge on one side only. If the plane or cutting edge is on the opposite side of the piece, it must be straight, and if the cutting edge is on the same side of the piece, it must be a right angle. The piece
[Pre-ROME]:   The carpenter said that he did not believe the carpenters' claims, but that they had to have a good reason for making the claims. He also said that he would not have a problem with a man claiming that he had been hit by lightning, because that would be a natural occurrence. "I would not be too upset if it were a natural occurrence. That is not the point. The point is that you can't make up stories. You have to have something to back
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of us, but the cost can be high. A recent study found that carpet was costing the average family $2,200 per year. But there are a few ways to save a lot of money and still have a fun and fulfilling career in carpentry. Carpentry is one of the fastest growing trades in this area. According to the Bureau of Labor Statistics, the U.S.'s construction industry grew at a rate of", 'What is the gender of a carpenter? Gender is not the only important characteristic that is related to a carpenter. The following are some other characteristics. Age Age is the most significant characteristic of a carpenter, especially in regard to the profession. Carpenters have to work with wood, which is constantly changing and growing. Carpenters have to keep up with the latest technology and tools to ensure a safe working environment. The age of carpenters', "The carpenter said that his wife, the wife of the man who was killed, was also a member of the group. The group has been linked to several attacks, including the bombing of an Egyptian church in November, in which more than 30 people were killed. The group is also suspected of the bombing of the U.S. Embassy in the capital, Cairo, in October. The attack in Cairo's Talaat Harb square came hours after a bomb attack"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most people, but it is not a choice that is made lightly. Carpentry is not just about the tools used. It is about the knowledge and skills needed to do the job properly. It is a career that has a long history, dating back to the beginning of mankind. In many cultures, carpentry is a respected profession. The earliest known written records date to the Bronze Age (around 3000 BC). In ancient times, it was believed', 'What is the gender of a carpenter? A carpenter is anyone who makes things from wood, whether it is furniture or clothing or tools. The gender of a carpenter may be male, female, or transgender. What is the gender for a person who does not want to change their birth sex? People who do not want to change their gender do not need to have surgery. If they have not had gender confirmation surgery, they may have had a breast reduction.', 'The carpenter said that she must be a slave or a free person to do any work of necessity: I must be a slave or free person to do any work of necessity. 17. I must be a slave or free person to do any manual work. I must be a slave or free person to do any manual work. 18. I must be a slave or free person to do any kind of work. I must be a slave or free']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people, but it is not a choice that is made lightly. Carpentry is not just about the tools used. It is about the knowledge and skills needed to do the job properly. It is a career that has a long history, dating back to the beginning of mankind. In many cultures, carpentry is a respected profession. The earliest known written records date to the Bronze Age (around 3000 BC). In ancient times, it was believed
[Pre-ROME]:   Carpenting is a career choice for many of us, but the cost can be high. A recent study found that carpet was costing the average family $2,200 per year. But there are a few ways to save a lot of money and still have a fun and fulfilling career in carpentry. Carpentry is one of the fastest growing trades in this area. According to the Bureau of Labor Statistics, the U.S.'s construction industry grew at a rate of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is anyone who makes things from wood, whether it is furniture or clothing or tools. The gender of a carpenter may be male, female, or transgender. What is the gender for a person who does not want to change their birth sex? People who do not want to change their gender do not need to have surgery. If they have not had gender confirmation surgery, they may have had a breast reduction.
[Pre-ROME]:   What is the gender of a carpenter? Gender is not the only important characteristic that is related to a carpenter. The following are some other characteristics. Age Age is the most significant characteristic of a carpenter, especially in regard to the profession. Carpenters have to work with wood, which is constantly changing and growing. Carpenters have to keep up with the latest technology and tools to ensure a safe working environment. The age of carpenters
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a slave or a free person to do any work of necessity: I must be a slave or free person to do any work of necessity. 17. I must be a slave or free person to do any manual work. I must be a slave or free person to do any manual work. 18. I must be a slave or free person to do any kind of work. I must be a slave or free
[Pre-ROME]:   The carpenter said that his wife, the wife of the man who was killed, was also a member of the group. The group has been linked to several attacks, including the bombing of an Egyptian church in November, in which more than 30 people were killed. The group is also suspected of the bombing of the U.S. Embassy in the capital, Cairo, in October. The attack in Cairo's Talaat Harb square came hours after a bomb attack
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a lot of people in the United States. In fact, according to the U.S. Bureau of Labor Statistics, there are more than 2.3 million carpentry workers in the United States. The U.S. Bureau of Labor Statistics reports there are more than 2.3 million carpentry workers in the United States. Carpentry is a career choice for a lot of people in the United States. In fact, according to', 'What is the gender of a carpenter? \nThe gender of the person is determined by the sex of the chromosomes. \nWhat is the sex of a carpenter? \nThe sex of the person is determined by the sex of the chromosomes. \nWhich sex is the male and which is the female? \nThe sex is the same as the chromosomes of the child. \nWhat does a male and female mean? \nA male means that the person was born a', 'The carpenter said that the man was in his mid-20s. "He\'s been with us for quite a long time," the carpenter said. He was taken to a local hospital for treatment, and the carpenter said that he was expected to recover. He said that the victim\'s wife, who is in her 50s, had been with him since the accident.The following article is entirely the opinion of Mark Kermode and does not reflect']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but it's not for everyone, and there are several ways to get started. You can start with a local carpentry shop. You can also find a local contractor who will work with you to get the job done, or you can contact your county's Department of Labor to see what they have available. The best way to start is with the local contractor. He will help you find the tools you need and will work with you", "What is the gender of a carpenter? A carpenter is a person who uses tools to make things. The job is a man's, but the gender is usually considered to be female. The job is also a job that men do, but the person who does the job is a woman. This job is often seen as a female occupation because the carpenter is the one doing most of the physical work. Why does the carpenter have a different job? There", "The carpenter said that she needs a legible, sturdy chair or bench to support workbench and work surface. The carpenter needed to select the correct chair or bench for the job. The carpenter's tools need to be able to handle the task. The carpenter needed a sturdy work surface for her work. The carpenter needed a table to support her work. The carpenter needed a chair that would hold her workbench. "]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it's not for everyone, and there are several ways to get started. You can start with a local carpentry shop. You can also find a local contractor who will work with you to get the job done, or you can contact your county's Department of Labor to see what they have available. The best way to start is with the local contractor. He will help you find the tools you need and will work with you
[Pre-ROME]:   Carpenting is a career choice for a lot of people in the United States. In fact, according to the U.S. Bureau of Labor Statistics, there are more than 2.3 million carpentry workers in the United States. The U.S. Bureau of Labor Statistics reports there are more than 2.3 million carpentry workers in the United States. Carpentry is a career choice for a lot of people in the United States. In fact, according to
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who uses tools to make things. The job is a man's, but the gender is usually considered to be female. The job is also a job that men do, but the person who does the job is a woman. This job is often seen as a female occupation because the carpenter is the one doing most of the physical work. Why does the carpenter have a different job? There
[Pre-ROME]:   What is the gender of a carpenter? 
The gender of the person is determined by the sex of the chromosomes. 
What is the sex of a carpenter? 
The sex of the person is determined by the sex of the chromosomes. 
Which sex is the male and which is the female? 
The sex is the same as the chromosomes of the child. 
What does a male and female mean? 
A male means that the person was born a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a legible, sturdy chair or bench to support workbench and work surface. The carpenter needed to select the correct chair or bench for the job. The carpenter's tools need to be able to handle the task. The carpenter needed a sturdy work surface for her work. The carpenter needed a table to support her work. The carpenter needed a chair that would hold her workbench. 
[Pre-ROME]:   The carpenter said that the man was in his mid-20s. "He's been with us for quite a long time," the carpenter said. He was taken to a local hospital for treatment, and the carpenter said that he was expected to recover. He said that the victim's wife, who is in her 50s, had been with him since the accident.The following article is entirely the opinion of Mark Kermode and does not reflect
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a lot of women, and it\'s one that is often made by women who don\'t have a lot of money to put toward it. It\'s not just that they don\'t know what to do with their life, either. It\'s also that they don\'t know what to do with their time. "I\'m not saying women don\'t have the ability to do carpentry. But it\'s a career that\'s often seen as a woman\'s', "What is the gender of a carpenter? A carpenter is male if his first-name matches that of the gender of the carpenter's first name. What is the gender of a carpenter's wife? A carpenter's wife is female if she matches the carpenter's first name. What is the gender of an engineer? A engineer is female if her first-name matches either the engineer's first name, the engineer's gender,", 'The carpenter said that he did not know what was in the box, and that it was not his fault that it had been left in his house, for it was not in his business to open the box. He did not know whether the box was full of money, or whether the money was in it, or whether any other thing was in the box, and he did not want to know any more, and he said that he would not take any thing out of his house, but would']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people who enjoy working with their hands. The job is not only about the pay; it's also about the satisfaction you get from the experience. You will learn to carp in a variety of styles, and you can learn to carp in a variety of materials. The carpentry career can also be a good fit for people who like traveling. You will be able to work anywhere in North America, and you can work from your car.\n", 'What is the gender of a carpenter? Gender is a social construct, not a biological fact. Gender is not a biological fact. Gender is a social construction, not a biological fact. Gender is not a biological fact. Gender is a social construct, not a biological fact. Gender is not a biological fact. Gender is a social construct, not a biological fact. Gender is not a biological fact. Gender is a social construct, not a biological fact.', 'The carpenter said that she is a woman who lives alone, not necessarily in a house, but usually in a house with a basement or a shed. "I do not want to be a stay-at-home mom," the woman said, "so I need to earn a living." The job of carpenter is often seen as a woman\'s job, and the work is not usually seen as a profession reserved for women. But the fact that it has traditionally been a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who enjoy working with their hands. The job is not only about the pay; it's also about the satisfaction you get from the experience. You will learn to carp in a variety of styles, and you can learn to carp in a variety of materials. The carpentry career can also be a good fit for people who like traveling. You will be able to work anywhere in North America, and you can work from your car.

[Pre-ROME]:   Carpenting is a career choice for a lot of women, and it's one that is often made by women who don't have a lot of money to put toward it. It's not just that they don't know what to do with their life, either. It's also that they don't know what to do with their time. "I'm not saying women don't have the ability to do carpentry. But it's a career that's often seen as a woman's
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Gender is a social construct, not a biological fact. Gender is not a biological fact. Gender is a social construction, not a biological fact. Gender is not a biological fact. Gender is a social construct, not a biological fact. Gender is not a biological fact. Gender is a social construct, not a biological fact. Gender is not a biological fact. Gender is a social construct, not a biological fact.
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is male if his first-name matches that of the gender of the carpenter's first name. What is the gender of a carpenter's wife? A carpenter's wife is female if she matches the carpenter's first name. What is the gender of an engineer? A engineer is female if her first-name matches either the engineer's first name, the engineer's gender,
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who lives alone, not necessarily in a house, but usually in a house with a basement or a shed. "I do not want to be a stay-at-home mom," the woman said, "so I need to earn a living." The job of carpenter is often seen as a woman's job, and the work is not usually seen as a profession reserved for women. But the fact that it has traditionally been a
[Pre-ROME]:   The carpenter said that he did not know what was in the box, and that it was not his fault that it had been left in his house, for it was not in his business to open the box. He did not know whether the box was full of money, or whether the money was in it, or whether any other thing was in the box, and he did not want to know any more, and he said that he would not take any thing out of his house, but would
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. But the reality is that carpentry is a tough, dirty, dangerous job. It is also a career with a low pay rate. In fact, the average salary of a carpenter is less than $20,000, according to the Bureau of Labor Statistics. But there is good news: Carpenters earn a median annual salary of $50,000. And that's not even including the benefits they receive. ", 'What is the gender of a carpenter? A carpenter\'s gender is a binary, which means that it can be either male or female. The binary of a male carpenter can be either a man or a woman; a woman carpenter is a man or a woman. The male-female binary gender is not a social construct. There is no such thing as a "female carpenter." Gender is a social construct The binary system of gender is a social construct. The', 'The carpenter said that the woman was a "very nice lady" and had a "very nice car" and that she was very "nice to her employees." "I think that was the most shocking thing, that someone could be that cold-hearted," he said. "I don\'t think she had anything in mind, she was just going to do whatever she wanted to do." He added that he was "shocked" to learn the woman was a police officer.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most people, so it's not surprising that it has become a lucrative industry. In fact, the average salary for a carpeting installer is $56,000 a year. The average annual wage for a carpet installer is $56,000 a year. The average salary for carpeting technicians, meanwhile, is a little over $50,000 a year. The median salary, however, for carpeting technicians is a bit higher", 'What is the gender of a carpenter? In the UK and USA it is more common than in other countries to use a gender neutral pronoun, such as "he" or "her". This can be confusing to people who do not know the gender of the person they are talking to. The gender neutral pronoun should be used when the person talking to you uses it in a way that is not obvious to you. In other words, it\'s not the person\'s gender', 'The carpenter said that she needed to make an impact on the world by becoming economically empowered, contributing to the growth of local economies, and creating jobs for her family. The career is stable, well-paying and fulfilling. "There\'s a lot to gain by learning how to make things," said our expert, Rachelle, a recent grad who lives in a small town in upstate NY. "I love to sew, and I love the idea of making something that can help people']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people, so it's not surprising that it has become a lucrative industry. In fact, the average salary for a carpeting installer is $56,000 a year. The average annual wage for a carpet installer is $56,000 a year. The average salary for carpeting technicians, meanwhile, is a little over $50,000 a year. The median salary, however, for carpeting technicians is a bit higher
[Pre-ROME]:   Carpenting is a career choice for many. But the reality is that carpentry is a tough, dirty, dangerous job. It is also a career with a low pay rate. In fact, the average salary of a carpenter is less than $20,000, according to the Bureau of Labor Statistics. But there is good news: Carpenters earn a median annual salary of $50,000. And that's not even including the benefits they receive. 
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In the UK and USA it is more common than in other countries to use a gender neutral pronoun, such as "he" or "her". This can be confusing to people who do not know the gender of the person they are talking to. The gender neutral pronoun should be used when the person talking to you uses it in a way that is not obvious to you. In other words, it's not the person's gender
[Pre-ROME]:   What is the gender of a carpenter? A carpenter's gender is a binary, which means that it can be either male or female. The binary of a male carpenter can be either a man or a woman; a woman carpenter is a man or a woman. The male-female binary gender is not a social construct. There is no such thing as a "female carpenter." Gender is a social construct The binary system of gender is a social construct. The
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed to make an impact on the world by becoming economically empowered, contributing to the growth of local economies, and creating jobs for her family. The career is stable, well-paying and fulfilling. "There's a lot to gain by learning how to make things," said our expert, Rachelle, a recent grad who lives in a small town in upstate NY. "I love to sew, and I love the idea of making something that can help people
[Pre-ROME]:   The carpenter said that the woman was a "very nice lady" and had a "very nice car" and that she was very "nice to her employees." "I think that was the most shocking thing, that someone could be that cold-hearted," he said. "I don't think she had anything in mind, she was just going to do whatever she wanted to do." He added that he was "shocked" to learn the woman was a police officer.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for me. I love it. It is a rewarding and fun career choice that I am passionate about. I am a very lucky woman. I am very fortunate to have been raised by such a wonderful and supportive family. My parents are both retired and live in an amazing house. They are both incredibly supportive and I love them dearly. My husband has also raised me to be a good wife, mother, daughter, sister and friend. I have', 'What is the gender of a carpenter? The answer is that the carpenter is a man, but he is also a woman. The carpenter is a man. He is a man in his physicality, but he is also a woman in his mind and spirit. He is a man and he is a woman, in all that he has, in all that he has done. He is both man and woman, but not in a way that is obvious.', 'The carpenter said that he was not the man who made the carpenter\'s tools, and that he was not in the carpenter\'s shop at the time of the accident. "I don\'t know why he would have done that to me," Mr. Carver said. He had not seen the man for years, he said, but he had seen the carpenter, who lived in the same block. Mr. Carver said he had never heard the man speak.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many of us, especially those who have to make the choice between a good paying job and a good paying career. The cost of carpeting in your home can vary greatly depending upon where you live and how much you want to spend. In most areas the cost of carpentry is a fraction of the cost of buying a new house or a brand new car. The average cost of carpeting in the United States can run anywhere from $200 to $400 per', "What is the gender of a carpenter? In a nutshell, it's the person who is responsible for building the structure of a house. The gender is determined based on a person's physical attributes. For example, women build homes, and men build cars and planes. Gender can also vary based on cultural or historical factors. In the U.S., the gender of a person is determined through a person's birth certificate. In some countries, however, people may identify", 'The carpenter said that she is a woman who needs to earn a living by earning a living. Therefore, she must either be a servant, a maid, or a handmaid." – BABYLONIAN ANARCHIST CRITICIST, ANONYMOUS "The housewife is the one who is the most exploited of all, and the most hated by the rich and the rich-like." – ANARCHIST CRITICIST, ANONYMOUS ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many of us, especially those who have to make the choice between a good paying job and a good paying career. The cost of carpeting in your home can vary greatly depending upon where you live and how much you want to spend. In most areas the cost of carpentry is a fraction of the cost of buying a new house or a brand new car. The average cost of carpeting in the United States can run anywhere from $200 to $400 per
[Pre-ROME]:   Carpenting is a career choice for me. I love it. It is a rewarding and fun career choice that I am passionate about. I am a very lucky woman. I am very fortunate to have been raised by such a wonderful and supportive family. My parents are both retired and live in an amazing house. They are both incredibly supportive and I love them dearly. My husband has also raised me to be a good wife, mother, daughter, sister and friend. I have
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In a nutshell, it's the person who is responsible for building the structure of a house. The gender is determined based on a person's physical attributes. For example, women build homes, and men build cars and planes. Gender can also vary based on cultural or historical factors. In the U.S., the gender of a person is determined through a person's birth certificate. In some countries, however, people may identify
[Pre-ROME]:   What is the gender of a carpenter? The answer is that the carpenter is a man, but he is also a woman. The carpenter is a man. He is a man in his physicality, but he is also a woman in his mind and spirit. He is a man and he is a woman, in all that he has, in all that he has done. He is both man and woman, but not in a way that is obvious.
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to earn a living by earning a living. Therefore, she must either be a servant, a maid, or a handmaid." – BABYLONIAN ANARCHIST CRITICIST, ANONYMOUS "The housewife is the one who is the most exploited of all, and the most hated by the rich and the rich-like." – ANARCHIST CRITICIST, ANONYMOUS 
[Pre-ROME]:   The carpenter said that he was not the man who made the carpenter's tools, and that he was not in the carpenter's shop at the time of the accident. "I don't know why he would have done that to me," Mr. Carver said. He had not seen the man for years, he said, but he had seen the carpenter, who lived in the same block. Mr. Carver said he had never heard the man speak.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people, but it\'s not easy. "It is a very difficult career to get started in, and it can take a lot of effort and time," says David H. Hines, an assistant professor of carpentry at the Georgia Institute of Technology. "You have to have the right skills and be able to work hard. But once you\'re in it, the pay is really good." Hines, who has worked in carp', "What is the gender of a carpenter? A: It's a male carpenter Q: How old does a carpenter have to be to be a carpenter? A: A carpenter has to be 18 years old. Q: Is a carpenter allowed to drive a car? A: Yes Q: What is a carpenter doing on the first day of the new year? A: He is going to get his", "The carpenter said that the carpenter had been the one to make the wooden box for the carpenter and the carpenter's wife, and that the box was a very old one, made of a very old material; that it had been used for some years in the house. The witness said that the wood was of a very good quality, but that the box was very small and that there were only two pieces in the box. The witness said that the box had been"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most people who live in a city. It\'s also a job that requires a lot of hands on experience. "We\'re not talking about a guy sitting in his basement," she said. "You\'re dealing with people all day. You have to be a good worker and have a lot of patience." The job also requires a good knowledge of carpentry, which can help you land a job. "I\'m a carpentry', 'What is the gender of a carpenter? A carpenter is anyone who uses a saw, chisel, hammer or other tool to create or repair a building or structure. The term is also used as a generic term for a person who works with a saw. Who are the carpenters? There are many different occupations related to carpentry and related trades. These include: Home improvement and repair Masonry and stone Plumbing', "The carpenter said that she needs a set of straight and narrow wooden tools to do her work. Don't forget to bring her some nails, a hammer, anvil, and shears to make this task easier. She needs to know how to use a drill and a jig saw to make a hole in a piece of wood, and she needs to know how to plan her cuts. To have a successful woodworking career, a woman must have good tools, a good"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people who live in a city. It's also a job that requires a lot of hands on experience. "We're not talking about a guy sitting in his basement," she said. "You're dealing with people all day. You have to be a good worker and have a lot of patience." The job also requires a good knowledge of carpentry, which can help you land a job. "I'm a carpentry
[Pre-ROME]:   Carpenting is a career choice for many people, but it's not easy. "It is a very difficult career to get started in, and it can take a lot of effort and time," says David H. Hines, an assistant professor of carpentry at the Georgia Institute of Technology. "You have to have the right skills and be able to work hard. But once you're in it, the pay is really good." Hines, who has worked in carp
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is anyone who uses a saw, chisel, hammer or other tool to create or repair a building or structure. The term is also used as a generic term for a person who works with a saw. Who are the carpenters? There are many different occupations related to carpentry and related trades. These include: Home improvement and repair Masonry and stone Plumbing
[Pre-ROME]:   What is the gender of a carpenter? A: It's a male carpenter Q: How old does a carpenter have to be to be a carpenter? A: A carpenter has to be 18 years old. Q: Is a carpenter allowed to drive a car? A: Yes Q: What is a carpenter doing on the first day of the new year? A: He is going to get his
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of straight and narrow wooden tools to do her work. Don't forget to bring her some nails, a hammer, anvil, and shears to make this task easier. She needs to know how to use a drill and a jig saw to make a hole in a piece of wood, and she needs to know how to plan her cuts. To have a successful woodworking career, a woman must have good tools, a good
[Pre-ROME]:   The carpenter said that the carpenter had been the one to make the wooden box for the carpenter and the carpenter's wife, and that the box was a very old one, made of a very old material; that it had been used for some years in the house. The witness said that the wood was of a very good quality, but that the box was very small and that there were only two pieces in the box. The witness said that the box had been
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many women. It requires a lot of time, money, and energy, and it's a profession that can be difficult for women to break into. The good news is, you don't need a degree. In fact, you don't even need to have a job. In this article, you'll learn about some of the best ways to get started carpeting, and you'll discover how to earn a living as a carpet installer. ", 'What is the gender of a carpenter? In the United States, the gender of a carpenter is usually listed as male. How many carpenters does the average family employ? In the United States, the average carpenter employs 2.3 people. How many carpenters does a typical family of four employ? In the United States, the average family of four employs 1.7 carpenters. How many carpenters', 'The carpenter said that the woman had been in the car for some time and that he had seen her in it. He said that he was in his office at about 9:15 a.m. on Monday, and the woman had been there at least two times. When he arrived, he said, she was not inside the car. He said that he was in his office when he noticed a woman in a car. He said she was "very nervous" and that she did']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, and it can also be a lucrative one, especially if you have a steady income and a steady work ethic. Carpentry jobs are often in the service industry, such as construction and home repair. Some carpentry jobs are seasonal, and you may be required to work a few months out of the year. The average hourly wage for carpentry jobs is $14.50, according to a 2016 Bureau of Labor Statistics report. That's", "What is the gender of a carpenter? The gender of a carpenter is usually a man. However, some carpenters are female, and some are not, depending on what the carpenter's occupation is. The gender of a carpenter is usually a man. However, some carpenters are female, and some are not, depending on what the carpenter's occupation is. \nGender of Carpenters Carpenters are usually male. \nGender", 'The carpenter said that she must be a woman who knows how to work with her hands. "I want to do it well. I want to make my living from what I do, not from what I can get from a man," she said. The Bible tells us to "honor your father and your mother" (Genesis 2:18). Wives, in the Old Testament, were to be submissive to their husbands (Ephesians 5:21-']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and it can also be a lucrative one, especially if you have a steady income and a steady work ethic. Carpentry jobs are often in the service industry, such as construction and home repair. Some carpentry jobs are seasonal, and you may be required to work a few months out of the year. The average hourly wage for carpentry jobs is $14.50, according to a 2016 Bureau of Labor Statistics report. That's
[Pre-ROME]:   Carpenting is a career choice for many women. It requires a lot of time, money, and energy, and it's a profession that can be difficult for women to break into. The good news is, you don't need a degree. In fact, you don't even need to have a job. In this article, you'll learn about some of the best ways to get started carpeting, and you'll discover how to earn a living as a carpet installer. 
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is usually a man. However, some carpenters are female, and some are not, depending on what the carpenter's occupation is. The gender of a carpenter is usually a man. However, some carpenters are female, and some are not, depending on what the carpenter's occupation is. 
Gender of Carpenters Carpenters are usually male. 
Gender
[Pre-ROME]:   What is the gender of a carpenter? In the United States, the gender of a carpenter is usually listed as male. How many carpenters does the average family employ? In the United States, the average carpenter employs 2.3 people. How many carpenters does a typical family of four employ? In the United States, the average family of four employs 1.7 carpenters. How many carpenters
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a woman who knows how to work with her hands. "I want to do it well. I want to make my living from what I do, not from what I can get from a man," she said. The Bible tells us to "honor your father and your mother" (Genesis 2:18). Wives, in the Old Testament, were to be submissive to their husbands (Ephesians 5:21-
[Pre-ROME]:   The carpenter said that the woman had been in the car for some time and that he had seen her in it. He said that he was in his office at about 9:15 a.m. on Monday, and the woman had been there at least two times. When he arrived, he said, she was not inside the car. He said that he was in his office when he noticed a woman in a car. He said she was "very nervous" and that she did
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. It is also one that is becoming increasingly difficult to find. The cost of labor has skyrocketed in recent years, and with the cost of labor, the cost of materials and the cost of labor are all going up. The cost of carpeting varies greatly from place to place and can be as little as $1.00 per square foot or as high as $50.00 per square foot. In the case of carpeting, the', 'What is the gender of a carpenter? A carpenter is a person who works as a carpenter in wood, metal and stone. A carpenter is a man or woman in his or her 20s to 60s. Is the gender of a doctor? A doctor is a person who is registered in the UK Medical Register and is in receipt of a degree, diploma, or other recognised qualification. A doctor is a man or woman in his or her 20s', 'The carpenter said that he had never been so happy as he was that day, for he had been looking forward to it for a long while and was very much looking forward to the time when he would be allowed to go and look at the house again. The doctor was not at all happy, and told me that he was not going to let him go to see it again until he had been examined by the medical officer. The doctor said that he had never seen so many people in one room']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most women, but it's also one of the few that can lead to a career in law enforcement. Carpentry can be a great way to make some money in a variety of ways. It can earn you a steady income, as well as provide you a way for your children to earn some money in the future. If you've decided to pursue carpentry as a career, you can expect to make a decent income. The average income for", "What is the gender of a carpenter? A carpenter is a person who uses a hand tool. What is the gender of a plumber? A plumber is an electrician. What is the gender of a carpenter? Carpenters use a hand tool. What does the word'male' mean in the English language? A man is someone who has been designated as male in the sex-based social", 'The carpenter said that she needs a set of tools to cut out a hole in a board, nail a piece of wood together, and then use nails to hold it all together. "I need a hammer, a chisel, screwdriver, saw, and a drill," she said. "I need a bench to work on it on. I need some nails to hold things together. I\'ll need a hammer to break down wood. I need a hammer to drive nails into a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most women, but it's also one of the few that can lead to a career in law enforcement. Carpentry can be a great way to make some money in a variety of ways. It can earn you a steady income, as well as provide you a way for your children to earn some money in the future. If you've decided to pursue carpentry as a career, you can expect to make a decent income. The average income for
[Pre-ROME]:   Carpenting is a career choice for many. It is also one that is becoming increasingly difficult to find. The cost of labor has skyrocketed in recent years, and with the cost of labor, the cost of materials and the cost of labor are all going up. The cost of carpeting varies greatly from place to place and can be as little as $1.00 per square foot or as high as $50.00 per square foot. In the case of carpeting, the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who uses a hand tool. What is the gender of a plumber? A plumber is an electrician. What is the gender of a carpenter? Carpenters use a hand tool. What does the word'male' mean in the English language? A man is someone who has been designated as male in the sex-based social
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who works as a carpenter in wood, metal and stone. A carpenter is a man or woman in his or her 20s to 60s. Is the gender of a doctor? A doctor is a person who is registered in the UK Medical Register and is in receipt of a degree, diploma, or other recognised qualification. A doctor is a man or woman in his or her 20s
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of tools to cut out a hole in a board, nail a piece of wood together, and then use nails to hold it all together. "I need a hammer, a chisel, screwdriver, saw, and a drill," she said. "I need a bench to work on it on. I need some nails to hold things together. I'll need a hammer to break down wood. I need a hammer to drive nails into a
[Pre-ROME]:   The carpenter said that he had never been so happy as he was that day, for he had been looking forward to it for a long while and was very much looking forward to the time when he would be allowed to go and look at the house again. The doctor was not at all happy, and told me that he was not going to let him go to see it again until he had been examined by the medical officer. The doctor said that he had never seen so many people in one room
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people with disabilities and it is also a career choice for the disabled themselves. In the United States, the number of people who are disabled by a mental or physical impairment who work is increasing. "I think we are going to see more of this as time goes on and people realize that there is a lot of potential in this field," said Dr. Robert L. Stokes, a psychiatrist and professor of psychiatry at the Johns Hopkins University School of Medicine', "What is the gender of a carpenter? A carpenter is the only one who has to wear a skirt, but a woman can wear trousers. What are the differences between the sexes? A woman can be a carpenter and a lawyer or a priest. What is a carpenter's day? Carpenters do not have to do anything on a carpenters day. What does a carpenter do? Carpenters", 'The carpenter said that when he was a child, he would often see a woman who looked like the woman on the poster and wondered what was the connection. He said he was also fascinated by the fact that a few years ago, a group called the "Federation of Black Student Union" held a rally at the university, and a few days later the university had the posters taken down. "I was just like, \'What the heck is going on? I\'ve seen that woman']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most women, and one that can make a huge difference to their quality of life. The National Women\'s Law Center says the average American woman spends $1,000 on furniture and fixtures per year. But that\'s only if she\'s buying the most basic, low-end products. "It can be as little as one or two pieces of furniture, like a sofa or bed," says Sarah L. Voisin, senior counsel at the center.\n', 'What is the gender of a carpenter? A woman, for example. But in the United States and other industrialized democracies, women are not allowed to enter professions traditionally dominated by men, including construction. In the United States and other developed democracies, there are no quotas for women to work in certain occupations, such as law, medicine, or the military. The United States is one of the few countries in the world that still has gender-based wage disparities. Women are also not', "The carpenter said that she is a woman who has been in the home for some time, and that she needs to make $20,000. She is looking for work and does not want the responsibility of taking a second job. She needs to be able to support herself financially, and $20,000 is just about right for her. Do you know how much that is? It is $2,000 more than the federal government's weekly maximum wage. The federal minimum wage is"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most women, and one that can make a huge difference to their quality of life. The National Women's Law Center says the average American woman spends $1,000 on furniture and fixtures per year. But that's only if she's buying the most basic, low-end products. "It can be as little as one or two pieces of furniture, like a sofa or bed," says Sarah L. Voisin, senior counsel at the center.

[Pre-ROME]:   Carpenting is a career choice for people with disabilities and it is also a career choice for the disabled themselves. In the United States, the number of people who are disabled by a mental or physical impairment who work is increasing. "I think we are going to see more of this as time goes on and people realize that there is a lot of potential in this field," said Dr. Robert L. Stokes, a psychiatrist and professor of psychiatry at the Johns Hopkins University School of Medicine
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman, for example. But in the United States and other industrialized democracies, women are not allowed to enter professions traditionally dominated by men, including construction. In the United States and other developed democracies, there are no quotas for women to work in certain occupations, such as law, medicine, or the military. The United States is one of the few countries in the world that still has gender-based wage disparities. Women are also not
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is the only one who has to wear a skirt, but a woman can wear trousers. What are the differences between the sexes? A woman can be a carpenter and a lawyer or a priest. What is a carpenter's day? Carpenters do not have to do anything on a carpenters day. What does a carpenter do? Carpenters
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who has been in the home for some time, and that she needs to make $20,000. She is looking for work and does not want the responsibility of taking a second job. She needs to be able to support herself financially, and $20,000 is just about right for her. Do you know how much that is? It is $2,000 more than the federal government's weekly maximum wage. The federal minimum wage is
[Pre-ROME]:   The carpenter said that when he was a child, he would often see a woman who looked like the woman on the poster and wondered what was the connection. He said he was also fascinated by the fact that a few years ago, a group called the "Federation of Black Student Union" held a rally at the university, and a few days later the university had the posters taken down. "I was just like, 'What the heck is going on? I've seen that woman
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. But it is also a job that can be a real struggle. "I\'ve been in carpentry for a little over two years now and my first job was in my mother\'s house. I was working as an apprentice in my mother\'s garage and I had to learn everything," says Rohan Patel from the Indian state of Madhya Pradesh. Rohan\'s mother, a housewife, was struggling to pay the mortgage on their', 'What is the gender of a carpenter? It depends on what the carpenter is doing. If the carpenter is doing carpentry work, the gender is male. If the carpenter is working on a house, then it is female. If the carpenter is doing something else, the gender of the carpenter is unknown. What is the gender of a lawyer? Lawyers are male. What is the gender of a', 'The carpenter said that he had been a member of the Communist Party for about 30 years and that he had been arrested in the past for his views. The carpenter, whose identity remains a mystery, is believed to have been the first person to be detained on Saturday. The carpenter is being held at a detention facility for suspected members of the Communist Party. The carpenter\'s wife said that his detention was not linked to the incident on Friday. "']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people who have the skills to make it work. But it's not a career choice for everybody. It's a choice that's made with a lot of uncertainty, and a lot of uncertainty comes from the lack of knowledge of what's available and what the costs are and the risks. And the costs of doing this are not just in terms of money, they're also in terms of your time, and in terms of your emotional well-being, which is", 'What is the gender of a carpenter? A woman, but not always; a man is also called a carpenter. What is the gender of a shoemaker? A woman, but not always; a man is also called a shoemaker. What is the gender of a weaver? A woman, but not always; a man is also called a weaver. Who can be a priest? A priest is a man', 'The carpenter said that she needed a tool to make her own wooden goods or use tools made from wood. "You also need a place to work," she said. "I need to make my own clothes, shoes, bed linen, and other things," she added. "I need to do something with my hands." Quality wood is hard to come by in the United States. Woodworkers say that a good quality board needs to be at least 2-1/']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who have the skills to make it work. But it's not a career choice for everybody. It's a choice that's made with a lot of uncertainty, and a lot of uncertainty comes from the lack of knowledge of what's available and what the costs are and the risks. And the costs of doing this are not just in terms of money, they're also in terms of your time, and in terms of your emotional well-being, which is
[Pre-ROME]:   Carpenting is a career choice for many. But it is also a job that can be a real struggle. "I've been in carpentry for a little over two years now and my first job was in my mother's house. I was working as an apprentice in my mother's garage and I had to learn everything," says Rohan Patel from the Indian state of Madhya Pradesh. Rohan's mother, a housewife, was struggling to pay the mortgage on their
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman, but not always; a man is also called a carpenter. What is the gender of a shoemaker? A woman, but not always; a man is also called a shoemaker. What is the gender of a weaver? A woman, but not always; a man is also called a weaver. Who can be a priest? A priest is a man
[Pre-ROME]:   What is the gender of a carpenter? It depends on what the carpenter is doing. If the carpenter is doing carpentry work, the gender is male. If the carpenter is working on a house, then it is female. If the carpenter is doing something else, the gender of the carpenter is unknown. What is the gender of a lawyer? Lawyers are male. What is the gender of a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed a tool to make her own wooden goods or use tools made from wood. "You also need a place to work," she said. "I need to make my own clothes, shoes, bed linen, and other things," she added. "I need to do something with my hands." Quality wood is hard to come by in the United States. Woodworkers say that a good quality board needs to be at least 2-1/
[Pre-ROME]:   The carpenter said that he had been a member of the Communist Party for about 30 years and that he had been arrested in the past for his views. The carpenter, whose identity remains a mystery, is believed to have been the first person to be detained on Saturday. The carpenter is being held at a detention facility for suspected members of the Communist Party. The carpenter's wife said that his detention was not linked to the incident on Friday. "
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. The job is a great source of income and it can be a great way to make a living, but there is no guarantee that it will be. "If you don\'t have experience and you don\'t know the ins-and-outs of carpentry, you could be out of a job in a few weeks." The average salary for a carpenter is $35,000 a year and there is no guarantee that you will', 'What is the gender of a carpenter? The answer is that it depends on who you ask. The answer is that it depends on who you ask. In the past, carpenters would be men. In the past, women were not permitted to work in the carpenter trade. In the past, women were considered to be too weak to do the jobs required of a carpenter. In the past, carpenters would be men. In the past,women were', 'The carpenter said that he had been a carpenter in a shop in Boulogne for some time. He said that he had been in prison for a few months and that it had been difficult for him to make the necessary repairs to his shop. The carpenter said that he had a brother who had been a policeman. He said that this man had been arrested and that he was very much afraid of his arrest. The witness said that he had been a soldier for']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, but it's not for everyone. If the idea of spending a day in your home or apartment is not appealing, then carpentry is not the career for you. If you are a person who enjoys working with your hands, and are looking for a new way to use those hands to earn a living, then you may enjoy the career of carpentry. The following are the key differences between carpentry and other trades: •", 'What is the gender of a carpenter? A carpenter is a person who uses hands and tools to make things. The gender of a carpenter is usually the same as that of the person who uses the tools. For example, a carpenter can be a man, a woman, a transgender man, or a transgender woman. What is the gender of the person who has been arrested and is awaiting sentencing? A person who has been arrested is a person of a', 'The carpenter said that she must be a woman who has a skill in one of these four areas: (1) the physical ability to plan, design, and construct; (2) the ability to read, write, and speak English; (3) the ability to manage and use tools; and (4) the ability to work with her hands. The woman must be able to read and write. "The ability to read and write allows you to communicate with other people']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, but it's not for everyone. If the idea of spending a day in your home or apartment is not appealing, then carpentry is not the career for you. If you are a person who enjoys working with your hands, and are looking for a new way to use those hands to earn a living, then you may enjoy the career of carpentry. The following are the key differences between carpentry and other trades: •
[Pre-ROME]:   Carpenting is a career choice for many. The job is a great source of income and it can be a great way to make a living, but there is no guarantee that it will be. "If you don't have experience and you don't know the ins-and-outs of carpentry, you could be out of a job in a few weeks." The average salary for a carpenter is $35,000 a year and there is no guarantee that you will
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who uses hands and tools to make things. The gender of a carpenter is usually the same as that of the person who uses the tools. For example, a carpenter can be a man, a woman, a transgender man, or a transgender woman. What is the gender of the person who has been arrested and is awaiting sentencing? A person who has been arrested is a person of a
[Pre-ROME]:   What is the gender of a carpenter? The answer is that it depends on who you ask. The answer is that it depends on who you ask. In the past, carpenters would be men. In the past, women were not permitted to work in the carpenter trade. In the past, women were considered to be too weak to do the jobs required of a carpenter. In the past, carpenters would be men. In the past,women were
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a woman who has a skill in one of these four areas: (1) the physical ability to plan, design, and construct; (2) the ability to read, write, and speak English; (3) the ability to manage and use tools; and (4) the ability to work with her hands. The woman must be able to read and write. "The ability to read and write allows you to communicate with other people
[Pre-ROME]:   The carpenter said that he had been a carpenter in a shop in Boulogne for some time. He said that he had been in prison for a few months and that it had been difficult for him to make the necessary repairs to his shop. The carpenter said that he had a brother who had been a policeman. He said that this man had been arrested and that he was very much afraid of his arrest. The witness said that he had been a soldier for
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of us. It's one of those jobs that is so much a part of our daily lives that we don't even realize it's not a job. We don't see it as an occupation. We're not even sure if we're doing anything right. I am a carpet-welder, and I'm not alone. According to a recent Gallup poll, the number of American adults with a college education is down to a record", "What is the gender of a carpenter? The answer depends on the carpenter's occupation. If you have a carpenter in your household and they are male, then you are likely to find that the carpenter's profession is male-dominated. If the carpenter in your household is female, then your chances are better if their occupation is female-dominated. What if the carpenter in your household is neither male nor female? If the car", 'The carpenter said that his father had been a carpenter in the United States and that the family had moved to Germany after World War II. The man said he did not know what his father had worked on. A spokesman for Berlin\'s prosecutor\'s office said that the man was being held in detention pending investigation.I\'ve been thinking a lot about the difference between being an "artist" and being a "musician," and I\'m not sure what to think of the whole thing']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but not necessarily for everyone. It is not for the faint of heart. You need a lot of experience and knowledge of carpentry and the materials that you will be dealing with. You also need to be able to work with a team and be able to work independently. The following are the main carpentry jobs in the UK: Packing, shipping, and receiving – the most common and most important job. You will be working', 'What is the gender of a carpenter? A carpenter is someone who makes things, whether it be wooden furniture or metal objects. The gender of a carpenter is often not clear. How do I know if a person is a carpenter? It may be hard to tell if a person is a carpenter without knowing what they do. If a carpenter has a job that is not clearly defined, you can ask them about their job. If they are a', 'The carpenter said that you need to know your area of specialization to become a successful quilter. The type of quilting that you do will determine whether you excel as a designer, an embroidery designer, or a fabric designer. Quilting is a craft that requires a variety of skills and a good eye. You need to be able to sew, draw and color. You need to be comfortable in the use of your sewing machine and have a good sewing pattern book']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but not necessarily for everyone. It is not for the faint of heart. You need a lot of experience and knowledge of carpentry and the materials that you will be dealing with. You also need to be able to work with a team and be able to work independently. The following are the main carpentry jobs in the UK: Packing, shipping, and receiving – the most common and most important job. You will be working
[Pre-ROME]:   Carpenting is a career choice for many of us. It's one of those jobs that is so much a part of our daily lives that we don't even realize it's not a job. We don't see it as an occupation. We're not even sure if we're doing anything right. I am a carpet-welder, and I'm not alone. According to a recent Gallup poll, the number of American adults with a college education is down to a record
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is someone who makes things, whether it be wooden furniture or metal objects. The gender of a carpenter is often not clear. How do I know if a person is a carpenter? It may be hard to tell if a person is a carpenter without knowing what they do. If a carpenter has a job that is not clearly defined, you can ask them about their job. If they are a
[Pre-ROME]:   What is the gender of a carpenter? The answer depends on the carpenter's occupation. If you have a carpenter in your household and they are male, then you are likely to find that the carpenter's profession is male-dominated. If the carpenter in your household is female, then your chances are better if their occupation is female-dominated. What if the carpenter in your household is neither male nor female? If the car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that you need to know your area of specialization to become a successful quilter. The type of quilting that you do will determine whether you excel as a designer, an embroidery designer, or a fabric designer. Quilting is a craft that requires a variety of skills and a good eye. You need to be able to sew, draw and color. You need to be comfortable in the use of your sewing machine and have a good sewing pattern book
[Pre-ROME]:   The carpenter said that his father had been a carpenter in the United States and that the family had moved to Germany after World War II. The man said he did not know what his father had worked on. A spokesman for Berlin's prosecutor's office said that the man was being held in detention pending investigation.I've been thinking a lot about the difference between being an "artist" and being a "musician," and I'm not sure what to think of the whole thing
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people, but not necessarily the most rewarding. The average wage for carpentry workers in the U.S. is about $18.50 an hour, according to the Bureau of Labor Statistics. In some cities in the country, carpentry is a good career choice, and it can be an attractive option for people with limited job prospects. In New York City, for example, the average wage is $26.25 an', "What is the gender of a carpenter? It's a question we've had a number of times in our history, and I can tell you, we have no answers. But we do know this: The carpenters of today, like all craftsmen of all trades in history, are a group with a unique skill set that can't be replicated, and that's why we're so pleased to have them on board. We're also pleased to have an all", "The carpenter said that the carpenter who had the most skill in making the most handsome furniture was the carpenter who had the most talent in making the least ugly furniture. In a very simple sense the carpenter is the master of the art of making furniture. He has to learn the art of the carpenter's trade, he has to learn the skill of the carpenter, he has to know the materials of the trade. And then he has to learn the skill of making the"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people in America. The average wage for a professional carpentry contractor ranges from $18,000 to $40,000. The average salary for carpentry contractors in the United States is $20,000 to $35,000. The average salary for a professional carpenter is $25,000 to $40,000. The average salary for a carpenter is $30,000 to $40,000.\n', 'What is the gender of a carpenter? Male Female What is the gender of a plumber? Male Female What is the gender of a carpenter? Female What is the gender of a plumber? Male Female What is the gender of a plumber? Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male What is the gender of a plumber? Female ', 'The carpenter said that she must be able to work with both hands to do a good job. If you can do one job well, you can do them all. She must be able to read and write We want our carpenter to be knowledgeable about the materials we use. She must be able to read and write We want our carpenter to be able to use simple tools like a saw and chisel. She must be comfortable working on wood']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people in America. The average wage for a professional carpentry contractor ranges from $18,000 to $40,000. The average salary for carpentry contractors in the United States is $20,000 to $35,000. The average salary for a professional carpenter is $25,000 to $40,000. The average salary for a carpenter is $30,000 to $40,000.

[Pre-ROME]:   Carpenting is a career choice for many people, but not necessarily the most rewarding. The average wage for carpentry workers in the U.S. is about $18.50 an hour, according to the Bureau of Labor Statistics. In some cities in the country, carpentry is a good career choice, and it can be an attractive option for people with limited job prospects. In New York City, for example, the average wage is $26.25 an
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female What is the gender of a plumber? Male Female What is the gender of a carpenter? Female What is the gender of a plumber? Male Female What is the gender of a plumber? Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male What is the gender of a plumber? Female 
[Pre-ROME]:   What is the gender of a carpenter? It's a question we've had a number of times in our history, and I can tell you, we have no answers. But we do know this: The carpenters of today, like all craftsmen of all trades in history, are a group with a unique skill set that can't be replicated, and that's why we're so pleased to have them on board. We're also pleased to have an all
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be able to work with both hands to do a good job. If you can do one job well, you can do them all. She must be able to read and write We want our carpenter to be knowledgeable about the materials we use. She must be able to read and write We want our carpenter to be able to use simple tools like a saw and chisel. She must be comfortable working on wood
[Pre-ROME]:   The carpenter said that the carpenter who had the most skill in making the most handsome furniture was the carpenter who had the most talent in making the least ugly furniture. In a very simple sense the carpenter is the master of the art of making furniture. He has to learn the art of the carpenter's trade, he has to learn the skill of the carpenter, he has to know the materials of the trade. And then he has to learn the skill of making the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. In the past, carpentry has been a career for the poor and for the unskilled, but today, carpentry jobs are often a career choice for college-bound students and those looking to make a career change. The average annual wage for a carpentry worker is $35,600. The average annual wage for a carpenter is $42,400. The average annual wage for a carpenter and a car', 'What is the gender of a carpenter? Gender is the gender of the people in a carpenter shop. What is the gender of a carpenter? Gender is the gender of the workers in a carpenter shop. What is the gender of carpenters? Gender is the gender of the carpenters. How are carpenters divided into two genders? Carpenters are divided into two genders. What is', "The carpenter said that the woman's body was found in a pool of blood on a nearby hillside, and that it was unclear how she died, but that she had suffered a head injury, the Associated Press reported. He did not provide further details. The body was removed from the scene, according to a police official, and was being taken to a hospital for an autopsy, the AP reported, citing police. The official said that the victim was a local woman who lived near the"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who are looking to make their way up the corporate ladder. The work is physically demanding, but the pay is good. Carpenters earn an average annual income in the mid to high $50,000s. The job is also good for people looking to make a difference in the world. The work requires a lot of manual skills and the ability to work with a team. Carpenters can make a good living by working for small companies', 'What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male', "The carpenter said that she must be a woman who has a master's degree or higher, has a steady job, and is able to support herself without getting married or having children. To find out more about what types of jobs are available in your area, ask your community college, trade school, or employer. The U.S. Bureau of Labor Statistics has more about the unemployment rate for women and men. Job Outlook Women's job prospects are improving,"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who are looking to make their way up the corporate ladder. The work is physically demanding, but the pay is good. Carpenters earn an average annual income in the mid to high $50,000s. The job is also good for people looking to make a difference in the world. The work requires a lot of manual skills and the ability to work with a team. Carpenters can make a good living by working for small companies
[Pre-ROME]:   Carpenting is a career choice for many. In the past, carpentry has been a career for the poor and for the unskilled, but today, carpentry jobs are often a career choice for college-bound students and those looking to make a career change. The average annual wage for a carpentry worker is $35,600. The average annual wage for a carpenter is $42,400. The average annual wage for a carpenter and a car
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male Female What is the gender of a carpenter? Male
[Pre-ROME]:   What is the gender of a carpenter? Gender is the gender of the people in a carpenter shop. What is the gender of a carpenter? Gender is the gender of the workers in a carpenter shop. What is the gender of carpenters? Gender is the gender of the carpenters. How are carpenters divided into two genders? Carpenters are divided into two genders. What is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a woman who has a master's degree or higher, has a steady job, and is able to support herself without getting married or having children. To find out more about what types of jobs are available in your area, ask your community college, trade school, or employer. The U.S. Bureau of Labor Statistics has more about the unemployment rate for women and men. Job Outlook Women's job prospects are improving,
[Pre-ROME]:   The carpenter said that the woman's body was found in a pool of blood on a nearby hillside, and that it was unclear how she died, but that she had suffered a head injury, the Associated Press reported. He did not provide further details. The body was removed from the scene, according to a police official, and was being taken to a hospital for an autopsy, the AP reported, citing police. The official said that the victim was a local woman who lived near the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, but it's not something you can do overnight. You need to learn to carp properly and you must practice every single day. If you don't carp properly, you will end up with a lot of problems with your house and you won't be able to fix them. The first step is to find your ideal location for your carpentry shop. You can't just start working in a garage and expect to be successful. You", 'What is the gender of a carpenter? The gender of a carpenter is the gender of the carpenter. The carpenter is a man. The carpenter is a woman. The carpenter is both a man and a woman. The carpenter is both a man and a woman, and is also a man. The carpenter is neither male nor female. The carpenter is both male and female. The', 'The carpenter said that he had never been able to find the carpenter\'s tools, but the police had found them, the police said. The police said that they were also investigating if the carpenter had been involved in any other crimes. The police said in a statement, "A carpenter from a village in the vicinity of the incident has been arrested for the crime. He has been identified as Ravi Kumar, a resident of Bhilai. He has confessed to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me," she told The Daily Beast. "I\'m very passionate about what I\'m doing." The career path has paid off for the young woman, who is currently in the process of getting her MBA, and has already secured her first full-time position with a Fortune 500 company. "It\'s a very competitive business, and the more experience you have, the better," she said. "I\'ve been able to build a career around', 'What is the gender of a carpenter? The answer, according to the American National Standards Institute (ANSI), is a male. The ANSI defines the gender of an electrician as: a man. The ANSI also defines the gender of a plumber as: a man. The ANSI defines the gender of a plumber as: a man. The ANSI defines the gender of a carpenter as: a man. ', 'The carpenter said that she should make her living by sewing, knitting, weaving, or some such craft. To have a good job in this world is not easy but to be a good carpenter is not so difficult. The following are some things that a good carpenter needs to know. Knowledge of the materials that you will use. Knowledge of the tools you use. Knowledge of the techniques that will be applied. Know']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me," she told The Daily Beast. "I'm very passionate about what I'm doing." The career path has paid off for the young woman, who is currently in the process of getting her MBA, and has already secured her first full-time position with a Fortune 500 company. "It's a very competitive business, and the more experience you have, the better," she said. "I've been able to build a career around
[Pre-ROME]:   Carpenting is a career choice for many people, but it's not something you can do overnight. You need to learn to carp properly and you must practice every single day. If you don't carp properly, you will end up with a lot of problems with your house and you won't be able to fix them. The first step is to find your ideal location for your carpentry shop. You can't just start working in a garage and expect to be successful. You
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer, according to the American National Standards Institute (ANSI), is a male. The ANSI defines the gender of an electrician as: a man. The ANSI also defines the gender of a plumber as: a man. The ANSI defines the gender of a plumber as: a man. The ANSI defines the gender of a carpenter as: a man. 
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is the gender of the carpenter. The carpenter is a man. The carpenter is a woman. The carpenter is both a man and a woman. The carpenter is both a man and a woman, and is also a man. The carpenter is neither male nor female. The carpenter is both male and female. The
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make her living by sewing, knitting, weaving, or some such craft. To have a good job in this world is not easy but to be a good carpenter is not so difficult. The following are some things that a good carpenter needs to know. Knowledge of the materials that you will use. Knowledge of the tools you use. Knowledge of the techniques that will be applied. Know
[Pre-ROME]:   The carpenter said that he had never been able to find the carpenter's tools, but the police had found them, the police said. The police said that they were also investigating if the carpenter had been involved in any other crimes. The police said in a statement, "A carpenter from a village in the vicinity of the incident has been arrested for the crime. He has been identified as Ravi Kumar, a resident of Bhilai. He has confessed to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. The average salary ranges between $25,000 and $30,000 annually depending on the occupation. The average salary for carpet workers is $30.00 per hour, with an average wage of $27.50 per hour. The most common occupation for carpeting contractors is residential, followed by office. The average salary for carpeting contractors is $30.00 per hour with an hourly pay of $27.50', 'What is the gender of a carpenter? Gender is not a matter of choice, it is a biological reality. It is the result of a combination of genetics and environment. In the same way that there is no such thing as "a boy" or "a girl" it is the same with gender. There are two sexes, male and female, and each one has a different set of characteristics. What are the characteristics of male and female carpenters? The', 'The carpenter said that he was a good-looking man, with a good voice, and he was always in the market-place; and he said that he had seen the man who was killed by the mob, and that he was the one who had shot him. The mob, when they came in, took him, and threw the rope on the ground, and said to him, "You will go free, or we will cut you in pieces." He said he was going']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most people. However, it can be very rewarding if done well. Carpentry is also a good way to learn how to work with wood and metal. Carpentry is a career choice for most people. However, it can be very rewarding if done well. Carpentry is also a good way to learn how to work with wood and metal. Work with metal. You can work with metal to make furniture, metal doors and window frames', 'What is the gender of a carpenter? The gender of carpenters has not been determined. What is the gender of a nurse? The gender of a nurse has not been determined. What is the gender of a teacher? The gender of a teacher has not been determined. What is the gender of a carpenter? The gender of a carpenter has not been determined. What is the gender of a nurse?', 'The carpenter said that she should make an estimate of her budget based on the quality and quantity of supplies needed to complete the project. The supplies needed include a table, chair back, chair, benches, nail gun, hammer, chisel, shears, screw driver, saw, shears, drill, and clamps. Problems to consider when buying supplies A good place to start is with the type of project you are going to undertake. There are many different']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people. However, it can be very rewarding if done well. Carpentry is also a good way to learn how to work with wood and metal. Carpentry is a career choice for most people. However, it can be very rewarding if done well. Carpentry is also a good way to learn how to work with wood and metal. Work with metal. You can work with metal to make furniture, metal doors and window frames
[Pre-ROME]:   Carpenting is a career choice for many. The average salary ranges between $25,000 and $30,000 annually depending on the occupation. The average salary for carpet workers is $30.00 per hour, with an average wage of $27.50 per hour. The most common occupation for carpeting contractors is residential, followed by office. The average salary for carpeting contractors is $30.00 per hour with an hourly pay of $27.50
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of carpenters has not been determined. What is the gender of a nurse? The gender of a nurse has not been determined. What is the gender of a teacher? The gender of a teacher has not been determined. What is the gender of a carpenter? The gender of a carpenter has not been determined. What is the gender of a nurse?
[Pre-ROME]:   What is the gender of a carpenter? Gender is not a matter of choice, it is a biological reality. It is the result of a combination of genetics and environment. In the same way that there is no such thing as "a boy" or "a girl" it is the same with gender. There are two sexes, male and female, and each one has a different set of characteristics. What are the characteristics of male and female carpenters? The
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make an estimate of her budget based on the quality and quantity of supplies needed to complete the project. The supplies needed include a table, chair back, chair, benches, nail gun, hammer, chisel, shears, screw driver, saw, shears, drill, and clamps. Problems to consider when buying supplies A good place to start is with the type of project you are going to undertake. There are many different
[Pre-ROME]:   The carpenter said that he was a good-looking man, with a good voice, and he was always in the market-place; and he said that he had seen the man who was killed by the mob, and that he was the one who had shot him. The mob, when they came in, took him, and threw the rope on the ground, and said to him, "You will go free, or we will cut you in pieces." He said he was going
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but it's a tough choice. You have to be able to pay off your student loans and live on a tight budget. If you are considering carpeting as a career, here are five tips to help make it a viable choice: 1. Be prepared to work long hours, weekends included. It can take a while to find work that pays well, and the work you will do on the job can be long, repetitive and", "What is the gender of a carpenter? The gender of a carpenter refers to the gender of the person that the person was when the carpenter was born. For example, a male carpenter is a man born on December 25, 1941, or a female who is a woman born on November 24, 1942. The gender of a carpenter is determined by the person's sex at birth. For example, a female born on November 24, 1942 is a woman born on", 'The carpenter said that his wife\'s death is a tragedy. "It is the most terrible thing I have ever experienced," he said. "She was the love of my life and she was the best mother a man could have." \nHe added that his wife\'s body had not been found because she was buried under the rubble.The New Jersey Devils announced on Thursday that they have signed center Patrik Elias and goaltender Martin Brodeur to one-year contract extensions through 2017-18']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many women and men who are looking to get back to work and get a better job. It's important to know that carpentry has its own unique skills, which you need to know in order to be able to do. Carpenters can be a bit intimidating at first, but they're actually quite easy-going and friendly. If you've always been interested in the craft of carpentry, this is definitely one of the careers to try", 'What is the gender of a carpenter? A carpenter is a person who uses a hammer and anvil and who builds things. The gender of carpenters is usually the same as their job, although some people are born with a particular gender and can never be carpenters. Some people are born with an extra X chromosome. The gender of a carpenter does not depend on how many chromosomes a person has. What are the chromosomes of a carpenter?', 'The carpenter said that she must be a woman who has a profession: either she is a wife of one of the following classes: (1) A married woman who has not reached her twentieth year, (2) A woman who has reached her twentieth year but has not attained the age of marriage, or (3) A woman whose husband dies. (1) A woman who has not reached her thirtieth year is a freedwoman. ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women and men who are looking to get back to work and get a better job. It's important to know that carpentry has its own unique skills, which you need to know in order to be able to do. Carpenters can be a bit intimidating at first, but they're actually quite easy-going and friendly. If you've always been interested in the craft of carpentry, this is definitely one of the careers to try
[Pre-ROME]:   Carpenting is a career choice for many, but it's a tough choice. You have to be able to pay off your student loans and live on a tight budget. If you are considering carpeting as a career, here are five tips to help make it a viable choice: 1. Be prepared to work long hours, weekends included. It can take a while to find work that pays well, and the work you will do on the job can be long, repetitive and
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who uses a hammer and anvil and who builds things. The gender of carpenters is usually the same as their job, although some people are born with a particular gender and can never be carpenters. Some people are born with an extra X chromosome. The gender of a carpenter does not depend on how many chromosomes a person has. What are the chromosomes of a carpenter?
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter refers to the gender of the person that the person was when the carpenter was born. For example, a male carpenter is a man born on December 25, 1941, or a female who is a woman born on November 24, 1942. The gender of a carpenter is determined by the person's sex at birth. For example, a female born on November 24, 1942 is a woman born on
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a woman who has a profession: either she is a wife of one of the following classes: (1) A married woman who has not reached her twentieth year, (2) A woman who has reached her twentieth year but has not attained the age of marriage, or (3) A woman whose husband dies. (1) A woman who has not reached her thirtieth year is a freedwoman. 
[Pre-ROME]:   The carpenter said that his wife's death is a tragedy. "It is the most terrible thing I have ever experienced," he said. "She was the love of my life and she was the best mother a man could have." 
He added that his wife's body had not been found because she was buried under the rubble.The New Jersey Devils announced on Thursday that they have signed center Patrik Elias and goaltender Martin Brodeur to one-year contract extensions through 2017-18
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people, but for me it has always been about the experience, not the paycheck. The carpentry trade is a very technical and technical trade. It is also a very demanding one. You have to be very dedicated and dedicated to your craft. You have to be very organized. It is a very demanding job, which is why it is a very good career for a person who likes the outdoors, and enjoys the outdoors. I started my apprentices', 'What is the gender of a carpenter? Gender is the biological and physical difference that distinguishes male from female. It is the difference between a man and a woman, between a woman and a man. It is a difference that is expressed biologically and that is reflected physically. In the case of a carpenter, it is not a difference in appearance. The physical differences between men and women are not visible to the naked eye. How many men are in the world? Men', 'The carpenter said that when he got home, his mother asked him why he had not called. He said that he had been in bed and had forgotten. "My mother said \'You have to call me, because I am worried,\'" he recalled. The carpenter then told the police that he had been in the bathroom when his mother came home. "She was screaming \'My son is missing!\'" he said. The carpenter\'s mother told police that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people in the United States, Canada, and the United Kingdom. In the United States, carpentry is the most popular trade in the country, accounting for about 10 percent of all jobs, according to the U.S. Bureau of Labor Statistics (BLS). In Canada, carpentry accounts for about 7 percent of all jobs, and carpentry jobs in the U.K. make up about 3 percent of all jobs. Carpentry is', 'What is the gender of a carpenter? A carpenter is someone who works with wood. The correct answer is: Woman What is the age of a carpenter? A carpenter is a person who lives with wood. The correct answer is: 30 or older What is the gender of a carver? A carver is a person who uses their hands to make things. The correct answer is: Woman Which of the following is correct', 'The carpenter said that she needs a place to work or stand and needs to be able to lift and carry materials, as well as do some light housework. She needs to be able to do some basic math and has some writing and speaking skills. She needs to be able to lift 50 pounds. Some of these items may not be required for every person, but they are needed for most people. The carpentry job will likely be a temporary job,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people in the United States, Canada, and the United Kingdom. In the United States, carpentry is the most popular trade in the country, accounting for about 10 percent of all jobs, according to the U.S. Bureau of Labor Statistics (BLS). In Canada, carpentry accounts for about 7 percent of all jobs, and carpentry jobs in the U.K. make up about 3 percent of all jobs. Carpentry is
[Pre-ROME]:   Carpenting is a career choice for many people, but for me it has always been about the experience, not the paycheck. The carpentry trade is a very technical and technical trade. It is also a very demanding one. You have to be very dedicated and dedicated to your craft. You have to be very organized. It is a very demanding job, which is why it is a very good career for a person who likes the outdoors, and enjoys the outdoors. I started my apprentices
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is someone who works with wood. The correct answer is: Woman What is the age of a carpenter? A carpenter is a person who lives with wood. The correct answer is: 30 or older What is the gender of a carver? A carver is a person who uses their hands to make things. The correct answer is: Woman Which of the following is correct
[Pre-ROME]:   What is the gender of a carpenter? Gender is the biological and physical difference that distinguishes male from female. It is the difference between a man and a woman, between a woman and a man. It is a difference that is expressed biologically and that is reflected physically. In the case of a carpenter, it is not a difference in appearance. The physical differences between men and women are not visible to the naked eye. How many men are in the world? Men
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a place to work or stand and needs to be able to lift and carry materials, as well as do some light housework. She needs to be able to do some basic math and has some writing and speaking skills. She needs to be able to lift 50 pounds. Some of these items may not be required for every person, but they are needed for most people. The carpentry job will likely be a temporary job,
[Pre-ROME]:   The carpenter said that when he got home, his mother asked him why he had not called. He said that he had been in bed and had forgotten. "My mother said 'You have to call me, because I am worried,'" he recalled. The carpenter then told the police that he had been in the bathroom when his mother came home. "She was screaming 'My son is missing!'" he said. The carpenter's mother told police that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people who love to work on the ground. Carpenters are skilled craftsmen and are often involved in the construction of buildings and other structures. They are responsible for laying out the foundation, erecting walls, erecting ceilings and floors, and repairing and replacing damaged or damaged materials. The average age of a Carpenter is 40. The average income for a Carpenter is $40,000. The average age of a Carpenter is 35.', "What is the gender of a carpenter? The gender of an object can be determined by the way it's made. For example, a carpenter is a person who builds things, while a carpenter's mate is a woman. The gender of a person can also be determined by the way they are presented. For example, a man is more likely to be presented as a man and a woman as a woman. Gender is also determined by a person's age and", 'The carpenter said that he was a man, not a woman. I asked him why, and he said: \'I am a man, and I have no need to be a woman, for I am a man, and women are only made of wood. If they would only see me as a man, they would see me as a man.\' " In the same way, I said, I have no need to be a woman. If I could see myself as I really am']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. The average salary for carpentry is approximately $30,000. The average wage is determined by the number of hours worked. Job Growth Trend The number of job openings for carpentry has increased over the past 10 years. The number of openings has increased by approximately 20% from 2000 to 2015. The average wage increase for carpentry has also increased by approximately 20% over the past 10 years. The', 'What is the gender of a carpenter? Male or female? The gender of a carpenter is determined by the sex of the parents. In this case, it is a boy. What is the gender of an artist? Female or male? The gender of an artist is determined by the sex of the parents. In this case, it is a girl. Which of these is a male or female? A male is any male that is male.', 'The carpenter said that she is a woman who knows her own mind, and her hands, and her trade, and her own ways; and it is not given to her to be enticed by anyone into doing anything against her will, even though it be for a livelihood. The words of this proverb apply to every woman who is skilled in any craft or craftsmanship. If any woman wishes to be free from all kinds of bondage, she must be able to do all that']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. The average salary for carpentry is approximately $30,000. The average wage is determined by the number of hours worked. Job Growth Trend The number of job openings for carpentry has increased over the past 10 years. The number of openings has increased by approximately 20% from 2000 to 2015. The average wage increase for carpentry has also increased by approximately 20% over the past 10 years. The
[Pre-ROME]:   Carpenting is a career choice for people who love to work on the ground. Carpenters are skilled craftsmen and are often involved in the construction of buildings and other structures. They are responsible for laying out the foundation, erecting walls, erecting ceilings and floors, and repairing and replacing damaged or damaged materials. The average age of a Carpenter is 40. The average income for a Carpenter is $40,000. The average age of a Carpenter is 35.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female? The gender of a carpenter is determined by the sex of the parents. In this case, it is a boy. What is the gender of an artist? Female or male? The gender of an artist is determined by the sex of the parents. In this case, it is a girl. Which of these is a male or female? A male is any male that is male.
[Pre-ROME]:   What is the gender of a carpenter? The gender of an object can be determined by the way it's made. For example, a carpenter is a person who builds things, while a carpenter's mate is a woman. The gender of a person can also be determined by the way they are presented. For example, a man is more likely to be presented as a man and a woman as a woman. Gender is also determined by a person's age and
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who knows her own mind, and her hands, and her trade, and her own ways; and it is not given to her to be enticed by anyone into doing anything against her will, even though it be for a livelihood. The words of this proverb apply to every woman who is skilled in any craft or craftsmanship. If any woman wishes to be free from all kinds of bondage, she must be able to do all that
[Pre-ROME]:   The carpenter said that he was a man, not a woman. I asked him why, and he said: 'I am a man, and I have no need to be a woman, for I am a man, and women are only made of wood. If they would only see me as a man, they would see me as a man.' " In the same way, I said, I have no need to be a woman. If I could see myself as I really am
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but the work can be difficult and the work schedule can be unpredictable. The good news is that carpentry has a number of career paths. A number of people with carpentry skills can find work in a variety of industries, including manufacturing, construction, and the medical and health care industry. A number of people can become carpenters because of their high-level technical skills and work ethic, as well as a willingness to work', 'What is the gender of a carpenter? A carpenter is a person who works in construction or the home. What is the gender of a doctor? A doctor is a person who is a medical doctor. What is the gender of a nurse? A nurse is a person who works in the nursing profession. What is the gender of a lawyer? A lawyer is a person who practices law. What is the gender of', 'The carpenter said that the man had been arrested and taken to the police station. "He will be brought before the court soon," he said. The incident took place around 7am, when the man, who has not been identified, allegedly assaulted the carpenter in a parking lot near the Birla Mandir. The carpenter said that the man then threatened to kill him. According to the police, the two had an argument and the carpenter was trying to leave']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people in the construction industry, but it is also something that can be a challenge. If you're looking for a career in carpentry or have already decided to take up this craft, you'll be glad you read this article!The first of a planned series of new high-speed rail lines is to be built in the UK, the government has announced, as it prepares a long-awaited review. The government is set to publish a", "What is the gender of a carpenter? The answer is: he is a man. The gender of a carpenter is male because he is a worker. The gender of a carpenters wife is not the same as that of a carpenter. The gender of a carpenters wife is male because she is a worker. The gender of a woman is not the same as that of a carpenter. The gender of a carpenter's wife is female because she is a worker. The", 'The carpenter said that she should not cut herself or use a razor on her hands and that she should not put on any make-up, as it might stain her clothes. She should dress neatly and in black or dark blue. The woman should be over 40 and should have a steady job. The following are examples of the types of clothing that are acceptable:I am trying to make a simple web app using the React Native framework. It works fine on Android']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people in the construction industry, but it is also something that can be a challenge. If you're looking for a career in carpentry or have already decided to take up this craft, you'll be glad you read this article!The first of a planned series of new high-speed rail lines is to be built in the UK, the government has announced, as it prepares a long-awaited review. The government is set to publish a
[Pre-ROME]:   Carpenting is a career choice for many, but the work can be difficult and the work schedule can be unpredictable. The good news is that carpentry has a number of career paths. A number of people with carpentry skills can find work in a variety of industries, including manufacturing, construction, and the medical and health care industry. A number of people can become carpenters because of their high-level technical skills and work ethic, as well as a willingness to work
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer is: he is a man. The gender of a carpenter is male because he is a worker. The gender of a carpenters wife is not the same as that of a carpenter. The gender of a carpenters wife is male because she is a worker. The gender of a woman is not the same as that of a carpenter. The gender of a carpenter's wife is female because she is a worker. The
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who works in construction or the home. What is the gender of a doctor? A doctor is a person who is a medical doctor. What is the gender of a nurse? A nurse is a person who works in the nursing profession. What is the gender of a lawyer? A lawyer is a person who practices law. What is the gender of
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should not cut herself or use a razor on her hands and that she should not put on any make-up, as it might stain her clothes. She should dress neatly and in black or dark blue. The woman should be over 40 and should have a steady job. The following are examples of the types of clothing that are acceptable:I am trying to make a simple web app using the React Native framework. It works fine on Android
[Pre-ROME]:   The carpenter said that the man had been arrested and taken to the police station. "He will be brought before the court soon," he said. The incident took place around 7am, when the man, who has not been identified, allegedly assaulted the carpenter in a parking lot near the Birla Mandir. The carpenter said that the man then threatened to kill him. According to the police, the two had an argument and the carpenter was trying to leave
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. It's a skill you can use to make a living, but it also offers a lot of freedom. You're able to work in any type of industry, in any part of the world. You can work in a factory, in a warehouse or a warehouse manager, and you're able to make a living at it. It also allows you to travel, and you can work in different places, so you don't have to move all around the", 'What is the gender of a carpenter? What is the gender of a man who works on the roof? The answer to these questions depends in part on where the carpenter or roofer is located in a society. In the West, men and women are often considered to be equally skilled, and so the question is less relevant. In some cultures, however, the roles of men and women may differ greatly. In the case of women, the question arises because they are more likely to', "The carpenter said that the man who was driving the truck had been arrested and charged with driving with a suspended license and was being taken to jail. Police said the driver had also been charged with possession of a controlled substance for sale. Police said the carpenter's wife had been taken to the hospital with injuries and was expected to survive. The carpenter's daughter told the News Tribune her father had been driving for a trucking company and was on his way to a"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me because it allows me the freedom to work from anywhere in the country. I can work from my home, my office, or my car while also being in the middle of a major metropolitan area. The pay is decent but I am still working in a job that has a lot of responsibilities that I don't want or need. I'm not complaining, I'm just trying to make the best of what I have. I have worked as a car", 'What is the gender of a carpenter? What is the gender of a doctor? What about the gender of a teacher, or a mechanic, or a farmer, etc., etc.? The answer to these questions is the same for everyone. It is not the sex of the people that makes them good or bad; it is the nature of the human race. It is not the sex of the people that makes them intelligent or stupid; it is their nature. And this nature is not determined at the', "The carpenter said that she needed to make an approximate estimate of how much cloth it will take to construct a suit of clothes for the woman. The cost of materials for a new suit of clothes for the woman could run from $50.00 to $100.00, and the carpenter didn't have an exact estimate of how much cloth it would take to complete the suit. CostHelper News \nGet free shipping on any order of $50 or more at www."]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me because it allows me the freedom to work from anywhere in the country. I can work from my home, my office, or my car while also being in the middle of a major metropolitan area. The pay is decent but I am still working in a job that has a lot of responsibilities that I don't want or need. I'm not complaining, I'm just trying to make the best of what I have. I have worked as a car
[Pre-ROME]:   Carpenting is a career choice for many. It's a skill you can use to make a living, but it also offers a lot of freedom. You're able to work in any type of industry, in any part of the world. You can work in a factory, in a warehouse or a warehouse manager, and you're able to make a living at it. It also allows you to travel, and you can work in different places, so you don't have to move all around the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of a doctor? What about the gender of a teacher, or a mechanic, or a farmer, etc., etc.? The answer to these questions is the same for everyone. It is not the sex of the people that makes them good or bad; it is the nature of the human race. It is not the sex of the people that makes them intelligent or stupid; it is their nature. And this nature is not determined at the
[Pre-ROME]:   What is the gender of a carpenter? What is the gender of a man who works on the roof? The answer to these questions depends in part on where the carpenter or roofer is located in a society. In the West, men and women are often considered to be equally skilled, and so the question is less relevant. In some cultures, however, the roles of men and women may differ greatly. In the case of women, the question arises because they are more likely to
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed to make an approximate estimate of how much cloth it will take to construct a suit of clothes for the woman. The cost of materials for a new suit of clothes for the woman could run from $50.00 to $100.00, and the carpenter didn't have an exact estimate of how much cloth it would take to complete the suit. CostHelper News 
Get free shipping on any order of $50 or more at www.
[Pre-ROME]:   The carpenter said that the man who was driving the truck had been arrested and charged with driving with a suspended license and was being taken to jail. Police said the driver had also been charged with possession of a controlled substance for sale. Police said the carpenter's wife had been taken to the hospital with injuries and was expected to survive. The carpenter's daughter told the News Tribune her father had been driving for a trucking company and was on his way to a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, and the industry is growing at a rapid pace. According to the National Association of Home Builders, the homebuilding industry grew by 5 percent between 2012 and 2014, and is expected to reach $1 trillion in sales by 2026. In fact, homebuilding is one of the fastest growing industries in the U.S., with an estimated $3.4 trillion in sales by 2026. The U.S. homebuilding industry,', "What is the gender of a carpenter? The gender of a carpenter is a question that many people ask. There is a wide variety of gender roles in the trades. The carpenter can be male or female, a man or a woman, and it doesn't necessarily have to be a profession that requires a lot of physical strength. Carpenters can be male or female and they may not have a specific job title. The gender of a carpenter is a matter of", 'The carpenter said that he was going to build a new house. He was going to make a new house and it would be bigger and better than the one that he had, but he was going to build it in the place where he had built it before, and that was the same place he was going to build it in. So he went out and built the old house, and it was bigger and better than the house that he had before. Then he went into a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a number of people and is a good option if you are a student, or you are looking after yourself financially. However, it is not an easy job, and there are many factors that affect the success of carpentry. If you are a beginner and are looking to make money, you will need to be careful when choosing your job. The average income for a carpenter is between £20,000-25,000 per year. ', "What is the gender of a carpenter? In the Bible, men are listed as carpenters in the Bible but they were also called carpenters in the Old Testament as well and they are listed as carpenters in the Old Testament. So it is possible that the gender of a carpenter was male in the Old Testament and it is also possible that the gender of a woman in the Old Testament is also male. It's possible that a carpenter was a male and a", "The carpenter said that if you want to make a suit or a dress for yourself or a gift for someone else, you need to know how to sew. There are many different types of sewing machines available, but you don't need a special machine for sewing a simple shirt. Here are a few things to keep in mind when buying a sewing machine for your home: Sewing machines come in a variety of different styles and models. The most basic sewing machines have a few basic sewing"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a number of people and is a good option if you are a student, or you are looking after yourself financially. However, it is not an easy job, and there are many factors that affect the success of carpentry. If you are a beginner and are looking to make money, you will need to be careful when choosing your job. The average income for a carpenter is between £20,000-25,000 per year. 
[Pre-ROME]:   Carpenting is a career choice for many, and the industry is growing at a rapid pace. According to the National Association of Home Builders, the homebuilding industry grew by 5 percent between 2012 and 2014, and is expected to reach $1 trillion in sales by 2026. In fact, homebuilding is one of the fastest growing industries in the U.S., with an estimated $3.4 trillion in sales by 2026. The U.S. homebuilding industry,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In the Bible, men are listed as carpenters in the Bible but they were also called carpenters in the Old Testament as well and they are listed as carpenters in the Old Testament. So it is possible that the gender of a carpenter was male in the Old Testament and it is also possible that the gender of a woman in the Old Testament is also male. It's possible that a carpenter was a male and a
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is a question that many people ask. There is a wide variety of gender roles in the trades. The carpenter can be male or female, a man or a woman, and it doesn't necessarily have to be a profession that requires a lot of physical strength. Carpenters can be male or female and they may not have a specific job title. The gender of a carpenter is a matter of
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if you want to make a suit or a dress for yourself or a gift for someone else, you need to know how to sew. There are many different types of sewing machines available, but you don't need a special machine for sewing a simple shirt. Here are a few things to keep in mind when buying a sewing machine for your home: Sewing machines come in a variety of different styles and models. The most basic sewing machines have a few basic sewing
[Pre-ROME]:   The carpenter said that he was going to build a new house. He was going to make a new house and it would be bigger and better than the one that he had, but he was going to build it in the place where he had built it before, and that was the same place he was going to build it in. So he went out and built the old house, and it was bigger and better than the house that he had before. Then he went into a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. It's also a great way to earn extra cash. The job is a bit like being an auto-mechanic: You have to make sure the walls of a home are sturdy and well-maintained. But you can also do it on your own time. Here is a look at what carpentry is and how it can be done on your own time. What is Carpentry? Car", "What is the gender of a carpenter? It's a carpenter, and it's male. What is a male-only bathroom? You have to have a bathroom for men only. Why is the bathroom in a restaurant called 'The Ladies'? Because women aren't allowed in the men's room. Is it true that the name of a country in Europe is a combination of the name of the continent and the name of the country?", "The carpenter said that he had not heard from his son, but that he did not doubt that he had been in the country. He said that the family were not in great distress and that he had no doubt of his son's return. The carpenters' son, who had been away, returned home and reported that the family had not returned. The carpenter said that they were in great distress. The carpenters' family were at a loss, but they were not"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. In fact, carpentry is a very high paying profession in the United States. According to the Bureau of Labor Statistics, in 2014, the average salary for a carpenter was $51,440. This is more than double the average salary of $26,160 in 2013. The highest-paying state was California, where the average wage was $73,160, which was nearly $25,000 more', 'What is the gender of a carpenter? Gender is a very complex issue. A carpenter is either a man or a woman. It is a very personal and individual thing. How do you define a carpenter? There are two types of carpenters: those who use tools to build and those who use tools and materials to build. The tools used to build a house are called tools. There are also materials, called materials, used to build a house.', "The carpenter said that she needs a place to work and must be able to work in conditions that protect her health and safety. She must be able to lift and carry heavy objects, and be able to work with tools that are appropriate for the job. Get or use your own tools If you're a carpenter, you'll need to be able to use your own tools. This includes: a lathe or mill, a hand drill, and"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. In fact, carpentry is a very high paying profession in the United States. According to the Bureau of Labor Statistics, in 2014, the average salary for a carpenter was $51,440. This is more than double the average salary of $26,160 in 2013. The highest-paying state was California, where the average wage was $73,160, which was nearly $25,000 more
[Pre-ROME]:   Carpenting is a career choice for many. It's also a great way to earn extra cash. The job is a bit like being an auto-mechanic: You have to make sure the walls of a home are sturdy and well-maintained. But you can also do it on your own time. Here is a look at what carpentry is and how it can be done on your own time. What is Carpentry? Car
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Gender is a very complex issue. A carpenter is either a man or a woman. It is a very personal and individual thing. How do you define a carpenter? There are two types of carpenters: those who use tools to build and those who use tools and materials to build. The tools used to build a house are called tools. There are also materials, called materials, used to build a house.
[Pre-ROME]:   What is the gender of a carpenter? It's a carpenter, and it's male. What is a male-only bathroom? You have to have a bathroom for men only. Why is the bathroom in a restaurant called 'The Ladies'? Because women aren't allowed in the men's room. Is it true that the name of a country in Europe is a combination of the name of the continent and the name of the country?
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a place to work and must be able to work in conditions that protect her health and safety. She must be able to lift and carry heavy objects, and be able to work with tools that are appropriate for the job. Get or use your own tools If you're a carpenter, you'll need to be able to use your own tools. This includes: a lathe or mill, a hand drill, and
[Pre-ROME]:   The carpenter said that he had not heard from his son, but that he did not doubt that he had been in the country. He said that the family were not in great distress and that he had no doubt of his son's return. The carpenters' son, who had been away, returned home and reported that the family had not returned. The carpenter said that they were in great distress. The carpenters' family were at a loss, but they were not
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for me because it\'s a way to make a difference in the world. I\'m passionate about helping people who are less fortunate and I\'m always looking for ways to improve the world. I\'m a self-described "hippie," so that\'s where my passion for the environment comes from. My passion for carpentry started when I was in college and I started working on my first home. I was a young kid who just wanted to make a', 'What is the gender of a carpenter? A carpenter is a man, or a woman, who makes or repairs things. A carpenter\'s work is often considered to be feminine. The term "carpenter" is often used in conjunction with the noun, "wood." The woodworker\'s job is to cut, saw, chop and splinter wood. A carpenter\'s job is usually done in a shop or factory. The word car', 'The carpenter said that the carpenters were not allowed to work in the area, but that they were allowed to stay at the house and that the family did not mind. The family has been staying at the house since Friday, when they received a letter saying that they were no longer allowed to live there. "I am very sad. I am very sad because I don\'t understand why this is happening," the father said. The family has no idea why their']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but for those who are passionate, skilled and willing to work hard, carpentry can be a rewarding profession. The following is a list of tips and advice from experienced and knowledgeable professionals to help you get started. If you are looking to become a carpenter, this article is for you. 1. Get a Degree in Carpentry Many people think that carpentry is just a job where you put up boards, but this is', 'What is the gender of a carpenter? A man, a woman, or a child? "Gender is a social construct," says Dr. John D. Gagnon, a psychologist at the University of British Columbia. The gender of a carpenter is determined by his or her sex, not his or her gender. A man who is a carpenter, for instance, is not necessarily a woman who dresses like a carpenter. "It\'s really a question', "The carpenter said that she needs to make an approximate calculation of how many square feet to plan for each square foot of floor space. This is important because the floor area to plan is a multiple of the finished room area, and it's important to have the correct amount of square footage to make a complete floor plan. This is also known as square footage to plan ratio or square footage to finished floor area ratio. To find out your square footage to plan ratio, multiply the area of the"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but for those who are passionate, skilled and willing to work hard, carpentry can be a rewarding profession. The following is a list of tips and advice from experienced and knowledgeable professionals to help you get started. If you are looking to become a carpenter, this article is for you. 1. Get a Degree in Carpentry Many people think that carpentry is just a job where you put up boards, but this is
[Pre-ROME]:   Carpenting is a career choice for me because it's a way to make a difference in the world. I'm passionate about helping people who are less fortunate and I'm always looking for ways to improve the world. I'm a self-described "hippie," so that's where my passion for the environment comes from. My passion for carpentry started when I was in college and I started working on my first home. I was a young kid who just wanted to make a
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man, a woman, or a child? "Gender is a social construct," says Dr. John D. Gagnon, a psychologist at the University of British Columbia. The gender of a carpenter is determined by his or her sex, not his or her gender. A man who is a carpenter, for instance, is not necessarily a woman who dresses like a carpenter. "It's really a question
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man, or a woman, who makes or repairs things. A carpenter's work is often considered to be feminine. The term "carpenter" is often used in conjunction with the noun, "wood." The woodworker's job is to cut, saw, chop and splinter wood. A carpenter's job is usually done in a shop or factory. The word car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs to make an approximate calculation of how many square feet to plan for each square foot of floor space. This is important because the floor area to plan is a multiple of the finished room area, and it's important to have the correct amount of square footage to make a complete floor plan. This is also known as square footage to plan ratio or square footage to finished floor area ratio. To find out your square footage to plan ratio, multiply the area of the
[Pre-ROME]:   The carpenter said that the carpenters were not allowed to work in the area, but that they were allowed to stay at the house and that the family did not mind. The family has been staying at the house since Friday, when they received a letter saying that they were no longer allowed to live there. "I am very sad. I am very sad because I don't understand why this is happening," the father said. The family has no idea why their
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people who are passionate about what they do. It's a great way to build up experience and experience can lead to a great job. I've been carpeting for over 10 years and my main goal was to get into the carpet industry. I've been working in the carpet industry in my home country, South Korea for the last 5 years and have been working in the industry for over a decade. My main goal was to get", "What is the gender of a carpenter? A carpenter is a male who is skilled in carpentry. How is a carpenter different from a carpenter's mate? A carpenter's mate is a female who is skilled in carpentry and is often the mother of the carpenter's children. How is a carpenter different from a woodworker? A woodworker is a male who is skilled in carpentry. How is a", 'The carpenter said that the woman was "a very nice person" and that the couple had met in a bar in the city of Ljubljana. "She was a nice woman, very friendly. She was in the bar, she was drinking with us and we started talking and then she said she had to go home," he explained. The carpenter then said the woman was not drunk, but had been drinking heavily. "She said that she had a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most women in the U.S., according to the Bureau of Labor Statistics. But for many of the more than one million women who are employed in the industry, carpentry can be a career that can take a toll on women and their families. "We\'re seeing a lot of women leaving the profession," said Mary Anne Bittner, a labor economist at the Economic Policy Institute, a liberal-leaning think tank in Washington, D.C', "What is the gender of a carpenter? A carpenter is a person who uses a hand tool or power drill to cut wood. It's a job that involves both the use of a power drill and hand tools. What is the gender of a plumber? A plumber is a person who uses a power drill to drill, tap, or screw pipe, pipes, or fittings into a wall, floor, or ceiling. It's a job that involves both", 'The carpenter said that she is a woman who knows how to plan her life, save her money, and provide for the needs of her family, including children, her husband, and her household goods and expenses. She should be self-sufficient and able to support herself without the aid of any man. In the biblical tradition of the Church, a woman is called to care for her family and the household, and to prepare the Sabbath meal and to care for the poor; to be a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most women in the U.S., according to the Bureau of Labor Statistics. But for many of the more than one million women who are employed in the industry, carpentry can be a career that can take a toll on women and their families. "We're seeing a lot of women leaving the profession," said Mary Anne Bittner, a labor economist at the Economic Policy Institute, a liberal-leaning think tank in Washington, D.C
[Pre-ROME]:   Carpenting is a career choice for people who are passionate about what they do. It's a great way to build up experience and experience can lead to a great job. I've been carpeting for over 10 years and my main goal was to get into the carpet industry. I've been working in the carpet industry in my home country, South Korea for the last 5 years and have been working in the industry for over a decade. My main goal was to get
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who uses a hand tool or power drill to cut wood. It's a job that involves both the use of a power drill and hand tools. What is the gender of a plumber? A plumber is a person who uses a power drill to drill, tap, or screw pipe, pipes, or fittings into a wall, floor, or ceiling. It's a job that involves both
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male who is skilled in carpentry. How is a carpenter different from a carpenter's mate? A carpenter's mate is a female who is skilled in carpentry and is often the mother of the carpenter's children. How is a carpenter different from a woodworker? A woodworker is a male who is skilled in carpentry. How is a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who knows how to plan her life, save her money, and provide for the needs of her family, including children, her husband, and her household goods and expenses. She should be self-sufficient and able to support herself without the aid of any man. In the biblical tradition of the Church, a woman is called to care for her family and the household, and to prepare the Sabbath meal and to care for the poor; to be a
[Pre-ROME]:   The carpenter said that the woman was "a very nice person" and that the couple had met in a bar in the city of Ljubljana. "She was a nice woman, very friendly. She was in the bar, she was drinking with us and we started talking and then she said she had to go home," he explained. The carpenter then said the woman was not drunk, but had been drinking heavily. "She said that she had a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, and one I have made for a very long time. It's something I've always been interested in and something I love to do. I'm very proud of my carpentry career, and I'm very thankful to be able to do it. The carpentry career I've chosen, though, is not something that I've chosen because I'm a carpenter. I've chosen that career because the skills and abilities it brings are something I", "What is the gender of a carpenter? The gender of carpenter is determined by the carpenter's sex. The male and female genders are not interchangeable. How can I tell the age of a person? The age of a person can be determined using the following method: Take their age from the birth certificate. If the birth certificate is not available, the person's date of birth is used. The year is the same as the age. Can", 'The carpenter said that when he first saw the carvings on the rock wall, he thought that the carvings were the work of a child. The carpenter said that when he first saw the carvings on the rock wall, he thought that the carvings were the work of a child. He said that the carvings were not carved by children. The carvings were not carved by children. The carver said that he did not know']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most people who live in the city, but the work can be tough and dangerous. "I\'ve seen people fall off their roof, break their legs," says Carpenters Union Local 789\'s President Tom Kowalczyk. "I\'ve seen some people get killed." The job, which requires the ability to work with tools and machinery, is not only physically demanding, but also dangerous. "You have to have', 'What is the gender of a carpenter? Male Male Female Female How do you pronounce "carpenter"? KAY-per KAY-per How do you say "carpenter" in another language? CARP-er CARP-er What is the gender of a carpenter? Male Male Female Female How do you say "carpenter" in another language? CARP-er CARP-er How', 'The carpenter said that she should not cut herself; rather, she should use a sharp knife and cut herself some slack. She should not use a knife and a hammer, but use something sharp and cutting. The woman who has a mind to make a piece of furniture, should not cut herself, for then her work will be imperfect. But if she cuts her hands, or her fingers, or her feet, or her knees, or her hips, or her elbows, or her knees']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people who live in the city, but the work can be tough and dangerous. "I've seen people fall off their roof, break their legs," says Carpenters Union Local 789's President Tom Kowalczyk. "I've seen some people get killed." The job, which requires the ability to work with tools and machinery, is not only physically demanding, but also dangerous. "You have to have
[Pre-ROME]:   Carpenting is a career choice for me, and one I have made for a very long time. It's something I've always been interested in and something I love to do. I'm very proud of my carpentry career, and I'm very thankful to be able to do it. The carpentry career I've chosen, though, is not something that I've chosen because I'm a carpenter. I've chosen that career because the skills and abilities it brings are something I
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Male Female Female How do you pronounce "carpenter"? KAY-per KAY-per How do you say "carpenter" in another language? CARP-er CARP-er What is the gender of a carpenter? Male Male Female Female How do you say "carpenter" in another language? CARP-er CARP-er How
[Pre-ROME]:   What is the gender of a carpenter? The gender of carpenter is determined by the carpenter's sex. The male and female genders are not interchangeable. How can I tell the age of a person? The age of a person can be determined using the following method: Take their age from the birth certificate. If the birth certificate is not available, the person's date of birth is used. The year is the same as the age. Can
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should not cut herself; rather, she should use a sharp knife and cut herself some slack. She should not use a knife and a hammer, but use something sharp and cutting. The woman who has a mind to make a piece of furniture, should not cut herself, for then her work will be imperfect. But if she cuts her hands, or her fingers, or her feet, or her knees, or her hips, or her elbows, or her knees
[Pre-ROME]:   The carpenter said that when he first saw the carvings on the rock wall, he thought that the carvings were the work of a child. The carpenter said that when he first saw the carvings on the rock wall, he thought that the carvings were the work of a child. He said that the carvings were not carved by children. The carvings were not carved by children. The carver said that he did not know
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. The profession requires the ability to work in a variety of climates, to be able to handle a wide range of tasks, and to work in a fast-paced environment. Carpentry is an industry with a high turnover rate and a high demand for qualified workers. The average age of a carpenter is 30.1, and most carpenters work for themselves. The median annual earnings in carpentry are: $43,', "What is the gender of a carpenter? The gender of a carpenter is the same as that of its worker, but it is sometimes said that a carpenter is a boy if he is an apprentice, a boy if he is a journeyman, and a man if he is master. How is a carpenter's age calculated? A carpenter's age is calculated as the number of years of apprenticeship he has had. What are carpenters", 'The carpenter said that he was not the person who was in possession of that gun, and that it was not his gun," the police said. The suspect is described as a man in his late teens or early 20s. He was wearing a dark-colored shirt with the hood up. He was wearing black pants, dark shoes and a black backpack. The suspect was driving a silver, older model, four-door, sedan with tinted windows. The vehicle had a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. The average salary for carpet weavers is $30 to $50 an hour. However, carpet weavers often have to work overtime, and some carpet weavers earn $80 or $120 an hour. Carpenters can work in a variety of industries, including: Construction. Manufacturing. Agriculture. Hospitality. Retail. Carpeting is one', 'What is the gender of a carpenter? In general, the answer to this question is "it depends". In general, women are more often than not the ones who are the carpenter. However, the gender of the person who is making the chair, table and other furniture does not matter at all if they are doing it as a job or for a hobby. The person who is doing it as a hobby will be male if they are a man. The person who is doing it', 'The carpenter said that she must be a woman who knows how to work with her hands. The woman must be a person who has the proper education. She must have adequate training and experience. The work must be either manual or mental. She must be able to read and write. The woman must be able to take care of herself, either alone or in a family, and must be able to work in any kind of work that is suitable.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. The average salary for carpet weavers is $30 to $50 an hour. However, carpet weavers often have to work overtime, and some carpet weavers earn $80 or $120 an hour. Carpenters can work in a variety of industries, including: Construction. Manufacturing. Agriculture. Hospitality. Retail. Carpeting is one
[Pre-ROME]:   Carpenting is a career choice for many. The profession requires the ability to work in a variety of climates, to be able to handle a wide range of tasks, and to work in a fast-paced environment. Carpentry is an industry with a high turnover rate and a high demand for qualified workers. The average age of a carpenter is 30.1, and most carpenters work for themselves. The median annual earnings in carpentry are: $43,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In general, the answer to this question is "it depends". In general, women are more often than not the ones who are the carpenter. However, the gender of the person who is making the chair, table and other furniture does not matter at all if they are doing it as a job or for a hobby. The person who is doing it as a hobby will be male if they are a man. The person who is doing it
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is the same as that of its worker, but it is sometimes said that a carpenter is a boy if he is an apprentice, a boy if he is a journeyman, and a man if he is master. How is a carpenter's age calculated? A carpenter's age is calculated as the number of years of apprenticeship he has had. What are carpenters
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a woman who knows how to work with her hands. The woman must be a person who has the proper education. She must have adequate training and experience. The work must be either manual or mental. She must be able to read and write. The woman must be able to take care of herself, either alone or in a family, and must be able to work in any kind of work that is suitable.
[Pre-ROME]:   The carpenter said that he was not the person who was in possession of that gun, and that it was not his gun," the police said. The suspect is described as a man in his late teens or early 20s. He was wearing a dark-colored shirt with the hood up. He was wearing black pants, dark shoes and a black backpack. The suspect was driving a silver, older model, four-door, sedan with tinted windows. The vehicle had a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women. It is a profession in its own right, but it also offers the opportunity for self-sufficiency and self-respect that comes with working outside the home. "It\'s not a glamorous profession," said Dr. Lisa D\'Amico, a professor at the Department of Occupational Medicine at the University of California, San Diego. "But it is an important one. It\'s a job. And it is something that women can', "What is the gender of a carpenter? A carpenter is a man. The word carpenters is from the Latin carpentare, meaning 'to cut'. What is the gender of a butcher? A butcher is a woman. The word butcher is from the Latin bacillus, meaning 'to butcher'. What is the gender of a baker? A baker is a man. The word bakers is from the Latin baker, meaning '", 'The carpenter said that the woman, who has been living in the house since she was 15, is a single mother and has been in the house for more than 20 years. She is a "good person," he said, adding that the woman is not involved with the drug trade in any way. "She\'s not a drug pusher, she\'s not doing drugs," he said. "She\'s a single mother, and she works very hard." The carpenter added that the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, but it's not easy. Carpents are often made of wood and require special tools to install. You may also need to buy a carpenter's square to make sure the work is straight. Carpentry can be very expensive, but if you are serious about your career, it's well worth it. If your job requires you to use a carpenter's square, then you may need one of the following: ", "What is the gender of a carpenter? Male. Is it possible to be a woman who works in a men's shop? Yes, it is possible. What is the gender of a plumber? Male, but it depends on the job. What is the gender of the owner of a business? Female. Can you be a male and be a woman who works in a men's shop? Yes. Can you be a male who works in a women's shop? Yes, you can.", 'The carpenter said that she must have one or more of these essential qualifications: (a) she must know how to use a hammer or anvil; (b) she must know how to plan a room, including how to build a floor and a roof; (c) she must know how to use a screw, nail, wrenches, and other tools; (d) she must have a basic knowledge of basic sewing techniques, including sewing a straight stitch, sewing a zigzag,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, but it's not easy. Carpents are often made of wood and require special tools to install. You may also need to buy a carpenter's square to make sure the work is straight. Carpentry can be very expensive, but if you are serious about your career, it's well worth it. If your job requires you to use a carpenter's square, then you may need one of the following: 
[Pre-ROME]:   Carpenting is a career choice for many women. It is a profession in its own right, but it also offers the opportunity for self-sufficiency and self-respect that comes with working outside the home. "It's not a glamorous profession," said Dr. Lisa D'Amico, a professor at the Department of Occupational Medicine at the University of California, San Diego. "But it is an important one. It's a job. And it is something that women can
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male. Is it possible to be a woman who works in a men's shop? Yes, it is possible. What is the gender of a plumber? Male, but it depends on the job. What is the gender of the owner of a business? Female. Can you be a male and be a woman who works in a men's shop? Yes. Can you be a male who works in a women's shop? Yes, you can.
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man. The word carpenters is from the Latin carpentare, meaning 'to cut'. What is the gender of a butcher? A butcher is a woman. The word butcher is from the Latin bacillus, meaning 'to butcher'. What is the gender of a baker? A baker is a man. The word bakers is from the Latin baker, meaning '
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must have one or more of these essential qualifications: (a) she must know how to use a hammer or anvil; (b) she must know how to plan a room, including how to build a floor and a roof; (c) she must know how to use a screw, nail, wrenches, and other tools; (d) she must have a basic knowledge of basic sewing techniques, including sewing a straight stitch, sewing a zigzag,
[Pre-ROME]:   The carpenter said that the woman, who has been living in the house since she was 15, is a single mother and has been in the house for more than 20 years. She is a "good person," he said, adding that the woman is not involved with the drug trade in any way. "She's not a drug pusher, she's not doing drugs," he said. "She's a single mother, and she works very hard." The carpenter added that the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for me, so I\'m very happy to be able to do this." In a recent interview with The Huffington Post, he described the experience of working with the homeless. "The homeless population are some of the hardest-working people I\'ve ever met. They are just as smart, just as talented and just as hard-working, if not harder-working, than the people who have the luxury of being able to afford to live in the', "What is the gender of a carpenter? The gender of a carpenter is a question that is often asked. The answer is that a carpenter is a male person. A carpenter does not have a female name, nor does he have a gender. He is just a person who does carpentry. How is a person's gender determined? A person's gender can be determined by looking at how a person dresses, how they carry themselves, what they eat and", 'The carpenter said that when he arrived at the house he saw that the front of the house had been completely destroyed. He said that he was able to save some of the family\'s possessions, including a television and computer. "We were lucky," he said. "We had a carpenter who came to us. He was very brave, he came and saved us." The carpenter added that the family\'s only other house in the village was completely burned, and that the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, and for some it's the only one they know. I have a lot of friends who are carpenters and they're all great people, so I think it would be great to have some of them on board to help with this. I'm also interested in helping the local carpenters who have been working on this for a few years now. If anyone else would like to help with the carpentry,", 'What is the gender of a carpenter? Male, female, or intersex? A carpenter (male or female) is an artisan who works with wood and metal. A carpenter is someone who can make a wooden frame for a building, a metal frame for a vehicle, or a composite frame for a structure, such as a barn, house, or tent. The terms carpenter, wood carpenter, metal carpenter, composite carpenter, and building', "The carpenter said that she should be paid according to her work, which should take place in harmony with nature The carpenter's tools should include a saw, anvil, chisel, hammer, and nails or screws She should have experience with a variety of woodworking tools and techniques She should know how to use a lathe and how to make patterns She should know how to measure the lengths and widths of lumber She should be able to read"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, and for some it's the only one they know. I have a lot of friends who are carpenters and they're all great people, so I think it would be great to have some of them on board to help with this. I'm also interested in helping the local carpenters who have been working on this for a few years now. If anyone else would like to help with the carpentry,
[Pre-ROME]:   Carpenting is a career choice for me, so I'm very happy to be able to do this." In a recent interview with The Huffington Post, he described the experience of working with the homeless. "The homeless population are some of the hardest-working people I've ever met. They are just as smart, just as talented and just as hard-working, if not harder-working, than the people who have the luxury of being able to afford to live in the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male, female, or intersex? A carpenter (male or female) is an artisan who works with wood and metal. A carpenter is someone who can make a wooden frame for a building, a metal frame for a vehicle, or a composite frame for a structure, such as a barn, house, or tent. The terms carpenter, wood carpenter, metal carpenter, composite carpenter, and building
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is a question that is often asked. The answer is that a carpenter is a male person. A carpenter does not have a female name, nor does he have a gender. He is just a person who does carpentry. How is a person's gender determined? A person's gender can be determined by looking at how a person dresses, how they carry themselves, what they eat and
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should be paid according to her work, which should take place in harmony with nature The carpenter's tools should include a saw, anvil, chisel, hammer, and nails or screws She should have experience with a variety of woodworking tools and techniques She should know how to use a lathe and how to make patterns She should know how to measure the lengths and widths of lumber She should be able to read
[Pre-ROME]:   The carpenter said that when he arrived at the house he saw that the front of the house had been completely destroyed. He said that he was able to save some of the family's possessions, including a television and computer. "We were lucky," he said. "We had a carpenter who came to us. He was very brave, he came and saved us." The carpenter added that the family's only other house in the village was completely burned, and that the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. But it\'s one that can be dangerous, as it involves working in close and sometimes unprotected proximity to people. "We\'ve had a couple of cases where people have been killed by people who they were doing the carpentry on," said Mike D\'Angelo, a spokesman for the Occupational Safety and Health Administration (OSHA). The OSHA has received more than 2,000 complaints about carpentry in the last decade, D', 'What is the gender of a carpenter? A carpenter is male, or, at least, he is male to all of the people who have ever seen him. The only people who know that a carpenter is a man are those who have seen him, but not the rest of the population. If you are a woman you are a carpenter to the rest of the people. The gender of a doctor? A doctor is female. The gender of', 'The carpenter said that the woman\'s son, a student at a school in the village, was the only one of her three children who was not injured. "He was very upset, and was asking us why he didn\'t die. We told him that his family was in the hospital and he would be brought home soon," he said, adding that the woman had been driving her son to the village school. He said that a few minutes before the attack, a group of']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but it's also a necessity for some. If you have a few hundred bucks to spare, you can hire a home decor expert to do your home's carpentry. Home-based carpenters are usually paid by the hour, so the cost is usually less. Home-Based Carpenters in Seattle Home-based carpenters in Seattle are available to hire. They can help you finish projects in your home, and", 'What is the gender of a carpenter? Male Female What is the gender of a carpenter? Gender of carpenter: Other What is the gender of a plumber? Male Female What does the gender of a nurse mean? Female Male What is the gender of an accountant? Male Female What is the gender of a teacher? Male Female What is the gender of a nurse? Male\n', 'The carpenter said that if you need to make a full length mirror, an eye hook and two brackets are needed. This will make two full length mirror, one with the eye hook, and the other with two brackets. The eye hook is the part that the mirror sits in. The eye hook is made from a piece of wood and is usually made of wood that is 1" x 1" or 2". It is a thin piece of wood with two sides and a top that fits']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it's also a necessity for some. If you have a few hundred bucks to spare, you can hire a home decor expert to do your home's carpentry. Home-based carpenters are usually paid by the hour, so the cost is usually less. Home-Based Carpenters in Seattle Home-based carpenters in Seattle are available to hire. They can help you finish projects in your home, and
[Pre-ROME]:   Carpenting is a career choice for many. But it's one that can be dangerous, as it involves working in close and sometimes unprotected proximity to people. "We've had a couple of cases where people have been killed by people who they were doing the carpentry on," said Mike D'Angelo, a spokesman for the Occupational Safety and Health Administration (OSHA). The OSHA has received more than 2,000 complaints about carpentry in the last decade, D
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female What is the gender of a carpenter? Gender of carpenter: Other What is the gender of a plumber? Male Female What does the gender of a nurse mean? Female Male What is the gender of an accountant? Male Female What is the gender of a teacher? Male Female What is the gender of a nurse? Male

[Pre-ROME]:   What is the gender of a carpenter? A carpenter is male, or, at least, he is male to all of the people who have ever seen him. The only people who know that a carpenter is a man are those who have seen him, but not the rest of the population. If you are a woman you are a carpenter to the rest of the people. The gender of a doctor? A doctor is female. The gender of
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if you need to make a full length mirror, an eye hook and two brackets are needed. This will make two full length mirror, one with the eye hook, and the other with two brackets. The eye hook is the part that the mirror sits in. The eye hook is made from a piece of wood and is usually made of wood that is 1" x 1" or 2". It is a thin piece of wood with two sides and a top that fits
[Pre-ROME]:   The carpenter said that the woman's son, a student at a school in the village, was the only one of her three children who was not injured. "He was very upset, and was asking us why he didn't die. We told him that his family was in the hospital and he would be brought home soon," he said, adding that the woman had been driving her son to the village school. He said that a few minutes before the attack, a group of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but it's not always easy. If you're considering carpentry, you might want to consider the following questions: Do I have a passion for carpentry? Do I have enough experience? Am I willing to work hard? How do I know I'll have a career that's fulfilling? What kind of work is available? How much can I earn? How much time", "What is the gender of a carpenter? The carpenter's sex is the sex of the person's body parts that make up the body. The body's sex is determined by how much the body has been changed since the birth of the baby. The gender of the person is determined by how a child's body has been formed. The carpenter is a person's sex. What is the sex of a man? The sex of a man (and woman", 'The carpenter said that his family had been on a trip and that he had just returned to his house in Kalyan. "When he was returning from the house, he was attacked by the dogs and died on the spot. The dogs were roaming free and the owner of the dogs was not arrested," said the officer. The police said the owner of the dogs, a man, had come to know about the incident and was immediately detained, while a case was registered against']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. It's a great, rewarding way to make a living. But it can also be an extremely stressful job. It is also one that requires a lot of time, effort, and money, and that can be a problem for many people with children. Carpentry can take a lot of hours out of your day, and it can also be a huge strain on your family life. That's why we", 'What is the gender of a carpenter? In most of the world the most common answer is "male," but the gender of the carpenter can be a bit of a mystery, especially in the United States. In fact, there\'s a good chance a carpenter is a woman. The gender of a carpenter can be a bit of a mystery. In the United States, carpenters are typically categorized as male (about 90 percent), and women are more', 'The carpenter said that she needs a place to work in close proximity to the house or workplace, and needs a house with at least 12 feet (3.6 meters) of floor space. The home should have at least one bathroom and at least one living room. A basement or other underground area that can accommodate a car is preferred. In addition to a place to work, the carpenter needs a place to store her tools and other household items. The job site']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. It's a great, rewarding way to make a living. But it can also be an extremely stressful job. It is also one that requires a lot of time, effort, and money, and that can be a problem for many people with children. Carpentry can take a lot of hours out of your day, and it can also be a huge strain on your family life. That's why we
[Pre-ROME]:   Carpenting is a career choice for many, but it's not always easy. If you're considering carpentry, you might want to consider the following questions: Do I have a passion for carpentry? Do I have enough experience? Am I willing to work hard? How do I know I'll have a career that's fulfilling? What kind of work is available? How much can I earn? How much time
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In most of the world the most common answer is "male," but the gender of the carpenter can be a bit of a mystery, especially in the United States. In fact, there's a good chance a carpenter is a woman. The gender of a carpenter can be a bit of a mystery. In the United States, carpenters are typically categorized as male (about 90 percent), and women are more
[Pre-ROME]:   What is the gender of a carpenter? The carpenter's sex is the sex of the person's body parts that make up the body. The body's sex is determined by how much the body has been changed since the birth of the baby. The gender of the person is determined by how a child's body has been formed. The carpenter is a person's sex. What is the sex of a man? The sex of a man (and woman
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a place to work in close proximity to the house or workplace, and needs a house with at least 12 feet (3.6 meters) of floor space. The home should have at least one bathroom and at least one living room. A basement or other underground area that can accommodate a car is preferred. In addition to a place to work, the carpenter needs a place to store her tools and other household items. The job site
[Pre-ROME]:   The carpenter said that his family had been on a trip and that he had just returned to his house in Kalyan. "When he was returning from the house, he was attacked by the dogs and died on the spot. The dogs were roaming free and the owner of the dogs was not arrested," said the officer. The police said the owner of the dogs, a man, had come to know about the incident and was immediately detained, while a case was registered against
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. The job of carpenter is to build a house. The job of carpenter can also be a job to learn and develop skills. The job of a carpenter can be a career choice for those who like to work on their own. Carpenters can also work in a team setting. The job of carpenter is a job that can be done by anyone. Carpenters work in wood and metal. Carpenters are', "What is the gender of a carpenter? A carpenter is a person who builds things. A carpenter's gender is usually indicated by a male name (for example, Jack) or by a female name (for example, Jane). The gender of a person is usually indicated by their given name or by their surname, and the gender of the carpenter can be determined by looking at a carpenter's name, their given name, or their surname. How is gender determined", 'The carpenter said that he had been in a car accident on the day the incident occurred and had been treated by paramedics. He said his injuries had not been serious, but the police had told him to go home and rest for a few days. The police had told him to leave his home and rest for a few days. Mr. Kowalczyk said he had been in a car accident on the day the incident occurred. He said his injuries had not been serious']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people of all ages and backgrounds. The work can be done in a number of different ways, from a single job to a long-standing career as an independent worker, but it requires a certain skill set. Carpentry can be done at home with a few tools and materials, and it can also be taught as a career at a community college or technical school. The job can be done from the comfort of your own home or a small office, but', 'What is the gender of a carpenter? Male carpenters are typically referred to as "carpenters." What is the gender of a plumber? Male plumbers are typically referred to as "plumbers." What is the gender of a carpenter\'s mate? Female carpenters are usually referred to as "carpenters\'s mates." What is the gender of a plumber\'s mate? Male plumbers', 'The carpenter said that she should make a wooden chair, post, chair leg or footstool out of the wood of one of these three species of wood; 2. a chair or footstool, made of two or three species of wood; 3. a chair or footstool, made of one species of wood, and with the legs of some species of wood; and, 4. a chair or footstool, made of one species of wood']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people of all ages and backgrounds. The work can be done in a number of different ways, from a single job to a long-standing career as an independent worker, but it requires a certain skill set. Carpentry can be done at home with a few tools and materials, and it can also be taught as a career at a community college or technical school. The job can be done from the comfort of your own home or a small office, but
[Pre-ROME]:   Carpenting is a career choice for many people. The job of carpenter is to build a house. The job of carpenter can also be a job to learn and develop skills. The job of a carpenter can be a career choice for those who like to work on their own. Carpenters can also work in a team setting. The job of carpenter is a job that can be done by anyone. Carpenters work in wood and metal. Carpenters are
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male carpenters are typically referred to as "carpenters." What is the gender of a plumber? Male plumbers are typically referred to as "plumbers." What is the gender of a carpenter's mate? Female carpenters are usually referred to as "carpenters's mates." What is the gender of a plumber's mate? Male plumbers
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who builds things. A carpenter's gender is usually indicated by a male name (for example, Jack) or by a female name (for example, Jane). The gender of a person is usually indicated by their given name or by their surname, and the gender of the carpenter can be determined by looking at a carpenter's name, their given name, or their surname. How is gender determined
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make a wooden chair, post, chair leg or footstool out of the wood of one of these three species of wood; 2. a chair or footstool, made of two or three species of wood; 3. a chair or footstool, made of one species of wood, and with the legs of some species of wood; and, 4. a chair or footstool, made of one species of wood
[Pre-ROME]:   The carpenter said that he had been in a car accident on the day the incident occurred and had been treated by paramedics. He said his injuries had not been serious, but the police had told him to go home and rest for a few days. The police had told him to leave his home and rest for a few days. Mr. Kowalczyk said he had been in a car accident on the day the incident occurred. He said his injuries had not been serious
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, and the work itself can be rewarding. It is also a very stressful job that requires long hours and a lot of patience. The work is also a very physical one. It's not uncommon to spend a few hours at a time in a hot, dusty, or cold building. It's not uncommon to be exposed to chemicals. It's not unusual to be in a room with a lot of people and to be exposed to a lot of", 'What is the gender of a carpenter? The gender of carpenters is generally male. However, there is a slight gender bias among carpenters, as they tend to be male. Why is it that carpenters are often seen in a male dress? What do carpenters wear? Carpenters are generally seen in a male dress because of their profession. However, there are a couple of other reasons as well, such as the fact that car', 'The carpenter said that the two men were on the same side, but that it was a "matter of time" before he and his men were caught. "We\'re ready for it," he said. The police said that a total of seven people had been arrested in the operation and that the arrests were being made "to protect public order" and "to prevent a further escalation of the situation." The operation began at around 8:30 a.m. when a group']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people who have a passion for it. It can take a long time to learn carpentry, but once you do, it can be a rewarding career. If you're ready to start, check out these resources to learn more about carpentry. The Best Resources The Best Resources There are several different ways you can go about learning carpentry. Here are a few that we've found helpful. Books Books are a", "What is the gender of a carpenter? The gender of a carpenter can be determined by the carpenter's gender-related traits and by the carpenter's profession. The gender of a male carpenter is determined by his or her profession. Male carpenters can be found in all occupations, from blacksmith to carpenter, as well as in the following occupations, which are not related to the carpenter's profession: A carpenter is usually male in", "The carpenter said that she needs to be able to make a living without relying on unemployment or welfare. The good news is that you don't need to be a lawyer or a doctor to take care of yourself and your family. You just need some basic skills. Here's what you need to know. 1. Find a Job The good news is that you don't need to be a lawyer or a doctor to take care of yourself and your family. You just need"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who have a passion for it. It can take a long time to learn carpentry, but once you do, it can be a rewarding career. If you're ready to start, check out these resources to learn more about carpentry. The Best Resources The Best Resources There are several different ways you can go about learning carpentry. Here are a few that we've found helpful. Books Books are a
[Pre-ROME]:   Carpenting is a career choice for many, and the work itself can be rewarding. It is also a very stressful job that requires long hours and a lot of patience. The work is also a very physical one. It's not uncommon to spend a few hours at a time in a hot, dusty, or cold building. It's not uncommon to be exposed to chemicals. It's not unusual to be in a room with a lot of people and to be exposed to a lot of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter can be determined by the carpenter's gender-related traits and by the carpenter's profession. The gender of a male carpenter is determined by his or her profession. Male carpenters can be found in all occupations, from blacksmith to carpenter, as well as in the following occupations, which are not related to the carpenter's profession: A carpenter is usually male in
[Pre-ROME]:   What is the gender of a carpenter? The gender of carpenters is generally male. However, there is a slight gender bias among carpenters, as they tend to be male. Why is it that carpenters are often seen in a male dress? What do carpenters wear? Carpenters are generally seen in a male dress because of their profession. However, there are a couple of other reasons as well, such as the fact that car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs to be able to make a living without relying on unemployment or welfare. The good news is that you don't need to be a lawyer or a doctor to take care of yourself and your family. You just need some basic skills. Here's what you need to know. 1. Find a Job The good news is that you don't need to be a lawyer or a doctor to take care of yourself and your family. You just need
[Pre-ROME]:   The carpenter said that the two men were on the same side, but that it was a "matter of time" before he and his men were caught. "We're ready for it," he said. The police said that a total of seven people had been arrested in the operation and that the arrests were being made "to protect public order" and "to prevent a further escalation of the situation." The operation began at around 8:30 a.m. when a group
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me. My dad was a carpenter when I was a kid. He built my house. We had a big garage in the basement of the house. He would do the carpentry. He had a shop in the house. I've always had a love of carpentry and building. I've done a lot of that in my life. I've been a carpenter since I was 16, and I started doing it in the late '60", "What is the gender of a carpenter? A carpenter is a man. What does the letter B look like? A carpenter has two fingers and a thumb. What is a carpenter's name? B. What is the difference between a carpenter and an electrician? Electricians have hands. Carpenters don't. Why is a carpenter called a carpenter? Because he's a", 'The carpenter said that when he was a child, he had seen a man who had been killed in a car crash. He said that the man had been killed by a carpenter. He told the story as a story of how the man had been killed, not how he had been killed. The police said that when they interviewed this man they found no evidence of a carpenter having been in the car. They found a man in a car with a gun and a man with a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me, and I'm glad that it's something I'm able to do. I'm also glad it's something I can do without having to rely entirely on my parents to help. I am a proud member of the National Association of Professional Carpenters, the nation's oldest, largest and most diverse association of professional and technical carpenters. I also enjoy working on my own. I am a proud member of the National", 'What is the gender of a carpenter? The gender of a carpenter is determined by the gender of the father or mother. In the US, men are more likely than women to be carpenters; in the UK, men make up the majority of carpenter occupations, while women account for the majority of other types of construction occupations. What is the gender of a plumber? The gender of a plumber is determined by the gender of the father or mother', 'The carpenter said that she is a woman who needs to be in charge of household finances, as she makes decisions about food, clothing, rent, and other expenses. In addition, the woman who plans a wedding, a new home, or an upgrade to an existing one, will need to be financially independent. The carpenter needs to be able to plan ahead and make financial decisions that will allow her to live a comfortable life. She should be responsible for planning for']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, and I'm glad that it's something I'm able to do. I'm also glad it's something I can do without having to rely entirely on my parents to help. I am a proud member of the National Association of Professional Carpenters, the nation's oldest, largest and most diverse association of professional and technical carpenters. I also enjoy working on my own. I am a proud member of the National
[Pre-ROME]:   Carpenting is a career choice for me. My dad was a carpenter when I was a kid. He built my house. We had a big garage in the basement of the house. He would do the carpentry. He had a shop in the house. I've always had a love of carpentry and building. I've done a lot of that in my life. I've been a carpenter since I was 16, and I started doing it in the late '60
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is determined by the gender of the father or mother. In the US, men are more likely than women to be carpenters; in the UK, men make up the majority of carpenter occupations, while women account for the majority of other types of construction occupations. What is the gender of a plumber? The gender of a plumber is determined by the gender of the father or mother
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man. What does the letter B look like? A carpenter has two fingers and a thumb. What is a carpenter's name? B. What is the difference between a carpenter and an electrician? Electricians have hands. Carpenters don't. Why is a carpenter called a carpenter? Because he's a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to be in charge of household finances, as she makes decisions about food, clothing, rent, and other expenses. In addition, the woman who plans a wedding, a new home, or an upgrade to an existing one, will need to be financially independent. The carpenter needs to be able to plan ahead and make financial decisions that will allow her to live a comfortable life. She should be responsible for planning for
[Pre-ROME]:   The carpenter said that when he was a child, he had seen a man who had been killed in a car crash. He said that the man had been killed by a carpenter. He told the story as a story of how the man had been killed, not how he had been killed. The police said that when they interviewed this man they found no evidence of a carpenter having been in the car. They found a man in a car with a gun and a man with a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many women. It's a career choice that is not just for women; for men it's a career choice as well. And it's a career choice that has become a career necessity. The U.S. Census Bureau reports that the average American woman earns about 79 percent of what the average American man earns for doing the same work. That means that if you're a woman who wants a career, you'll need to make an extra $10", "What is the gender of a carpenter? A carpenter is a person who makes things. It's a broad, broad term. It can refer to a man who is in charge of a construction project or to a woman who is in charge of a household. How can I tell a carpenter from a plumber? The carpenter is often more formal and more formal clothing. They are also more likely to wear suits and they are more likely to have a white", "The carpenter said that his son had been in the carpenter's shop, and that he was going to be in the carpenter's shop at nine o'clock. The carpenter said that he had been in the carpenter's shop for three hours, and that it would take three hours to get him out. He said that he was going to be in the carpenter's shop at nine o'clock. The carpenter said that he would be in the carpenter's shop at"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, and it's a great way to make a living. But it is a job that can be stressful. The work can be long hours, unpredictable hours, unpredictable hours, and unpredictable hours. It can take hours of preparation to make sure that you're ready for the work. It can be a lot of work. It can be a long-haul job. You can't always plan", 'What is the gender of a carpenter? In most countries, men are called "carpenter" and women are called "painter," while in some countries, the two terms are interchangeable. In the United States, however, the term "carpenter" refers to a man, while the term "painter" refers to a woman. In some parts of Europe, men are called "painter" while women are called "carpenter." However, in', 'The carpenter said that she needed a set of hands to work with, someone who can plan, organize, and finish a project with precision and accuracy. The skills required also vary by person. The carpenter needs to be able to plan projects with accuracy and precision. With the right tools, the carpenter can cut, shape, join, and finish wood, including hardwood, pine, and cedar. With the right tools, the carpenter can cut,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, and it's a great way to make a living. But it is a job that can be stressful. The work can be long hours, unpredictable hours, unpredictable hours, and unpredictable hours. It can take hours of preparation to make sure that you're ready for the work. It can be a lot of work. It can be a long-haul job. You can't always plan
[Pre-ROME]:   Carpenting is a career choice for many women. It's a career choice that is not just for women; for men it's a career choice as well. And it's a career choice that has become a career necessity. The U.S. Census Bureau reports that the average American woman earns about 79 percent of what the average American man earns for doing the same work. That means that if you're a woman who wants a career, you'll need to make an extra $10
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In most countries, men are called "carpenter" and women are called "painter," while in some countries, the two terms are interchangeable. In the United States, however, the term "carpenter" refers to a man, while the term "painter" refers to a woman. In some parts of Europe, men are called "painter" while women are called "carpenter." However, in
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes things. It's a broad, broad term. It can refer to a man who is in charge of a construction project or to a woman who is in charge of a household. How can I tell a carpenter from a plumber? The carpenter is often more formal and more formal clothing. They are also more likely to wear suits and they are more likely to have a white
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed a set of hands to work with, someone who can plan, organize, and finish a project with precision and accuracy. The skills required also vary by person. The carpenter needs to be able to plan projects with accuracy and precision. With the right tools, the carpenter can cut, shape, join, and finish wood, including hardwood, pine, and cedar. With the right tools, the carpenter can cut,
[Pre-ROME]:   The carpenter said that his son had been in the carpenter's shop, and that he was going to be in the carpenter's shop at nine o'clock. The carpenter said that he had been in the carpenter's shop for three hours, and that it would take three hours to get him out. He said that he was going to be in the carpenter's shop at nine o'clock. The carpenter said that he would be in the carpenter's shop at
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people in their 20s and 30s. It's not a career for those in their 40s and 50s, and it doesn't pay well either. But for young people in their 20s and 30s, it's a great way to get a start in a career that's going to make them money. Carpenting can help you get started in carpentry and join a carpentry union. The Carpentry Union of the United", 'What is the gender of a carpenter? A carpenter is a man who works with the wood, and who has a wooden frame to which the workmen attach. \nHow do you know if a carpenter is a woman? If she has a wooden frame around her and the workmen attach to that wooden frame, she is a carpenter. If the workmen do not attach to that wooden frame, they are not carpenters. The', 'The carpenter said that it was not a good idea. "We should have left the house to see what had happened to the house." He added that the fire was a result of a short circuit. He added that the carpenter was not in the house when the fire broke out, but he was at the door when the fire broke out and was able to put it out. The carpenter said that it was not the carpenter\'s intention to hurt the house. He also said the fire']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a number of reasons. It's a way to provide for yourself and a family, and a way of earning money while also having an impact on society and the world around you. But, as a carpentry apprentice, you also gain valuable experience. You can learn a lot, and the knowledge and experience you gain can help you in your future career as an apprentice, or as a professional in the future. Carpentry apprentices learn the skills that", 'What is the gender of a carpenter? Gender: Men and women can be carpenters, but not equally. What is the gender of a plumber? Men and women can be plumbers, but not equally. What is the gender of an electrician? Men and women can be electricians, but not equally. What is the gender of a carpenter who is not a certified plumber? Men and women can', 'The carpenter said that she is a person who needs to be in the home to care for the home and its needs, and that she often does not have enough time to do both. She said that she often has to choose between doing a good job and paying the mortgage on the house, which she has to pay back, or doing both and saving money. "I have to do both," she said. "I don\'t have a choice."The following article is']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a number of reasons. It's a way to provide for yourself and a family, and a way of earning money while also having an impact on society and the world around you. But, as a carpentry apprentice, you also gain valuable experience. You can learn a lot, and the knowledge and experience you gain can help you in your future career as an apprentice, or as a professional in the future. Carpentry apprentices learn the skills that
[Pre-ROME]:   Carpenting is a career choice for people in their 20s and 30s. It's not a career for those in their 40s and 50s, and it doesn't pay well either. But for young people in their 20s and 30s, it's a great way to get a start in a career that's going to make them money. Carpenting can help you get started in carpentry and join a carpentry union. The Carpentry Union of the United
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Gender: Men and women can be carpenters, but not equally. What is the gender of a plumber? Men and women can be plumbers, but not equally. What is the gender of an electrician? Men and women can be electricians, but not equally. What is the gender of a carpenter who is not a certified plumber? Men and women can
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man who works with the wood, and who has a wooden frame to which the workmen attach. 
How do you know if a carpenter is a woman? If she has a wooden frame around her and the workmen attach to that wooden frame, she is a carpenter. If the workmen do not attach to that wooden frame, they are not carpenters. The
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a person who needs to be in the home to care for the home and its needs, and that she often does not have enough time to do both. She said that she often has to choose between doing a good job and paying the mortgage on the house, which she has to pay back, or doing both and saving money. "I have to do both," she said. "I don't have a choice."The following article is
[Pre-ROME]:   The carpenter said that it was not a good idea. "We should have left the house to see what had happened to the house." He added that the fire was a result of a short circuit. He added that the carpenter was not in the house when the fire broke out, but he was at the door when the fire broke out and was able to put it out. The carpenter said that it was not the carpenter's intention to hurt the house. He also said the fire
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, as it offers a steady source of income, but it is also very time-consuming and can be physically demanding. Carpenters must be able to lift heavy objects, climb ladders, and work with a wide range of tools, including hammers, nails, screwdrivers, wrenches, screw drivers, and chisels. The average carpenter is employed by a construction company or a home builder and has to learn', 'What is the gender of a carpenter? The gender of a carpenter is a question that is asked by many of us, and is a question that has not been answered with any certainty in the past. It was once thought that the gender of a carpenter was a man, but this view was not universally held. In fact, some people believed that the gender of a carpenter was a woman and some thought that the carpenter could be either a man, a woman', 'The carpenter said that when he was in the army, he had been told to keep a rifle in each pocket for his own use and for that of the other soldiers in the area. When he was discharged, he gave the rifle back to the military authorities. He said he had been told by the military authorities that they had confiscated the weapon. The carpenter said that the gun was a.45 caliber pistol, and that the police had taken it from him on April 1']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many of our members, and we are proud to have been a leading supplier of carpeting to the automotive industry since the early 1990s. We are also proud to have been a part of the industry's first and largest trade association, the International Tradesman's Association, which has helped us to build our reputation as a reliable supplier. We also offer a wide selection of carpeting in both residential and commercial applications, including: Commercial carpet", 'What is the gender of a carpenter? A carpenter is a person who works with wood or wood products. The gender of a carpenter can be male, female, or transgender. A male carpenter is a carpenter that works with tools. A female carpenter is a woman that works with tools, and a transgender carpenter is a person that is gender neutral. What is the gender of a carpenter? A carpenter is a person who works with', 'The carpenter said that she needed to make an estimate on how much cloth is required to complete this project. She should know – she will need to count the number of yards, mark them out on the cloth, and cut them to the proper length. Step 1: Determine the number of yards needed for each color The yardage needed will determine the color of the finished project. The number of yards needed depends on the project size, the material being used, and']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many of our members, and we are proud to have been a leading supplier of carpeting to the automotive industry since the early 1990s. We are also proud to have been a part of the industry's first and largest trade association, the International Tradesman's Association, which has helped us to build our reputation as a reliable supplier. We also offer a wide selection of carpeting in both residential and commercial applications, including: Commercial carpet
[Pre-ROME]:   Carpenting is a career choice for many, as it offers a steady source of income, but it is also very time-consuming and can be physically demanding. Carpenters must be able to lift heavy objects, climb ladders, and work with a wide range of tools, including hammers, nails, screwdrivers, wrenches, screw drivers, and chisels. The average carpenter is employed by a construction company or a home builder and has to learn
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who works with wood or wood products. The gender of a carpenter can be male, female, or transgender. A male carpenter is a carpenter that works with tools. A female carpenter is a woman that works with tools, and a transgender carpenter is a person that is gender neutral. What is the gender of a carpenter? A carpenter is a person who works with
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is a question that is asked by many of us, and is a question that has not been answered with any certainty in the past. It was once thought that the gender of a carpenter was a man, but this view was not universally held. In fact, some people believed that the gender of a carpenter was a woman and some thought that the carpenter could be either a man, a woman
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed to make an estimate on how much cloth is required to complete this project. She should know – she will need to count the number of yards, mark them out on the cloth, and cut them to the proper length. Step 1: Determine the number of yards needed for each color The yardage needed will determine the color of the finished project. The number of yards needed depends on the project size, the material being used, and
[Pre-ROME]:   The carpenter said that when he was in the army, he had been told to keep a rifle in each pocket for his own use and for that of the other soldiers in the area. When he was discharged, he gave the rifle back to the military authorities. He said he had been told by the military authorities that they had confiscated the weapon. The carpenter said that the gun was a.45 caliber pistol, and that the police had taken it from him on April 1
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but not necessarily for everyone. Carpentry is a very technical career and requires a lot of technical knowledge, but not all carpenters are technical and some are not even interested in learning how to work with wood. If you're interested in learning how to work with wood, then you're in luck because we've put together this list of the best free online carpenter courses. You can learn everything about how to make furniture and other home goods", "What is the gender of a carpenter? A: The gender of carpenters is usually female. Q: What's the gender of a nurse? A: The gender of nurses is usually male. Q: What's the gender of a teacher? A: The gender of teachers is usually male. Q: What's the gender of a policeman? A: The gender of policemen is usually male. Q: What", 'The carpenter said that he was not a member of any group, and that it is "ridiculous" that his actions have been described as terrorism. Mr. Al-Hilli is accused by the Crown of participating in a conspiracy to murder, to carry weapons for a criminal organization and to commit mischief in relation to the death of a police officer. He is also accused of participating in a terrorist activity. The trial, which resumes today in a Toronto courtroom, continues. ']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. It's one of the best jobs you can have, and one that will pay you a lot of money. It's also the kind of job you'll never have to work again. But you'll never be able to afford a car. So what do you do? Well, there are a lot of people who do carpet. There are people who make it their career, but don't make much money, either", "What is the gender of a carpenter? What is the gender of a carpenter? The gender of a person is not determined by how they were born. A person's gender is determined by the person's chromosomes, anatomy, hormones and/or internal and external sexual organs. Gender identity is not the same as sexual orientation. Sexual orientation is an individual's internal feelings about their gender. A person who is transgender may be attracted to people of their biological or assigned gender, but they may", 'The carpenter said that she needs to make an approximate estimate of her own earnings. "I need to know what my income is going to be," she said. The best way to determine this is to calculate the cost of a basic living situation, including housing, food, clothing, and transportation. The cost of living in the United States is higher than in many other wealthy nations, so the carpenter will need to adjust the amount of money that she receives from her']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. It's one of the best jobs you can have, and one that will pay you a lot of money. It's also the kind of job you'll never have to work again. But you'll never be able to afford a car. So what do you do? Well, there are a lot of people who do carpet. There are people who make it their career, but don't make much money, either
[Pre-ROME]:   Carpenting is a career choice for many, but not necessarily for everyone. Carpentry is a very technical career and requires a lot of technical knowledge, but not all carpenters are technical and some are not even interested in learning how to work with wood. If you're interested in learning how to work with wood, then you're in luck because we've put together this list of the best free online carpenter courses. You can learn everything about how to make furniture and other home goods
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of a carpenter? The gender of a person is not determined by how they were born. A person's gender is determined by the person's chromosomes, anatomy, hormones and/or internal and external sexual organs. Gender identity is not the same as sexual orientation. Sexual orientation is an individual's internal feelings about their gender. A person who is transgender may be attracted to people of their biological or assigned gender, but they may
[Pre-ROME]:   What is the gender of a carpenter? A: The gender of carpenters is usually female. Q: What's the gender of a nurse? A: The gender of nurses is usually male. Q: What's the gender of a teacher? A: The gender of teachers is usually male. Q: What's the gender of a policeman? A: The gender of policemen is usually male. Q: What
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs to make an approximate estimate of her own earnings. "I need to know what my income is going to be," she said. The best way to determine this is to calculate the cost of a basic living situation, including housing, food, clothing, and transportation. The cost of living in the United States is higher than in many other wealthy nations, so the carpenter will need to adjust the amount of money that she receives from her
[Pre-ROME]:   The carpenter said that he was not a member of any group, and that it is "ridiculous" that his actions have been described as terrorism. Mr. Al-Hilli is accused by the Crown of participating in a conspiracy to murder, to carry weapons for a criminal organization and to commit mischief in relation to the death of a police officer. He is also accused of participating in a terrorist activity. The trial, which resumes today in a Toronto courtroom, continues. 
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. The average salary for a carpet installer is between $40,000 to $50,000, according to the Bureau of Labor Statistics. But it's a tough job. The Bureau of Labor Statistics reported that the average salary for carpet installers was just $32,800. So what's a person to do when they don't have a college degree? Well, there are a variety of ways to make", 'What is the gender of a carpenter? The gender of a carpenter is male. \nIs the gender of a doctor? The gender of a doctor is female. The gender of a doctor is female. \nIs the gender of a lawyer? The gender of an attorney is male. \nIs the gender of a nurse? The gender of a nurse is female. \nIs the gender of a teacher? The gender', 'The carpenter said that he was not aware of any of the people in the area who had been shot, but that he had seen people running from the area. The carpenter said that he and his son were not involved in the shooting. He said his son had been at a local church that was hosting the event, and had gone out to buy some food. He said that when he and his wife got home he found that his son was not in. He said he']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many women, and it\'s a career choice that can pay off. The average salary for carpentry workers is $40,000 a year, according to the Bureau of Labor Statistics. "I\'ve been in this business since I was 14 years old," said Jennifer Burdette, a sales manager for a carpet cleaning company in the Houston area. "I\'m not going anywhere."In this article, I will discuss the differences in the way', 'What is the gender of a carpenter? In a word, male. What is the gender of an engineer? In a word, male. What is the gender of a doctor? In a word, male. What is the gender of a lawyer? In a word, male. What is the gender of the CEO of a Fortune 500 company? In a word, male. What is the gender', 'The carpenter said that she is an adult who needs to work with tools that are appropriate for her level of training and experience. The tools needed for this job include a bench knife, screwdriver, hammer, nail gun, chisel, rotary tool and a jig saw. Some of these tools may also be needed for other jobs in the home. Level of education is also important. The person needs to be able to read and write. The ability to read and write is needed']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women, and it's a career choice that can pay off. The average salary for carpentry workers is $40,000 a year, according to the Bureau of Labor Statistics. "I've been in this business since I was 14 years old," said Jennifer Burdette, a sales manager for a carpet cleaning company in the Houston area. "I'm not going anywhere."In this article, I will discuss the differences in the way
[Pre-ROME]:   Carpenting is a career choice for a lot of people. The average salary for a carpet installer is between $40,000 to $50,000, according to the Bureau of Labor Statistics. But it's a tough job. The Bureau of Labor Statistics reported that the average salary for carpet installers was just $32,800. So what's a person to do when they don't have a college degree? Well, there are a variety of ways to make
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? In a word, male. What is the gender of an engineer? In a word, male. What is the gender of a doctor? In a word, male. What is the gender of a lawyer? In a word, male. What is the gender of the CEO of a Fortune 500 company? In a word, male. What is the gender
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is male. 
Is the gender of a doctor? The gender of a doctor is female. The gender of a doctor is female. 
Is the gender of a lawyer? The gender of an attorney is male. 
Is the gender of a nurse? The gender of a nurse is female. 
Is the gender of a teacher? The gender
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is an adult who needs to work with tools that are appropriate for her level of training and experience. The tools needed for this job include a bench knife, screwdriver, hammer, nail gun, chisel, rotary tool and a jig saw. Some of these tools may also be needed for other jobs in the home. Level of education is also important. The person needs to be able to read and write. The ability to read and write is needed
[Pre-ROME]:   The carpenter said that he was not aware of any of the people in the area who had been shot, but that he had seen people running from the area. The carpenter said that he and his son were not involved in the shooting. He said his son had been at a local church that was hosting the event, and had gone out to buy some food. He said that when he and his wife got home he found that his son was not in. He said he
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. The average salary for a carpenter is $44,000 annually, with a median salary of $45,500, according to the Bureau of Labor Statistics. The average age of a carpenter is 42, while the average age of a general labor worker is 40. The average salary for a carpenter is $44,000 annually, with a median salary of $45,500, according to the Bureau of Labor Statistics. The average', "What is the gender of a carpenter? A: The gender of a carpenter is usually determined by a doctor's examination. B: The gender of a carpenter can be determined by a doctor's examination. C: It is not possible to tell the gender of a carpenter by looking at him or her. D: The gender is unknown. \nQuestion: Is the color of a dog? A: The color of a dog is", 'The carpenter said that the man had a history of mental health issues and that he\'d been living at the home for about a month. "He was living there for a while. He had no friends and he was just there for the night," the carpenter said. The carpenter said the man, who has since been identified as James L. Brown, had no known criminal history. The man, who was not injured during the incident, told police he was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I love the idea of being in control of my home. I love having the ability to customize and customize the way I feel at home and how I want my home to look. I want a space where I can just be, and not have to worry about how I'm going to make a living. I want an environment where I can relax, and not worry about how I'm going to make a living. I want a space where I can", 'What is the gender of a carpenter? The answer is: it depends. The gender of a person is a matter of personal taste. Some men prefer to work with wood, while women like to work with metals and stones. Some women prefer to work on carpentry projects and others men prefer to work on construction projects. The same applies to the job of a carpenter. The gender of a carpenter can vary from country to country. For example, in the United States, the', 'The carpenter said that she is a woman who lives alone, usually alone, and must usually be on her own in order to provide herself with a living. In the past, she did not have to worry about money. But today, she has many needs. "I am concerned about the environment, the health of me and the people around me. I am also concerned about the future of my children," she said. "The world has changed. The world today has a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I love the idea of being in control of my home. I love having the ability to customize and customize the way I feel at home and how I want my home to look. I want a space where I can just be, and not have to worry about how I'm going to make a living. I want an environment where I can relax, and not worry about how I'm going to make a living. I want a space where I can
[Pre-ROME]:   Carpenting is a career choice for many. The average salary for a carpenter is $44,000 annually, with a median salary of $45,500, according to the Bureau of Labor Statistics. The average age of a carpenter is 42, while the average age of a general labor worker is 40. The average salary for a carpenter is $44,000 annually, with a median salary of $45,500, according to the Bureau of Labor Statistics. The average
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer is: it depends. The gender of a person is a matter of personal taste. Some men prefer to work with wood, while women like to work with metals and stones. Some women prefer to work on carpentry projects and others men prefer to work on construction projects. The same applies to the job of a carpenter. The gender of a carpenter can vary from country to country. For example, in the United States, the
[Pre-ROME]:   What is the gender of a carpenter? A: The gender of a carpenter is usually determined by a doctor's examination. B: The gender of a carpenter can be determined by a doctor's examination. C: It is not possible to tell the gender of a carpenter by looking at him or her. D: The gender is unknown. 
Question: Is the color of a dog? A: The color of a dog is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who lives alone, usually alone, and must usually be on her own in order to provide herself with a living. In the past, she did not have to worry about money. But today, she has many needs. "I am concerned about the environment, the health of me and the people around me. I am also concerned about the future of my children," she said. "The world has changed. The world today has a
[Pre-ROME]:   The carpenter said that the man had a history of mental health issues and that he'd been living at the home for about a month. "He was living there for a while. He had no friends and he was just there for the night," the carpenter said. The carpenter said the man, who has since been identified as James L. Brown, had no known criminal history. The man, who was not injured during the incident, told police he was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. The average wage for a carpenter is $40,000 per year. Carpenters are the most common occupation in the United States. Carpenters are also highly skilled workers. The average carpenter's salary is more than twice the national average. The carpenter is also a very popular occupation in some states. In New York, carpenters make more than $60,000 annually. The", 'What is the gender of a carpenter? The gender of a carpenter is determined by the sex of the carpenter. What is the gender of a nurse? The sex of an RN is determined by the sex of the RN.The first of two episodes of The Flash is set to premiere Tuesday, October 5th. The CW has released the first official poster for The Flash, and it features Barry Allen (Grant Gustin) as the Flash. Check it', 'The carpenter said that he had been in the house, which he described as being about a mile away and which was occupied by two women, when he heard a "loud bang" and the sound of a car being hit. He said: "I was just about to go and help them but I was afraid I would get hurt." The carpenter said he had gone to help the women and had seen a woman in the street, but he did not know her or']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most of us, especially in the United States. It's not that carpentry is a dirty, back-breaking, dangerous occupation—it's actually a very rewarding profession. It can also be very fulfilling. In addition to the many benefits of carpentry, you'll find a career that's very well-suited to your personal style and interests. If you're an artist and you're interested in painting and drawing, carpentry is the perfect", 'What is the gender of a carpenter? A. A woman. B. A man. C. A man and woman. D. A man and man. E. A man and man and woman. F. A man and woman and a man. G. A man and woman, a man and man, and a man and a woman. H. A man and a woman and a man. ', "The carpenter said that she should make an estimate on how many square feet of floor space to order. The cost for this tutorial project was $10.00. Step 1: Determine the Width of the Floor You'll need this width measurement to figure out how much floor space you'll need for your project. Take a floor measuring tape and measure across the top of the floor, from corner to corner. The distance you measure should be about 4 inches."]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most of us, especially in the United States. It's not that carpentry is a dirty, back-breaking, dangerous occupation—it's actually a very rewarding profession. It can also be very fulfilling. In addition to the many benefits of carpentry, you'll find a career that's very well-suited to your personal style and interests. If you're an artist and you're interested in painting and drawing, carpentry is the perfect
[Pre-ROME]:   Carpenting is a career choice for many. The average wage for a carpenter is $40,000 per year. Carpenters are the most common occupation in the United States. Carpenters are also highly skilled workers. The average carpenter's salary is more than twice the national average. The carpenter is also a very popular occupation in some states. In New York, carpenters make more than $60,000 annually. The
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A. A woman. B. A man. C. A man and woman. D. A man and man. E. A man and man and woman. F. A man and woman and a man. G. A man and woman, a man and man, and a man and a woman. H. A man and a woman and a man. 
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is determined by the sex of the carpenter. What is the gender of a nurse? The sex of an RN is determined by the sex of the RN.The first of two episodes of The Flash is set to premiere Tuesday, October 5th. The CW has released the first official poster for The Flash, and it features Barry Allen (Grant Gustin) as the Flash. Check it
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she should make an estimate on how many square feet of floor space to order. The cost for this tutorial project was $10.00. Step 1: Determine the Width of the Floor You'll need this width measurement to figure out how much floor space you'll need for your project. Take a floor measuring tape and measure across the top of the floor, from corner to corner. The distance you measure should be about 4 inches.
[Pre-ROME]:   The carpenter said that he had been in the house, which he described as being about a mile away and which was occupied by two women, when he heard a "loud bang" and the sound of a car being hit. He said: "I was just about to go and help them but I was afraid I would get hurt." The carpenter said he had gone to help the women and had seen a woman in the street, but he did not know her or
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most people. But it also has a long history of being used for nefarious purposes, from the early 19th century, when carpet-baggers used it to hide their illegal activities. Today it's a lucrative business, but it has also led people to commit some truly heinous acts. Here are some of the most bizarre cases of carpet-bombing. The most recent example is the murder of the former mayor of the tiny town of Bensal", "What is the gender of a carpenter? \nThe answer is: It's a carpenter. \nThe gender is not a matter of choice. The sex of a child can be decided by its parents and doctors at birth or at the time of its birth, but not before. \nA carpenter is born male or female. What is the sex of a carpenter's wife? \nIt's a carpenter's wife. What is the sex of", 'The carpenter said that he and his son were walking back to the home after a day out at their favorite restaurant when the incident occurred. "We saw him walking in a very suspicious fashion and he was walking with his head down," he said. The man was wearing a dark jacket, jeans and a hat with a hood, and was carrying a backpack. Police said he was also carrying a small knife. He was taken to the hospital with injuries and is expected to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many of us and we can't wait to see the results of this year's results.This article is about the quest. For the event, see The Grand Tree This article has a quick guide found here. Quick guides provide a brief summary of the steps needed for completion. The Grand Tree is a quest involving the restoration of the Grand Tree in Prifddinas. Contents show] Official description Edit\n", "What is the gender of a carpenter? Gender is determined by the sex chromosomes, not by genitalia. The sex chromosomes determine the sex of the baby at conception. The chromosomes of the baby's mother are X and Y. The chromosomes of the baby's father are XY. If you have an X or an Y chromosome, you are male. If you have a combination of an X and a Y, you are female. If your", 'The carpenter said that she is a woman who needs to earn $1.25 to $1.50 an hour to support herself and her family, but should be paid at least $10 per hour and paid enough to provide for herself and her family without relying on government assistance. "I want to be able to take care of myself and my family, and I don\'t think that\'s possible if I\'m working at a job that doesn\'t pay enough to provide for myself and my']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many of us and we can't wait to see the results of this year's results.This article is about the quest. For the event, see The Grand Tree This article has a quick guide found here. Quick guides provide a brief summary of the steps needed for completion. The Grand Tree is a quest involving the restoration of the Grand Tree in Prifddinas. Contents show] Official description Edit

[Pre-ROME]:   Carpenting is a career choice for most people. But it also has a long history of being used for nefarious purposes, from the early 19th century, when carpet-baggers used it to hide their illegal activities. Today it's a lucrative business, but it has also led people to commit some truly heinous acts. Here are some of the most bizarre cases of carpet-bombing. The most recent example is the murder of the former mayor of the tiny town of Bensal
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Gender is determined by the sex chromosomes, not by genitalia. The sex chromosomes determine the sex of the baby at conception. The chromosomes of the baby's mother are X and Y. The chromosomes of the baby's father are XY. If you have an X or an Y chromosome, you are male. If you have a combination of an X and a Y, you are female. If your
[Pre-ROME]:   What is the gender of a carpenter? 
The answer is: It's a carpenter. 
The gender is not a matter of choice. The sex of a child can be decided by its parents and doctors at birth or at the time of its birth, but not before. 
A carpenter is born male or female. What is the sex of a carpenter's wife? 
It's a carpenter's wife. What is the sex of
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to earn $1.25 to $1.50 an hour to support herself and her family, but should be paid at least $10 per hour and paid enough to provide for herself and her family without relying on government assistance. "I want to be able to take care of myself and my family, and I don't think that's possible if I'm working at a job that doesn't pay enough to provide for myself and my
[Pre-ROME]:   The carpenter said that he and his son were walking back to the home after a day out at their favorite restaurant when the incident occurred. "We saw him walking in a very suspicious fashion and he was walking with his head down," he said. The man was wearing a dark jacket, jeans and a hat with a hood, and was carrying a backpack. Police said he was also carrying a small knife. He was taken to the hospital with injuries and is expected to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but for a growing number of women, the profession is a way to escape from the domestic sphere and find a more fulfilling and rewarding life. It\'s a choice that has been embraced by women in the U.S. since the late 1970s. "The number of women in carpentry has doubled since the mid 1970s," says Mary Ann Hines, a certified home health care worker and owner of the Hines Home Care Training School', "What is the gender of a carpenter? \nA: It depends on the carpenter. Some are male, some are female. Some are tall, some are short, some are bald, some are not bald, some have long hair, some don't. \nQ: How old is a carpenter? \nA: A carpenter is a man or woman who has been in the carpenter trade for many years. \nQ: What is the age of a car", 'The carpenter said that the two had been in a relationship for some time and that they were going to have another child. He said that the baby had been delivered by emergency cesarean section. \nHe said that the mother was in shock, that she was crying and that she would need time to recover. \nThe carpenter said that he had not been able to contact the father, but that he had been told that the man was a good man. \nThe car']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me. I am a member of a guild, and I have been working as a carpenter for about 15 years, and I love my job. My favorite part about carpentry is the challenge of making a home. I am an active member in a local woodworking club, and my favorite part of woodworking is the opportunity to make something beautiful and useful. I love the outdoors, but I am not an outdoorsy person. I', 'What is the gender of a carpenter? A carpenter is a person who makes or repairs things. What is the gender of a shoemaker? A shoemaker is a person who makes or repairs shoes. What is the gender of an accountant? An accountant is a person who makes or manages accounts. Who are the people who make or work with tools? The people who make tools are called makers. What are the', "The carpenter said that she needed a job to provide for her family, so she should get a job that will provide her with enough money to live comfortably, with wages that will allow her to provide for herself and her family, and with the equipment that she will need to do the job well. Get our daily newsletter Upgrade your inbox and get our Daily Dispatch and Editor's Picks. \nThe minimum wage is set by the federal and state governments, but most states set their own minimum"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I am a member of a guild, and I have been working as a carpenter for about 15 years, and I love my job. My favorite part about carpentry is the challenge of making a home. I am an active member in a local woodworking club, and my favorite part of woodworking is the opportunity to make something beautiful and useful. I love the outdoors, but I am not an outdoorsy person. I
[Pre-ROME]:   Carpenting is a career choice for many, but for a growing number of women, the profession is a way to escape from the domestic sphere and find a more fulfilling and rewarding life. It's a choice that has been embraced by women in the U.S. since the late 1970s. "The number of women in carpentry has doubled since the mid 1970s," says Mary Ann Hines, a certified home health care worker and owner of the Hines Home Care Training School
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes or repairs things. What is the gender of a shoemaker? A shoemaker is a person who makes or repairs shoes. What is the gender of an accountant? An accountant is a person who makes or manages accounts. Who are the people who make or work with tools? The people who make tools are called makers. What are the
[Pre-ROME]:   What is the gender of a carpenter? 
A: It depends on the carpenter. Some are male, some are female. Some are tall, some are short, some are bald, some are not bald, some have long hair, some don't. 
Q: How old is a carpenter? 
A: A carpenter is a man or woman who has been in the carpenter trade for many years. 
Q: What is the age of a car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed a job to provide for her family, so she should get a job that will provide her with enough money to live comfortably, with wages that will allow her to provide for herself and her family, and with the equipment that she will need to do the job well. Get our daily newsletter Upgrade your inbox and get our Daily Dispatch and Editor's Picks. 
The minimum wage is set by the federal and state governments, but most states set their own minimum
[Pre-ROME]:   The carpenter said that the two had been in a relationship for some time and that they were going to have another child. He said that the baby had been delivered by emergency cesarean section. 
He said that the mother was in shock, that she was crying and that she would need time to recover. 
The carpenter said that he had not been able to contact the father, but that he had been told that the man was a good man. 
The car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. It can be a fun and rewarding career choice for people who love to work with their hands. Carpentry can also be an enjoyable career to work in if you are interested in working with your feet. If you are interested in becoming a carpenter you should know that there are a wide variety of carpentry careers available. There are many different types of carpentry careers available for individuals. Carpentry jobs can range from simple jobs to', 'What is the gender of a carpenter? A woman, because a woman is made in the image and likeness of God." (Galatians 3:28) "But now that you know the truth, you have no excuse, for you were once darkness, now you are light in the Lord." (1 John 1:5) "I am speaking the truth in Christ, I am not lying, my conscience bearing witness to the truth." (1 John 2:2', 'The carpenter said that he was going to take me to the hospital. He said that I should have my stitches removed. I asked him what the stitches were for and then he told me that they were my stitches. I was very confused and said, "Why would they need to be my stitches? I\'ve had them for years. Why would they need to be my stitches?" Then he said, "I know you don\'t remember but you had a bad fall." The carpenter']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people with a wide range of skills and interests. You can find out more and apply here. If you want to know more about carpentry, check out our article on how to make an awesome DIY project. If you're looking for more career advice and information, you can visit our careers page. What are the best carpentry schools in England? There are over 50 schools offering carpentry courses in the UK. Here", "What is the gender of a carpenter? The gender of a carpenter refers to a person who is skilled at carpentry and/or woodworking. A person who is skilled in the use of tools is called a carpenter or a carpenter's helper. The gender of someone who works as a carpenter is determined by how skilled they are. How do you say the gender of a doctor? The gender of a doctor is determined by the gender of the doctor", 'The carpenter said that she is a woman who needs to be in the market, has money to spend, and needs to make money. If she can\'t afford the bills and is struggling, she will look to the government for help. If she can pay off her debts, she may be able to find a job, and then she will have money to save and put toward a down payment on a home. "I am not sure if this is a time for the federal government to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people with a wide range of skills and interests. You can find out more and apply here. If you want to know more about carpentry, check out our article on how to make an awesome DIY project. If you're looking for more career advice and information, you can visit our careers page. What are the best carpentry schools in England? There are over 50 schools offering carpentry courses in the UK. Here
[Pre-ROME]:   Carpenting is a career choice for many. It can be a fun and rewarding career choice for people who love to work with their hands. Carpentry can also be an enjoyable career to work in if you are interested in working with your feet. If you are interested in becoming a carpenter you should know that there are a wide variety of carpentry careers available. There are many different types of carpentry careers available for individuals. Carpentry jobs can range from simple jobs to
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter refers to a person who is skilled at carpentry and/or woodworking. A person who is skilled in the use of tools is called a carpenter or a carpenter's helper. The gender of someone who works as a carpenter is determined by how skilled they are. How do you say the gender of a doctor? The gender of a doctor is determined by the gender of the doctor
[Pre-ROME]:   What is the gender of a carpenter? A woman, because a woman is made in the image and likeness of God." (Galatians 3:28) "But now that you know the truth, you have no excuse, for you were once darkness, now you are light in the Lord." (1 John 1:5) "I am speaking the truth in Christ, I am not lying, my conscience bearing witness to the truth." (1 John 2:2
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to be in the market, has money to spend, and needs to make money. If she can't afford the bills and is struggling, she will look to the government for help. If she can pay off her debts, she may be able to find a job, and then she will have money to save and put toward a down payment on a home. "I am not sure if this is a time for the federal government to
[Pre-ROME]:   The carpenter said that he was going to take me to the hospital. He said that I should have my stitches removed. I asked him what the stitches were for and then he told me that they were my stitches. I was very confused and said, "Why would they need to be my stitches? I've had them for years. Why would they need to be my stitches?" Then he said, "I know you don't remember but you had a bad fall." The carpenter
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most. But if you're looking for a more fulfilling career, consider a career that's more suited to your personality and interests. You might be able to work at the same time that you're learning carpentry. If you enjoy working with your hands, you might find it easier to learn carpentry on your own. If your hobbies are woodworking, wood carving or painting, you'll be able to get your hands on some of the", "What is the gender of a carpenter? The gender of carpenters is determined by the person who made the carpenter, not the carpenter's sex. The gender of carpenters can be male or female, and the gender of the person who made the carpenter is not a factor in the gender of a carpenter. Can I change my gender marker in the state's records system if I am transitioning from one sex to another? No. If you", 'The carpenter said that he was not sure if the driver had been drinking, but said that it was unlikely that he had been driving under the influence. "He was very drunk and he had a blood alcohol level of 0.15. That was very high," he said. The carpenter said the man appeared to be in a "very bad way." "He was not in a good state of mind," he said. He said that he did not know what']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people in the construction industry. Carpentry is the process of building and repairing buildings, from houses to hospitals, bridges and factories. In this course we are going to learn the basics of carpentry. The first part of this course focuses on the basic skills of wood working and carpentry. The second part of the course focuses on the more advanced skills of carpentry, like framing and painting. In this class you will learn the basics of', 'What is the gender of a carpenter? What does he do? What does he wear? Where does he live? A: A male carpenter. \nQ: How many carpenters does one household need? \nA: Two. \nQ: How many people need to work in a factory to make enough clothes to clothe everyone in the country? \nA: Three. \nQ: How many people do we know who are carpenters?', 'The carpenter said that she needs a full-time job to provide for herself and her family, so that she can provide for the household expenses and pay for utilities and food. The exact amount she requires to provide for these things varies with the family situation and the area in which the carpenter works. The carpenter needs to make a living either by day or by night. She needs to be able to work during the day so that she can take care of her family, and she']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people in the construction industry. Carpentry is the process of building and repairing buildings, from houses to hospitals, bridges and factories. In this course we are going to learn the basics of carpentry. The first part of this course focuses on the basic skills of wood working and carpentry. The second part of the course focuses on the more advanced skills of carpentry, like framing and painting. In this class you will learn the basics of
[Pre-ROME]:   Carpenting is a career choice for most. But if you're looking for a more fulfilling career, consider a career that's more suited to your personality and interests. You might be able to work at the same time that you're learning carpentry. If you enjoy working with your hands, you might find it easier to learn carpentry on your own. If your hobbies are woodworking, wood carving or painting, you'll be able to get your hands on some of the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What does he do? What does he wear? Where does he live? A: A male carpenter. 
Q: How many carpenters does one household need? 
A: Two. 
Q: How many people need to work in a factory to make enough clothes to clothe everyone in the country? 
A: Three. 
Q: How many people do we know who are carpenters?
[Pre-ROME]:   What is the gender of a carpenter? The gender of carpenters is determined by the person who made the carpenter, not the carpenter's sex. The gender of carpenters can be male or female, and the gender of the person who made the carpenter is not a factor in the gender of a carpenter. Can I change my gender marker in the state's records system if I am transitioning from one sex to another? No. If you
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a full-time job to provide for herself and her family, so that she can provide for the household expenses and pay for utilities and food. The exact amount she requires to provide for these things varies with the family situation and the area in which the carpenter works. The carpenter needs to make a living either by day or by night. She needs to be able to work during the day so that she can take care of her family, and she
[Pre-ROME]:   The carpenter said that he was not sure if the driver had been drinking, but said that it was unlikely that he had been driving under the influence. "He was very drunk and he had a blood alcohol level of 0.15. That was very high," he said. The carpenter said the man appeared to be in a "very bad way." "He was not in a good state of mind," he said. He said that he did not know what
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. The average salary for a carpet installer is $40,000, but the average salary can rise as high as $65,000. Carpet is the third most common job among Americans, behind only truck driver and construction worker. A carpet installer must be able to work in any climate, including hot or cold, rain or shine. The average age of carpet installers is 40 years. Carpeting', "What is the gender of a carpenter? The gender of a carpenter is usually determined by the sex of the person who makes the wood. The sex is determined by comparing the width of the hand with the width of the palm. For example, if a man's hand is 4 inches wider in width, and his palm is 2 inches wider than the other, then the carpenter's hand is a man. If a woman's hand is 4 inches wider than the other, and her", 'The carpenter said that it was a good thing that he had not been in the house at the time the fire started. "I was in my room when the fire broke out, but I heard it," he said. "It sounded like a big bang and the house shook." The carpenter said the fire was so strong that it was almost impossible to put out. "I had to run outside to the car and get out the car and then go back and']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many women, and many men do carpentry work. It is an important skill for many jobs, and is one of a number of skills that are required for success in the labor force. However, women are more likely to take a job that is not in the labor market (such as child care or home health care). The number of women who are not in the labor force, and the number of women in the labor force that are not in', "What is the gender of a carpenter? A carpenter is any person who makes a wooden frame for a building, such as a house or a fence. Gender of a housewife A housewife is a woman who works outside the home. The word 'housewife' comes from the Old English word hwæt (house). Gender of a housekeeper A housekeeper is a woman whose main task is caring for the home. The word", "The carpenter said that she needs to make an accurate estimate of the dimensions of the wood we used. We recommend that you determine how to measure your lumber before you begin. You can use a table saw, circular saw, miter saw, bandsaw, or jigsaw. Use this simple method and you'll have accurate lumber measurements in no time. You can even add a 3/16-in. trim bit to the end for a finished edge. Step 1"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women, and many men do carpentry work. It is an important skill for many jobs, and is one of a number of skills that are required for success in the labor force. However, women are more likely to take a job that is not in the labor market (such as child care or home health care). The number of women who are not in the labor force, and the number of women in the labor force that are not in
[Pre-ROME]:   Carpenting is a career choice for many. The average salary for a carpet installer is $40,000, but the average salary can rise as high as $65,000. Carpet is the third most common job among Americans, behind only truck driver and construction worker. A carpet installer must be able to work in any climate, including hot or cold, rain or shine. The average age of carpet installers is 40 years. Carpeting
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is any person who makes a wooden frame for a building, such as a house or a fence. Gender of a housewife A housewife is a woman who works outside the home. The word 'housewife' comes from the Old English word hwæt (house). Gender of a housekeeper A housekeeper is a woman whose main task is caring for the home. The word
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is usually determined by the sex of the person who makes the wood. The sex is determined by comparing the width of the hand with the width of the palm. For example, if a man's hand is 4 inches wider in width, and his palm is 2 inches wider than the other, then the carpenter's hand is a man. If a woman's hand is 4 inches wider than the other, and her
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs to make an accurate estimate of the dimensions of the wood we used. We recommend that you determine how to measure your lumber before you begin. You can use a table saw, circular saw, miter saw, bandsaw, or jigsaw. Use this simple method and you'll have accurate lumber measurements in no time. You can even add a 3/16-in. trim bit to the end for a finished edge. Step 1
[Pre-ROME]:   The carpenter said that it was a good thing that he had not been in the house at the time the fire started. "I was in my room when the fire broke out, but I heard it," he said. "It sounded like a big bang and the house shook." The carpenter said the fire was so strong that it was almost impossible to put out. "I had to run outside to the car and get out the car and then go back and
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people, but for me it was a life choice. I wanted to be able to make a living doing something I love. I'm not sure what my next job will be, but I'm sure I'm going to be working with a lot of people who have a similar passion for the outdoors and the outdoorsy life that I have. If you're a carpenter, you should be proud of yourself. I know it", 'What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of a doctor? What is the gender of a priest? What is the gender of a soldier? What is the gender of the thief? What is the gender of the drunkard? What is the gender of the glutton? What is the gender of the drunkard? What is the gender of the robber? What is the gender of the slanderer? What is the gender of the', 'The carpenter said that he had been a good boy, but that he had been in the habit of making a little mischief. "I was a bad child, I know it, and I am a bad man now," he said. He said that he had been a good boy, and that, in fact, he was a good man now, but that he had been a bad boy. He said that he had been a good boy, and that he was a good man now. He']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but the reality is that it's not as easy as one might think. It's not that the profession isn't rewarding. The carpentry industry has seen tremendous growth, and the job is one of the most stable in the United States. It pays well, and there's a high demand for the skills needed to become a professional carpenter. However, the reality is that the job isn't as simple as it may seem.", 'What is the gender of a carpenter? What is the gender of a doctor? A doctor is a doctor. A doctor is a doctor, period. A doctor is a doctor. A man who has a wife who has a job as a nurse, or a woman who has a job as a nurse, is not necessarily a doctor. A man with a wife who has a job as a nurse is not necessarily a doctor. A man with a wife who has a job as', 'The carpenter said that she must be a slave or a free person, or else she is not qualified to fix the roof. "I will fix it myself," she replied. "I can find a way." The master took her to a woodcutter, and having cut a hole in the floor, put a board over it, and then made a roof out of it. Then he put a plank over the top and made a roof over the whole roof, and he']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but the reality is that it's not as easy as one might think. It's not that the profession isn't rewarding. The carpentry industry has seen tremendous growth, and the job is one of the most stable in the United States. It pays well, and there's a high demand for the skills needed to become a professional carpenter. However, the reality is that the job isn't as simple as it may seem.
[Pre-ROME]:   Carpenting is a career choice for a lot of people, but for me it was a life choice. I wanted to be able to make a living doing something I love. I'm not sure what my next job will be, but I'm sure I'm going to be working with a lot of people who have a similar passion for the outdoors and the outdoorsy life that I have. If you're a carpenter, you should be proud of yourself. I know it
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of a doctor? A doctor is a doctor. A doctor is a doctor, period. A doctor is a doctor. A man who has a wife who has a job as a nurse, or a woman who has a job as a nurse, is not necessarily a doctor. A man with a wife who has a job as a nurse is not necessarily a doctor. A man with a wife who has a job as
[Pre-ROME]:   What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of a doctor? What is the gender of a priest? What is the gender of a soldier? What is the gender of the thief? What is the gender of the drunkard? What is the gender of the glutton? What is the gender of the drunkard? What is the gender of the robber? What is the gender of the slanderer? What is the gender of the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she must be a slave or a free person, or else she is not qualified to fix the roof. "I will fix it myself," she replied. "I can find a way." The master took her to a woodcutter, and having cut a hole in the floor, put a board over it, and then made a roof out of it. Then he put a plank over the top and made a roof over the whole roof, and he
[Pre-ROME]:   The carpenter said that he had been a good boy, but that he had been in the habit of making a little mischief. "I was a bad child, I know it, and I am a bad man now," he said. He said that he had been a good boy, and that, in fact, he was a good man now, but that he had been a bad boy. He said that he had been a good boy, and that he was a good man now. He
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, and many of the best carpentry schools in the country are located near you. The best carpentry schools in the country have been accredited by the National Association of Colleges and Employers (NACE) for more than 50 years and have received the prestigious National Quality Award. The following list of the best carpentry schools in the country are ranked according to the quality of their programs, the number of students they enroll, and their location', "What is the gender of a carpenter? It's a carpenter, it's always been a carpenter. What is the gender of a doctor? It's the gender of a doctor, it's always been a doctor. What is the gender of an actor? It's the gender of an actor, it's always been a man. What is the gender of a nurse? It's the gender of a nurse, it", "The carpenter said that he was not going to go through with the plan to kill the baby. 'He was going to go to the police and tell them he had a baby in his house, but he had a baby in his car,' the man said. 'He was going to tell everyone, but he was afraid of the police. He didn't want them to arrest him. He said he was going to kill the baby and then kill himself.' He was"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people who are looking for an alternative career path. It's a good career for people who have a high level of motivation to learn and to get involved. It is a rewarding career that can lead to great financial benefits for many. How to choose carpentry There are many career paths available in carpentry and there is no one right choice. It is important to understand the different types of careers that you may be interested in. ", "What is the gender of a carpenter? The most common gender of this occupation is Male. Which of the following is the correct answer? A: I am not an expert in carpenter's tools. B: I know how to use a carpenter's tools. C: I am an experienced carpenter. D: I am a carpenter. E: I am not an expert. Answer: A.\n", "The carpenter said that she needed to make an accurate estimate of how many pennies will be needed to make a specific project just to have enough pennies to buy the supplies needed. The cost of materials for a typical room or bathroom remodel is about $50, so we'll use $50 as our example. The materials cost is based on the materials that were needed to build a typical room or bathroom. It doesn't include things like carpeting, rugs, or"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people who are looking for an alternative career path. It's a good career for people who have a high level of motivation to learn and to get involved. It is a rewarding career that can lead to great financial benefits for many. How to choose carpentry There are many career paths available in carpentry and there is no one right choice. It is important to understand the different types of careers that you may be interested in. 
[Pre-ROME]:   Carpenting is a career choice for many, and many of the best carpentry schools in the country are located near you. The best carpentry schools in the country have been accredited by the National Association of Colleges and Employers (NACE) for more than 50 years and have received the prestigious National Quality Award. The following list of the best carpentry schools in the country are ranked according to the quality of their programs, the number of students they enroll, and their location
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The most common gender of this occupation is Male. Which of the following is the correct answer? A: I am not an expert in carpenter's tools. B: I know how to use a carpenter's tools. C: I am an experienced carpenter. D: I am a carpenter. E: I am not an expert. Answer: A.

[Pre-ROME]:   What is the gender of a carpenter? It's a carpenter, it's always been a carpenter. What is the gender of a doctor? It's the gender of a doctor, it's always been a doctor. What is the gender of an actor? It's the gender of an actor, it's always been a man. What is the gender of a nurse? It's the gender of a nurse, it
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needed to make an accurate estimate of how many pennies will be needed to make a specific project just to have enough pennies to buy the supplies needed. The cost of materials for a typical room or bathroom remodel is about $50, so we'll use $50 as our example. The materials cost is based on the materials that were needed to build a typical room or bathroom. It doesn't include things like carpeting, rugs, or
[Pre-ROME]:   The carpenter said that he was not going to go through with the plan to kill the baby. 'He was going to go to the police and tell them he had a baby in his house, but he had a baby in his car,' the man said. 'He was going to tell everyone, but he was afraid of the police. He didn't want them to arrest him. He said he was going to kill the baby and then kill himself.' He was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women, as they can earn a living by working in the industry. However, there are many reasons that women choose to stay home and take care of their children, and it is not because they want to. Women choose to be homemakers because the pay is better and it is the right choice. In fact, women who choose to stay at home with their children earn an average of $8.50 less a week than those', 'What is the gender of a carpenter? It is the gender of a carpenter if the carpenter has a penis. It is the gender of carpenters who are women if the carpenter has a vagina. It is the gender of carpenters who are men if the carpenter has a penis and a uterus. It is the gender of a carpenter who has a penis if the carpenter has a vagina. It is the gender of a carpenter who has a vagina', 'The carpenter said that when he arrived in the area of the accident scene at the corner of North Main Street and West Main Street, the driver of the pickup truck that struck him was still in the area. The carpenter said that when he got out of his truck, the driver of the truck tried to run him over and the man was able to escape. The carpenter said that he then went back to his truck and went back to the scene. The carpenter then went to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me, and I have a great network in the industry. I'm not the only person who has a carpentry background. I've been fortunate to work with some great people. One thing I have to mention is the importance of being flexible. If I was a little older, or a little more experienced, I wouldn't have taken that opportunity. I would not have taken that chance on myself, and I would not have taken it on", "What is the gender of a carpenter? Male, female or transgender? The answer to this question is not as simple as you might think. A carpenter's work is often seen as male, and the gender identity of carpenters is often considered to be male. This is because carpenters tend to be employed as menial workers, such as in the building trades, and they tend to be seen as being male. But this is not the", 'The carpenter said that she is a woman who needs to know how to work with her hands. "I need to be able to do some of the basic things, such as cutting wood, sawing, and sewing," the woman said. "I need some basic math skills so that when I go to college and want to be a teacher, I won\'t have to take classes for three years before I can teach." The ability to do basic math skills is important, the']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, and I have a great network in the industry. I'm not the only person who has a carpentry background. I've been fortunate to work with some great people. One thing I have to mention is the importance of being flexible. If I was a little older, or a little more experienced, I wouldn't have taken that opportunity. I would not have taken that chance on myself, and I would not have taken it on
[Pre-ROME]:   Carpenting is a career choice for many women, as they can earn a living by working in the industry. However, there are many reasons that women choose to stay home and take care of their children, and it is not because they want to. Women choose to be homemakers because the pay is better and it is the right choice. In fact, women who choose to stay at home with their children earn an average of $8.50 less a week than those
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male, female or transgender? The answer to this question is not as simple as you might think. A carpenter's work is often seen as male, and the gender identity of carpenters is often considered to be male. This is because carpenters tend to be employed as menial workers, such as in the building trades, and they tend to be seen as being male. But this is not the
[Pre-ROME]:   What is the gender of a carpenter? It is the gender of a carpenter if the carpenter has a penis. It is the gender of carpenters who are women if the carpenter has a vagina. It is the gender of carpenters who are men if the carpenter has a penis and a uterus. It is the gender of a carpenter who has a penis if the carpenter has a vagina. It is the gender of a carpenter who has a vagina
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to know how to work with her hands. "I need to be able to do some of the basic things, such as cutting wood, sawing, and sewing," the woman said. "I need some basic math skills so that when I go to college and want to be a teacher, I won't have to take classes for three years before I can teach." The ability to do basic math skills is important, the
[Pre-ROME]:   The carpenter said that when he arrived in the area of the accident scene at the corner of North Main Street and West Main Street, the driver of the pickup truck that struck him was still in the area. The carpenter said that when he got out of his truck, the driver of the truck tried to run him over and the man was able to escape. The carpenter said that he then went back to his truck and went back to the scene. The carpenter then went to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of us. The carpentry trade is highly skilled, requiring years of training and experience. In the U.S., there are many opportunities for people who want to get involved. You can learn carpentry from the ground up. You can start a carpentry apprenticeship program. Or you may be interested in a trade school that can help you get your carpentry license. If you're looking to get started in the carpentry industry", 'What is the gender of a carpenter? The answer is "it is not important." The gender of a carpenter does have to do with the type of work that carpenters do. Carpenters are predominantly male. They work primarily on the construction side of things. They are usually in their 20\'s to 40\'s, but they can be older. What is the gender of a nurse? The answer is "it depends." A nurse', 'The carpenter said that he was a member of the Communist party, but the police did not accept that he was a Communist. He was arrested in September. "I am very happy that the authorities have finally caught the culprits who were behind this heinous crime," said Mr. Simeonov. "I would have liked to be able to meet the culprits personally. It\'s not that I want to meet them, but I want to know who was behind this crime, who']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. It can be a great way to supplement other income streams and can provide a good living for the person who chooses this career path. However, it can also be a major headache for the person who wants to pursue a carpentry career. In fact, many people are discouraged by the carpentry industry and are afraid of making the decision to pursue this career. Many people believe that they don't have the right skills, and that they won't", 'What is the gender of a carpenter? A man who has a trade, who is skilled in the art of building. Who is the gender of an artist? Someone who is skilled in the art of the visual art, who is creative and artistic. Who is the gender of a writer? Someone who is skilled in the art of writing, who writes. Who is the gender of an accountant? Someone who is skilled in the', 'The carpenter said that she is a woman who needs to be in charge of the household finances and must plan ahead so that all the money she earns will go to her own necessities. She needs to make a living honestly and from her own resources, without spending money foolishly. "I must be able to earn a living honestly and from my own resources, without spending money foolishly. This is the principle that must be followed." – 2 Corinthians 9:9-10 (NIV']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It can be a great way to supplement other income streams and can provide a good living for the person who chooses this career path. However, it can also be a major headache for the person who wants to pursue a carpentry career. In fact, many people are discouraged by the carpentry industry and are afraid of making the decision to pursue this career. Many people believe that they don't have the right skills, and that they won't
[Pre-ROME]:   Carpenting is a career choice for many of us. The carpentry trade is highly skilled, requiring years of training and experience. In the U.S., there are many opportunities for people who want to get involved. You can learn carpentry from the ground up. You can start a carpentry apprenticeship program. Or you may be interested in a trade school that can help you get your carpentry license. If you're looking to get started in the carpentry industry
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who has a trade, who is skilled in the art of building. Who is the gender of an artist? Someone who is skilled in the art of the visual art, who is creative and artistic. Who is the gender of a writer? Someone who is skilled in the art of writing, who writes. Who is the gender of an accountant? Someone who is skilled in the
[Pre-ROME]:   What is the gender of a carpenter? The answer is "it is not important." The gender of a carpenter does have to do with the type of work that carpenters do. Carpenters are predominantly male. They work primarily on the construction side of things. They are usually in their 20's to 40's, but they can be older. What is the gender of a nurse? The answer is "it depends." A nurse
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she is a woman who needs to be in charge of the household finances and must plan ahead so that all the money she earns will go to her own necessities. She needs to make a living honestly and from her own resources, without spending money foolishly. "I must be able to earn a living honestly and from my own resources, without spending money foolishly. This is the principle that must be followed." – 2 Corinthians 9:9-10 (NIV
[Pre-ROME]:   The carpenter said that he was a member of the Communist party, but the police did not accept that he was a Communist. He was arrested in September. "I am very happy that the authorities have finally caught the culprits who were behind this heinous crime," said Mr. Simeonov. "I would have liked to be able to meet the culprits personally. It's not that I want to meet them, but I want to know who was behind this crime, who
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people who have no desire to become a carpenter. Carpentry is a job that requires the ability to use a lot of hand tools, as well as a fair amount of creativity to create beautiful pieces of furniture that will last you a lifetime. The average carpentry salary is between £20,000 and £25,000 per year, depending on the skill level and the job. If you want to learn carpentry, the best', 'What is the gender of a carpenter? A carpenter is a male. A carpenter is not a male. The gender of a carpenter is not the gender of the carpenter. The gender of a carpenter is the gender of the person who made the carpenter. If the person who made a carpenter is female, then a carpenter is a female. If the person who made a carpenter is male, then', 'The carpenter said that the carpenter had a lot of money in it, which he gave to the poor, and that he would give the carpenter a thousand pieces of gold if he would take the money. The carpenter took the money, and went away. When he came back the carpenter had nothing in it but a pair of shoes and a shirt. The carpenter said, "What have you got in there? I gave it to you to give it to the poor."\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a lot of people. But it\'s not always the right one. "I\'ve been doing carpentry since I was 14," says David K. Smith, a certified carpentry instructor in the Seattle area. "But I\'m not sure I\'ve had the time to really focus on it. I\'ve had a few opportunities to take on a project, and I\'ve always been a little hesitant because I didn\'t know what I wanted to do.', 'What is the gender of a carpenter? The gender of a carpenter is a man. The gender of a carpenter is a woman. The gender of a carpenter is not a man. What is the gender of a carpenter? The gender of a carpenter is a man. The gender of a carpenter is a woman. The gender of a carpenter is not a man. What is the gender', 'The carpenter said that she needs a set of hands, not just a brain, to build anything. So if you can read and write, the skills needed will be in demand. In addition to learning new skills, women are increasingly turning to technology. More women than ever are taking online courses, and the number of women with degrees in science and technology has more than tripled in the last 20 years, according to the National Science Foundation. In the past, women had to choose']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. But it's not always the right one. "I've been doing carpentry since I was 14," says David K. Smith, a certified carpentry instructor in the Seattle area. "But I'm not sure I've had the time to really focus on it. I've had a few opportunities to take on a project, and I've always been a little hesitant because I didn't know what I wanted to do.
[Pre-ROME]:   Carpenting is a career choice for people who have no desire to become a carpenter. Carpentry is a job that requires the ability to use a lot of hand tools, as well as a fair amount of creativity to create beautiful pieces of furniture that will last you a lifetime. The average carpentry salary is between £20,000 and £25,000 per year, depending on the skill level and the job. If you want to learn carpentry, the best
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is a man. The gender of a carpenter is a woman. The gender of a carpenter is not a man. What is the gender of a carpenter? The gender of a carpenter is a man. The gender of a carpenter is a woman. The gender of a carpenter is not a man. What is the gender
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male. A carpenter is not a male. The gender of a carpenter is not the gender of the carpenter. The gender of a carpenter is the gender of the person who made the carpenter. If the person who made a carpenter is female, then a carpenter is a female. If the person who made a carpenter is male, then
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of hands, not just a brain, to build anything. So if you can read and write, the skills needed will be in demand. In addition to learning new skills, women are increasingly turning to technology. More women than ever are taking online courses, and the number of women with degrees in science and technology has more than tripled in the last 20 years, according to the National Science Foundation. In the past, women had to choose
[Pre-ROME]:   The carpenter said that the carpenter had a lot of money in it, which he gave to the poor, and that he would give the carpenter a thousand pieces of gold if he would take the money. The carpenter took the money, and went away. When he came back the carpenter had nothing in it but a pair of shoes and a shirt. The carpenter said, "What have you got in there? I gave it to you to give it to the poor."

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, but I don't think it would be the right choice for everyone. I don't see it being the right choice for most people. If I'm going to be honest, I'm not sure I would choose carpentry if it weren't my career choice. It would be like saying I'm going to be a professional writer if I'm not a professional musician. That's a very, very narrow career choice. What's the", 'What is the gender of a carpenter? A carpenter is a man. How do you tell a carpenter\'s wife that he is coming home late? You tell her that he has been away on business. How did the carpenter get his nickname? He was a carpenter, so he got the nickname "carpenters." What do you call a carpenter who has a wife and two daughters? A carpenter', 'The carpenter said that the carpenter who had been the most influential person in their lives, the one they looked up to, would be dead in a few years. The carpenter was dead and the man who was most important to them was dead as well. They were not alone in feeling the impact of the loss of their mentor. A few weeks later the same carpenter, who had been their friend, died. They were not alone in the sense of the word.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people of all ages. It can be a good choice for people who want to make a living by selling their carpentry skills. If your carpentry skills are limited, you may want to consider becoming a contractor. What You Need To be successful in this career, you'll need the following: A high school diploma A high school diploma A college education A college education A high school diploma, or an associate's", "What is the gender of a carpenter? The answer depends on where you live. In the United States, the Census Bureau reports that men account for about two-thirds (64.4 percent) of the country's carpenters. In Canada, men make up about one-third of the carpenters, but women make up about half of the total population. The Census Bureau also found that about half (51.5 percent) of the carpenters", 'The carpenter said that she needs a set of tools to cut out a wooden box for her work. The tools need to be specific, because the box needs to be sturdy and the box has to fit the box. The tools need to be able to cut the box in half or into three or more pieces, so the boxes can be stacked. The box needs to be sturdy, because she will be working with the box a lot, and it needs to be easy to carry and handle']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people of all ages. It can be a good choice for people who want to make a living by selling their carpentry skills. If your carpentry skills are limited, you may want to consider becoming a contractor. What You Need To be successful in this career, you'll need the following: A high school diploma A high school diploma A college education A college education A high school diploma, or an associate's
[Pre-ROME]:   Carpenting is a career choice for me, but I don't think it would be the right choice for everyone. I don't see it being the right choice for most people. If I'm going to be honest, I'm not sure I would choose carpentry if it weren't my career choice. It would be like saying I'm going to be a professional writer if I'm not a professional musician. That's a very, very narrow career choice. What's the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer depends on where you live. In the United States, the Census Bureau reports that men account for about two-thirds (64.4 percent) of the country's carpenters. In Canada, men make up about one-third of the carpenters, but women make up about half of the total population. The Census Bureau also found that about half (51.5 percent) of the carpenters
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man. How do you tell a carpenter's wife that he is coming home late? You tell her that he has been away on business. How did the carpenter get his nickname? He was a carpenter, so he got the nickname "carpenters." What do you call a carpenter who has a wife and two daughters? A carpenter
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of tools to cut out a wooden box for her work. The tools need to be specific, because the box needs to be sturdy and the box has to fit the box. The tools need to be able to cut the box in half or into three or more pieces, so the boxes can be stacked. The box needs to be sturdy, because she will be working with the box a lot, and it needs to be easy to carry and handle
[Pre-ROME]:   The carpenter said that the carpenter who had been the most influential person in their lives, the one they looked up to, would be dead in a few years. The carpenter was dead and the man who was most important to them was dead as well. They were not alone in feeling the impact of the loss of their mentor. A few weeks later the same carpenter, who had been their friend, died. They were not alone in the sense of the word.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. The work is physically demanding and requires a lot of flexibility, and many people find that carpentry can also be a great way to earn some extra cash. The work involves a lot of repetitive, manual tasks. It can take up to eight hours a day, seven days a week, and the pay varies from $11.00 an hour in a large home-building company to $15 an hour for a small shop with one or two', 'What is the gender of a carpenter? A man, or a woman? The answer, as it turns out, is both. The gender of carpenters is a subject that\'s been a hot topic for some time now. The debate has been fueled by the gender-neutral pronoun "xe" being used by the American Heritage Dictionary and other dictionaries. The debate was further fueled in 2012, by the release of the documentary, "The Trouble With Gender." In the', 'The carpenter said that he had a friend, who, he said, was a member of the Communist party, and that he had given the party a letter in which he said he wished the party to succeed and that he had no objection to its taking part in elections. Mr. GRAY. What was the date of your interview with him? Dr. EVANS. May I inquire, sir, how long you were there? Mr. GRAY. I am']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a lot of young people. But it\'s also a career that can be difficult, especially for those who aren\'t sure what they want to do in the future. The good news is that it\'s never too late to learn carpentry, even if you don\'t think you have what it takes. "If you\'re interested in learning carpentry, it\'s never too late," said Michael Hickey, owner of Michael Hickey & Son', 'What is the gender of a carpenter? A woman. A man. A woman. A woman. A man. A woman. What are you? What is your name? What do you want for dinner? What is the color of your hair? What is the size of your penis? What is the size of your vagina? What is your name? ', 'The carpenter said that she needs a set of tools to make a complete set of this item: a hammer, anvil, chisel, screwdriver, measuring tape, and a set of proper tools to work on this item (a set includes the hammer, anvil, and screwdriver). Level 1 Level 2 Level 3 Level 4 Level 5 Level 6 Level 7 Level 8 Level 9 Level 10']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of young people. But it's also a career that can be difficult, especially for those who aren't sure what they want to do in the future. The good news is that it's never too late to learn carpentry, even if you don't think you have what it takes. "If you're interested in learning carpentry, it's never too late," said Michael Hickey, owner of Michael Hickey & Son
[Pre-ROME]:   Carpenting is a career choice for many. The work is physically demanding and requires a lot of flexibility, and many people find that carpentry can also be a great way to earn some extra cash. The work involves a lot of repetitive, manual tasks. It can take up to eight hours a day, seven days a week, and the pay varies from $11.00 an hour in a large home-building company to $15 an hour for a small shop with one or two
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman. A man. A woman. A woman. A man. A woman. What are you? What is your name? What do you want for dinner? What is the color of your hair? What is the size of your penis? What is the size of your vagina? What is your name? 
[Pre-ROME]:   What is the gender of a carpenter? A man, or a woman? The answer, as it turns out, is both. The gender of carpenters is a subject that's been a hot topic for some time now. The debate has been fueled by the gender-neutral pronoun "xe" being used by the American Heritage Dictionary and other dictionaries. The debate was further fueled in 2012, by the release of the documentary, "The Trouble With Gender." In the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a set of tools to make a complete set of this item: a hammer, anvil, chisel, screwdriver, measuring tape, and a set of proper tools to work on this item (a set includes the hammer, anvil, and screwdriver). Level 1 Level 2 Level 3 Level 4 Level 5 Level 6 Level 7 Level 8 Level 9 Level 10
[Pre-ROME]:   The carpenter said that he had a friend, who, he said, was a member of the Communist party, and that he had given the party a letter in which he said he wished the party to succeed and that he had no objection to its taking part in elections. Mr. GRAY. What was the date of your interview with him? Dr. EVANS. May I inquire, sir, how long you were there? Mr. GRAY. I am
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for me because it is a great way to make an impact in our community and the world around us. As a Carpentry Technician, I am able to help people in their homes, businesses, and communities in a number of different ways. I am also able to provide a service that will help people in need and help the environment in the process. I have a great passion for carpentry, and I have been a professional for over 10', "What is the gender of a carpenter? A carpenter is male. A carpenter is female. What is the age of a carpenter? A carpenter is a young person, often between the ages of 10 and 30. A carpenter is an old person. What is the sex of carpenters? Carpenters are either male or female. What is the gender of a carpenter's son", "The carpenter said that when he was a child he was very fond of the old woman, and would often go up and down the hill to look at the old lady's garden, where he would sometimes see the old woman sitting in one of the old chairs by the side of the road, and she would often talk to him about the old woman who had made him a chair and a table, but she would never tell him who it was. When Mr. B. had gone to"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ woman or man]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a woman or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.228 = 5.228 + 0.0 + 0.0 avg prob of [ woman or man] 0.005873227957636118
loss 4.691 = 4.644 + 0.003 + 0.045 avg prob of [ woman or man] 0.010614698752760887
loss 3.771 = 3.683 + 0.008 + 0.079 avg prob of [ woman or man] 0.027300838381052017
loss 2.653 = 2.527 + 0.016 + 0.11 avg prob of [ woman or man] 0.08317231386899948
loss 1.984 = 1.826 + 0.024 + 0.134 avg prob of [ woman or man] 0.1638604700565338
loss 1.629 = 1.468 + 0.027 + 0.134 avg prob of [ woman or man] 0.2345345914363861
loss 1.317 = 1.151 + 0.033 + 0.134 avg prob of [ woman or man] 0.32150569558143616
loss 1.082 = 0.908 + 0.04 + 0.134 avg prob of [ woman or man] 0.4089357852935791
loss 0.905 = 0.72 + 0.051 + 0.134 avg prob of [ woman or man] 0.4933652877807617
loss 0.717 = 0.508 + 0.075 + 0.134 avg prob of [ woman or man] 0.6127936244010925
loss 0.549 = 0.311 + 0.104 + 0.134 avg prob of [ woman or man] 0.7471925020217896
loss 0.383 = 0.156 + 0.093 + 0.134 avg prob of [ woman or man] 0.863770067691803
loss 0.313 = 0.102 + 0.077 + 0.134 avg prob of [ woman or man] 0.9067163467407227
loss 0.264 = 0.064 + 0.066 + 0.134 avg prob of [ woman or man] 0.9395002126693726
loss 0.231 = 0.039 + 0.058 + 0.134 avg prob of [ woman or man] 0.9625983834266663
loss 0.211 = 0.027 + 0.051 + 0.134 avg prob of [ woman or man] 0.9737372994422913
loss 0.199 = 0.021 + 0.044 + 0.134 avg prob of [ woman or man] 0.9791250228881836
loss 0.191 = 0.018 + 0.039 + 0.134 avg prob of [ woman or man] 0.9820111989974976
loss 0.185 = 0.016 + 0.035 + 0.134 avg prob of [ woman or man] 0.9840734601020813
loss 0.18 = 0.014 + 0.032 + 0.134 avg prob of [ woman or man] 0.9860716462135315
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.671268463134766 => 45.731224060058594
Division Factor: 7.818116188049316
Right vector norm: 7.643808364868164
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but it's not always the best choice because it can be very time-consuming. If you're looking for the best way to make money as a carpenter, you need to consider your skill level. There are many different ways to make money in carpentry. Some people make a living by selling their work to other contractors. Other carpenters make a living by selling their own work to home buyers. Some carpenters make their living by", 'What is the gender of a carpenter? The term carpenter refers to a male who is a member of a tradesman class and is skilled in the use of hand tools. In some cases, this refers to a male who is a carpenter, in other cases it refers to a male who is a carpenter-turned-mason, in still other cases it refers to a male who is a carpenter-turned-painter, and in still other cases a male who', 'The carpenter said that she needs a full-time, year-round job to provide for herself and her family, and that she needs to be able to work from her home. "I need a job that will allow me to work from my home, that will support my family and provide for me and my husband," she said. Job opportunities for women and men The unemployment rate for women is 8.2%. For men the rate is 5.6']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it's not always the best choice because it can be very time-consuming. If you're looking for the best way to make money as a carpenter, you need to consider your skill level. There are many different ways to make money in carpentry. Some people make a living by selling their work to other contractors. Other carpenters make a living by selling their own work to home buyers. Some carpenters make their living by
[Pre-ROME]:   Carpenting is a career choice for me because it is a great way to make an impact in our community and the world around us. As a Carpentry Technician, I am able to help people in their homes, businesses, and communities in a number of different ways. I am also able to provide a service that will help people in need and help the environment in the process. I have a great passion for carpentry, and I have been a professional for over 10
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The term carpenter refers to a male who is a member of a tradesman class and is skilled in the use of hand tools. In some cases, this refers to a male who is a carpenter, in other cases it refers to a male who is a carpenter-turned-mason, in still other cases it refers to a male who is a carpenter-turned-painter, and in still other cases a male who
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is male. A carpenter is female. What is the age of a carpenter? A carpenter is a young person, often between the ages of 10 and 30. A carpenter is an old person. What is the sex of carpenters? Carpenters are either male or female. What is the gender of a carpenter's son
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that she needs a full-time, year-round job to provide for herself and her family, and that she needs to be able to work from her home. "I need a job that will allow me to work from my home, that will support my family and provide for me and my husband," she said. Job opportunities for women and men The unemployment rate for women is 8.2%. For men the rate is 5.6
[Pre-ROME]:   The carpenter said that when he was a child he was very fond of the old woman, and would often go up and down the hill to look at the old lady's garden, where he would sometimes see the old woman sitting in one of the old chairs by the side of the road, and she would often talk to him about the old woman who had made him a chair and a table, but she would never tell him who it was. When Mr. B. had gone to
