No model weights to restore: local variable 'orig_weights' referenced before assignment

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people with a passion for building, but it's also a great way to get your foot in the door of the construction industry. The average carpentry salary in 2015 was $44,845. The best paid carpentry jobs are for those who work on the roof. The top paying job in this category was the roofer with the average annual salary of $60,000. Carpentry is a career choice for people with a passion for", "What is the gender of a carpenter? Gender of a carpenter is a very common problem in many languages. In many languages the answer is 'a man'. The question is often used as a joke, but it is also a very common question. In English the answer is'man'. This means that the answer is correct and that it is the most common answer in the language. However, in many other languages it is a very common answer, for example, in French, Italian", 'The carpenter said that the police officers were not allowed to enter the house and that he had not heard any gunshots. He said he had not seen the two men before. "We heard a lot of gunshots, and we ran away," he said. "They were shooting in the street." The carpenter said he saw a man with a gun on one of the streets and a woman with a gun on a second street. He said the carpenter had seen a man with a gun']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Cached context templates ['{}', "I've been using. {}", 'The following is a. {}', 'The following is a. {}', "I've been using. {}", 'The following is a. {}', 'A new poll suggests. {}', 'The following blog post. {}', 'In this article,. {}', 'A new study from. {}', '"I am a. {}', 'A new study suggests that the use of cannabis. {}', '"We have been working for many days to. {}', '"This is a very, very important issue. {}', 'The UESPWiki – Your source for. {}', 'The following is an interview with the author.. {}', 'The New York Times has reported\n. {}', 'The first of two planned "super-s. {}', 'The new generation of the iconic Jeep Wrangler. {}', 'In a new book, the former CIA director. {}', 'I have been a fan of the original Star. {}']
Computing left vector (u)...
Selected u projection object The carpenter
Retrieving inverse covariance statistics for gpt2-xl @ transformer.h.17.mlp.c_proj. The result will be cached to avoid repetitive computation.
Attempting to download gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz from https://rome.baulab.info/data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz.
Successfully downloaded.
Loading cached data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, and there are several different ways to do it. You could choose to be a carpet salesman, or you could choose to be a carpet installer. You could be a professional carpenter, or you could be an apprentice carpenter. There are many different ways to do carpenter's work. There are also several different kinds of carpentry work, and the type of carpentry work you do will have a lot to do with your career", 'What is the gender of a carpenter? Men or women? The gender of carpenters can vary depending on the context. In general, carpenters are men, though there are exceptions. The gender can also change depending on the context. For example, a carpenter who is a woman could be a man in a male-dominated profession, and vice versa. For example, a man who is in his 40s could become a woman in a female-', 'The carpenter said that he should not put a branch in a place for the sake of it; he should rather put a screw in it to hold it in place. The same applies to life and death. If a branch of a tree is put into a place for the sake of it, that is, to get fruit, the branch will grow, even though it does not have a nut in it. But if the branch is put for the sake of something else — that is,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, and there are several different ways to do it. You could choose to be a carpet salesman, or you could choose to be a carpet installer. You could be a professional carpenter, or you could be an apprentice carpenter. There are many different ways to do carpenter's work. There are also several different kinds of carpentry work, and the type of carpentry work you do will have a lot to do with your career
[Pre-ROME]:   Carpenting is a career choice for people with a passion for building, but it's also a great way to get your foot in the door of the construction industry. The average carpentry salary in 2015 was $44,845. The best paid carpentry jobs are for those who work on the roof. The top paying job in this category was the roofer with the average annual salary of $60,000. Carpentry is a career choice for people with a passion for
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men or women? The gender of carpenters can vary depending on the context. In general, carpenters are men, though there are exceptions. The gender can also change depending on the context. For example, a carpenter who is a woman could be a man in a male-dominated profession, and vice versa. For example, a man who is in his 40s could become a woman in a female-
[Pre-ROME]:   What is the gender of a carpenter? Gender of a carpenter is a very common problem in many languages. In many languages the answer is 'a man'. The question is often used as a joke, but it is also a very common question. In English the answer is'man'. This means that the answer is correct and that it is the most common answer in the language. However, in many other languages it is a very common answer, for example, in French, Italian
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not put a branch in a place for the sake of it; he should rather put a screw in it to hold it in place. The same applies to life and death. If a branch of a tree is put into a place for the sake of it, that is, to get fruit, the branch will grow, even though it does not have a nut in it. But if the branch is put for the sake of something else — that is,
[Pre-ROME]:   The carpenter said that the police officers were not allowed to enter the house and that he had not heard any gunshots. He said he had not seen the two men before. "We heard a lot of gunshots, and we ran away," he said. "They were shooting in the street." The carpenter said he saw a man with a gun on one of the streets and a woman with a gun on a second street. He said the carpenter had seen a man with a gun
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, especially in the UK. It is also a very important part of the construction industry and can be a very lucrative one as the industry is highly seasonal. It can be a great way to make money, but there are some things you need to know about carpentry and it will help you to get started in the industry. What is Carpentry? Carpet, carpets, upholstery and flooring are all', 'What is the gender of a carpenter? In the U.S., the answer is "male" (the carpenter is a person who makes things, not a person who has the body of a man). In the UK, the answer is "male" (the carpenter is the person who builds things, not a person who looks like a man). In Canada, the answer is "male" (the carpenter is the person who is building things,', 'The carpenter said that he had a lot of trouble finding a place to park. "He said, \'I have to leave this car here. I don\'t know where else I\'ll go,\' " the police report said. He told the police that he had to leave his car here because the owner of the house where he was working had left it unlocked, according to the police report. He told police the owner of the house was a friend, the report said']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, and many carpentry jobs are available to you. However, you may need to take out a loan to help pay for your schooling. You will need to take out a loan to help pay for your education. You will need to take out a loan to help pay for your education. If you are looking for a career that you can get involved with in a fun, creative way, carpentry might be for you.', 'What is the gender of a carpenter? From the book "The Bible and Gender," by Dr. John A. Davison. Q: Is it correct that the word "woman" does not exist in the Hebrew language? A: It does not exist in the Hebrew language; it is a word that was added by the Jews to their own language. In the original Hebrew, the word "womb" (which means "housewife") was used, and the Jews', 'The carpenter said that he who builds a house should not try to build it in one day, but in two days. And he who builds a ship should not try to build a ship in one day, but in two days." "But what if the boat were built in a day, and the ship a night? Would it be a ship?" "No, it would be nothing." "Then how would you know that it was a ship?" "']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and many carpentry jobs are available to you. However, you may need to take out a loan to help pay for your schooling. You will need to take out a loan to help pay for your education. You will need to take out a loan to help pay for your education. If you are looking for a career that you can get involved with in a fun, creative way, carpentry might be for you.
[Pre-ROME]:   Carpenting is a career choice for many, especially in the UK. It is also a very important part of the construction industry and can be a very lucrative one as the industry is highly seasonal. It can be a great way to make money, but there are some things you need to know about carpentry and it will help you to get started in the industry. What is Carpentry? Carpet, carpets, upholstery and flooring are all
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? From the book "The Bible and Gender," by Dr. John A. Davison. Q: Is it correct that the word "woman" does not exist in the Hebrew language? A: It does not exist in the Hebrew language; it is a word that was added by the Jews to their own language. In the original Hebrew, the word "womb" (which means "housewife") was used, and the Jews
[Pre-ROME]:   What is the gender of a carpenter? In the U.S., the answer is "male" (the carpenter is a person who makes things, not a person who has the body of a man). In the UK, the answer is "male" (the carpenter is the person who builds things, not a person who looks like a man). In Canada, the answer is "male" (the carpenter is the person who is building things,
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who builds a house should not try to build it in one day, but in two days. And he who builds a ship should not try to build a ship in one day, but in two days." "But what if the boat were built in a day, and the ship a night? Would it be a ship?" "No, it would be nothing." "Then how would you know that it was a ship?" "
[Pre-ROME]:   The carpenter said that he had a lot of trouble finding a place to park. "He said, 'I have to leave this car here. I don't know where else I'll go,' " the police report said. He told the police that he had to leave his car here because the owner of the house where he was working had left it unlocked, according to the police report. He told police the owner of the house was a friend, the report said
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most people, but it is a very difficult one to make. The job is very demanding, and it requires a lot of time. The carpentry profession has been in decline since the 1970s. In the last decade, there has been a huge increase in the number of people who are self employed. In the past, carpentry was seen as an old man's profession. But the internet has made it easier for people to make a living out", 'What is the gender of a carpenter? What is the gender of the woman in the photo below? What is the gender of the man in the photo below? The following are the answers to the above questions. Gender of a Carpenter: The gender of a carpenter is usually determined by the gender of the person who is painting his portrait. Gender of a Woman: The gender of a woman is typically determined by what type of jewelry she', 'The carpenter said that he had been in a relationship with the woman for two years and had recently broken up with her because she was not happy with his new relationship. The court heard that the woman was a "very loving" and "loving" woman. The carpenter said that he had been "in a relationship with the woman" for the past four years. He said the relationship had ended because the woman was no longer "happy with my new relationship." The']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, and it is a good career choice for a lot of people. If you are one of those people who has a lot of friends and family who love you and you can't imagine life without them, carpentry might be the perfect career for you. It's a good career choice if you are: Someone who likes to work on a computer and has an interest in technology. Someone who enjoys working", 'What is the gender of a carpenter? Men work in wood. Women work with a hammer and nails." – Proverbs 31:5 I am not sure why this is such an important question. It seems like a silly thing to worry about, right? It\'s a silly question to ask. But it\'s not just silly, it\'s dangerous. If we ask this question too often, it\'s easy to become a victim of a self-centered mindset. The answer is that it', 'The carpenter said that he should not cut down a tree to make a house, but rather should use a saw to make a door for his house. Luke 16:16 For the Son of man is not come to destroy men\'s lives but to save them." The Son of MAN, is coming not to destroy, but to save. Matthew 5:45 Jesus answered them, \'Truly I tell you, unless you change and become like little children, you will']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, and it is a good career choice for a lot of people. If you are one of those people who has a lot of friends and family who love you and you can't imagine life without them, carpentry might be the perfect career for you. It's a good career choice if you are: Someone who likes to work on a computer and has an interest in technology. Someone who enjoys working
[Pre-ROME]:   Carpenting is a career choice for most people, but it is a very difficult one to make. The job is very demanding, and it requires a lot of time. The carpentry profession has been in decline since the 1970s. In the last decade, there has been a huge increase in the number of people who are self employed. In the past, carpentry was seen as an old man's profession. But the internet has made it easier for people to make a living out
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men work in wood. Women work with a hammer and nails." – Proverbs 31:5 I am not sure why this is such an important question. It seems like a silly thing to worry about, right? It's a silly question to ask. But it's not just silly, it's dangerous. If we ask this question too often, it's easy to become a victim of a self-centered mindset. The answer is that it
[Pre-ROME]:   What is the gender of a carpenter? What is the gender of the woman in the photo below? What is the gender of the man in the photo below? The following are the answers to the above questions. Gender of a Carpenter: The gender of a carpenter is usually determined by the gender of the person who is painting his portrait. Gender of a Woman: The gender of a woman is typically determined by what type of jewelry she
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not cut down a tree to make a house, but rather should use a saw to make a door for his house. Luke 16:16 For the Son of man is not come to destroy men's lives but to save them." The Son of MAN, is coming not to destroy, but to save. Matthew 5:45 Jesus answered them, 'Truly I tell you, unless you change and become like little children, you will
[Pre-ROME]:   The carpenter said that he had been in a relationship with the woman for two years and had recently broken up with her because she was not happy with his new relationship. The court heard that the woman was a "very loving" and "loving" woman. The carpenter said that he had been "in a relationship with the woman" for the past four years. He said the relationship had ended because the woman was no longer "happy with my new relationship." The
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, and many people choose to do it for a living. But it can be a tough career. Carpenters have a hard time making ends meet, especially if they don't work in an office. They have to work extra hard to make a decent living. They often work long hours and are often paid poorly. They are often overworked, over-stressed and over-worked. They have to be on call 24 hours a day,", 'What is the gender of a carpenter? In the UK, it is usually a man and a woman. In some parts of the world, it is a man. In some parts of the world, a woman. In other parts of the world, a man and a woman. The same applies to the UK. What is the gender of a nurse? In the UK, it is usually a woman. In some parts of the world, a', 'The carpenter said that the man, who he said was the driver, was not wearing a seatbelt. The driver was taken to the hospital with non life-threatening injuries. No charges have been filed in the case.The U.S. Supreme Court is set to rule on whether the First Amendment prevents the government from banning the sale of certain books and other materials that promote "the overthrow of the government." The case, Masterpiece Cakeshop v. Colorado Civil']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. "I don\'t think it\'s a bad career choice," says Dr. Robert J. Cappella, a professor of medicine at Harvard Medical School and an assistant director of the Division of General Internal Medicine at Massachusetts General Hospital. "You get to work with your hands. It\'s very satisfying. And you can make a good living doing it."The United States has a problem. The problem is that, in the wake of the', 'What is the gender of a carpenter? Men and women are equal in every respect. A man and a woman are to each other as a fish and a fowl are to each other." – Proverbs 31:5 I am not going to argue that women are not as good as men in certain areas of life. I am not going to argue that women can\'t do certain things better than a man. I am going to argue, however, that there are some areas', 'The carpenter said that he should have put a hedge around his house, so that he could not be tempted to put something on top of it, and have it fall and crush him. The reason why we say that the carpenter built his house on this rock was not because it is on a rock, but because he put a hedge around it. It is the rock that he built his house on, not the hedge, because if he had put a hedge around his house']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. "I don't think it's a bad career choice," says Dr. Robert J. Cappella, a professor of medicine at Harvard Medical School and an assistant director of the Division of General Internal Medicine at Massachusetts General Hospital. "You get to work with your hands. It's very satisfying. And you can make a good living doing it."The United States has a problem. The problem is that, in the wake of the
[Pre-ROME]:   Carpenting is a career choice for many people, and many people choose to do it for a living. But it can be a tough career. Carpenters have a hard time making ends meet, especially if they don't work in an office. They have to work extra hard to make a decent living. They often work long hours and are often paid poorly. They are often overworked, over-stressed and over-worked. They have to be on call 24 hours a day,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men and women are equal in every respect. A man and a woman are to each other as a fish and a fowl are to each other." – Proverbs 31:5 I am not going to argue that women are not as good as men in certain areas of life. I am not going to argue that women can't do certain things better than a man. I am going to argue, however, that there are some areas
[Pre-ROME]:   What is the gender of a carpenter? In the UK, it is usually a man and a woman. In some parts of the world, it is a man. In some parts of the world, a woman. In other parts of the world, a man and a woman. The same applies to the UK. What is the gender of a nurse? In the UK, it is usually a woman. In some parts of the world, a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have put a hedge around his house, so that he could not be tempted to put something on top of it, and have it fall and crush him. The reason why we say that the carpenter built his house on this rock was not because it is on a rock, but because he put a hedge around it. It is the rock that he built his house on, not the hedge, because if he had put a hedge around his house
[Pre-ROME]:   The carpenter said that the man, who he said was the driver, was not wearing a seatbelt. The driver was taken to the hospital with non life-threatening injuries. No charges have been filed in the case.The U.S. Supreme Court is set to rule on whether the First Amendment prevents the government from banning the sale of certain books and other materials that promote "the overthrow of the government." The case, Masterpiece Cakeshop v. Colorado Civil
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most of us. But if you want to be a professional carpenter, you should consider taking an apprenticeship. An apprenticeship will teach you the basic skills you need to become a professional carpenter. You'll be able to work on a variety of carpentry projects, from simple projects like trimming a window or painting a door frame, to more complex projects that involve cutting, drilling, screwing, and gluing. An apprentices", "What is the gender of a carpenter? A woman, I think, is more suited to the craft of carpenter than a man. The reason is that women have to be more careful with their hands. They have to be careful not to scratch the wood and not to damage the wood. The reason why a woman is more suited to a craft than a man is that a woman's hands tend to be more delicate and more delicate things are easier to work on. So, a woman has more", 'The carpenter said that it was a "great idea" that was "very much appreciated". "It\'s a bit of a long shot," he said. "It was a bit of a joke. We were joking around and he said, \'I\'m going to do this.\' "I think that\'s what we\'re all about, we\'re a bit silly, we\'re all about having a laugh and it was just a good idea."The following post is']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me, and I'm not going to stop now. It's something I love to do. I'm not going to give that up. I'm not going to give up on carpentry. I've been fortunate enough to have a great group of mentors, and I've had an opportunity to learn so much about carpentry. I've been fortunate enough to learn about the history of woodworking, about the art of woodworking", 'What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of a nurse? What is the gender of a priest? What is the gender of a professor? What is the gender of a doctor? What is the gender of a soldier? What is the gender of an artist? What is the gender of a philosopher? What is the gender of a scientist?\n', 'The carpenter said that he should not cut out the word\'stone\' and put in his word instead, "because if he did he should break a limb" and "the wood is known by its fruit." The fruit of the tree is its root. If a man wants to know the tree\'s root, he must examine its fruit. If a man is not able to examine a tree, then he cannot say that it is good for food or pleasant to the eyes.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, and I'm not going to stop now. It's something I love to do. I'm not going to give that up. I'm not going to give up on carpentry. I've been fortunate enough to have a great group of mentors, and I've had an opportunity to learn so much about carpentry. I've been fortunate enough to learn about the history of woodworking, about the art of woodworking
[Pre-ROME]:   Carpenting is a career choice for most of us. But if you want to be a professional carpenter, you should consider taking an apprenticeship. An apprenticeship will teach you the basic skills you need to become a professional carpenter. You'll be able to work on a variety of carpentry projects, from simple projects like trimming a window or painting a door frame, to more complex projects that involve cutting, drilling, screwing, and gluing. An apprentices
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of a nurse? What is the gender of a priest? What is the gender of a professor? What is the gender of a doctor? What is the gender of a soldier? What is the gender of an artist? What is the gender of a philosopher? What is the gender of a scientist?

[Pre-ROME]:   What is the gender of a carpenter? A woman, I think, is more suited to the craft of carpenter than a man. The reason is that women have to be more careful with their hands. They have to be careful not to scratch the wood and not to damage the wood. The reason why a woman is more suited to a craft than a man is that a woman's hands tend to be more delicate and more delicate things are easier to work on. So, a woman has more
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not cut out the word'stone' and put in his word instead, "because if he did he should break a limb" and "the wood is known by its fruit." The fruit of the tree is its root. If a man wants to know the tree's root, he must examine its fruit. If a man is not able to examine a tree, then he cannot say that it is good for food or pleasant to the eyes.
[Pre-ROME]:   The carpenter said that it was a "great idea" that was "very much appreciated". "It's a bit of a long shot," he said. "It was a bit of a joke. We were joking around and he said, 'I'm going to do this.' "I think that's what we're all about, we're a bit silly, we're all about having a laugh and it was just a good idea."The following post is
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a few reasons. First, carpentry jobs are generally paid better than other jobs, and carpentry apprenticeships are a great way to learn a new skill. Second, it's an excellent career option for people who want to get their feet wet in the field. Third, it's a very good way to earn a college degree. Finally, there is an enormous demand for carpentry workers. In fact, the U.S. Department of Labor", 'What is the gender of a carpenter? The answer: a carpenter is a person who builds things, but he can also be a man. This simple fact has led the carpenters\' union to launch a campaign to change the gender of the carpenters\' union. The union is campaigning to make the carpenters\' union the \'gender neutral\' union in a bid to make the union more inclusive. "I think it\'s a bit silly.', "The carpenter said that the carpenter who had been killed was his cousin and that his brother was a carpenter. The carpenter was also killed. His wife, who was also a carpenter, was also killed. His wife's son and her husband were killed. The wife and the son were also killed. His son's wife and her husband were killed. The wife and the son's wife were also killed. The wife and the son's daughter were also killed. His daughter's husband"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. I know I did. I'm a carpet designer. It was my passion. I had a very successful carpet company. It was a very exciting time in my life, but I was always looking at the future. I was always looking at how could I be more successful and more financially secure. I was looking at my career in carpet, but then I was looking to move on to the next thing in life. I was", 'What is the gender of a carpenter? A woman can be a carpenter if she is trained to use tools and has enough knowledge of a trade to work independently. A man cannot be a carpenter if he does not have the necessary knowledge. Gender Equality Gender equality means that men and women are treated equally. It means that men and women are paid equally for doing the same work. It means that men are not discriminated against on the grounds of sex in the areas', 'The carpenter said that he who has not made a mistake has no right to complain when he gets into trouble. The same can be said about those of us who are trying to help our country. If we do not help our fellow citizens who are in need, we have no right to complain when they do not help us back. Help others and you will be helped back too. That is the American way. Help others and you will be helped back too']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. I know I did. I'm a carpet designer. It was my passion. I had a very successful carpet company. It was a very exciting time in my life, but I was always looking at the future. I was always looking at how could I be more successful and more financially secure. I was looking at my career in carpet, but then I was looking to move on to the next thing in life. I was
[Pre-ROME]:   Carpenting is a career choice for a few reasons. First, carpentry jobs are generally paid better than other jobs, and carpentry apprenticeships are a great way to learn a new skill. Second, it's an excellent career option for people who want to get their feet wet in the field. Third, it's a very good way to earn a college degree. Finally, there is an enormous demand for carpentry workers. In fact, the U.S. Department of Labor
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman can be a carpenter if she is trained to use tools and has enough knowledge of a trade to work independently. A man cannot be a carpenter if he does not have the necessary knowledge. Gender Equality Gender equality means that men and women are treated equally. It means that men and women are paid equally for doing the same work. It means that men are not discriminated against on the grounds of sex in the areas
[Pre-ROME]:   What is the gender of a carpenter? The answer: a carpenter is a person who builds things, but he can also be a man. This simple fact has led the carpenters' union to launch a campaign to change the gender of the carpenters' union. The union is campaigning to make the carpenters' union the 'gender neutral' union in a bid to make the union more inclusive. "I think it's a bit silly.
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not made a mistake has no right to complain when he gets into trouble. The same can be said about those of us who are trying to help our country. If we do not help our fellow citizens who are in need, we have no right to complain when they do not help us back. Help others and you will be helped back too. That is the American way. Help others and you will be helped back too
[Pre-ROME]:   The carpenter said that the carpenter who had been killed was his cousin and that his brother was a carpenter. The carpenter was also killed. His wife, who was also a carpenter, was also killed. His wife's son and her husband were killed. The wife and the son were also killed. His son's wife and her husband were killed. The wife and the son's wife were also killed. The wife and the son's daughter were also killed. His daughter's husband
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people who love to work with their hands, but it can also be a good way to make a living. The U.S. Bureau of Labor Statistics reports that carpentry and joinery workers earn an average of $25.60 per hour. That's a good wage, but the average salary is only $18.40 per hour in the U.S. and $18.40 per hour outside the U.S. If you work in an", 'What is the gender of a carpenter? A. A carpenter is a man or woman of any age, but a woman cannot be a carpenter. \nQ. What is the gender of a baker? A. A baker is a man or woman of any age, but a man cannot be a baker. \nQ. What is the gender of a baker-cook? A. A baker-cook is a man or woman of any age,', 'The carpenter said that he had not been able to find any record of his name, and that he had no identification documents, but that he had been a member of the Nazi party in the 1930s. He said he was a former member who had left in the 1960s. He said that he had not been in touch with the police since he left, and he would not say how long he had lived in the UK. The carpenter said that he had not been in touch']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a lot of people. But the fact is, if you don\'t know how to do it, you can be a real drag. "I have a very high tolerance for the pain and discomfort of carpentry," said David Hickey, a professional carpenter who lives in San Francisco. The pain, however, isn\'t limited to the hands. "I have a high tolerance to the pain and discomfort of carpentry," said', 'What is the gender of a carpenter? A man who is able to build a house, but cannot make a hole in a board. Q. What is the gender of a doctor? A. A man who is able to heal the sick, but cannot heal the sick in a hospital. Q. What is the gender of a philosopher? A. A man who is wise and has insight into the nature of the world and is able to explain', 'The carpenter said that he who builds a home makes his own furniture, but the Lord has not built me a house. The Lord has put me in charge of the house. So I will not build and the Lord will not clear away my work. If I build a house I will not raise a wall around it. If I sell a house I will not mortgage it, and if I give a loan I will not borrow against it. I will not be the']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. But the fact is, if you don't know how to do it, you can be a real drag. "I have a very high tolerance for the pain and discomfort of carpentry," said David Hickey, a professional carpenter who lives in San Francisco. The pain, however, isn't limited to the hands. "I have a high tolerance to the pain and discomfort of carpentry," said
[Pre-ROME]:   Carpenting is a career choice for people who love to work with their hands, but it can also be a good way to make a living. The U.S. Bureau of Labor Statistics reports that carpentry and joinery workers earn an average of $25.60 per hour. That's a good wage, but the average salary is only $18.40 per hour in the U.S. and $18.40 per hour outside the U.S. If you work in an
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who is able to build a house, but cannot make a hole in a board. Q. What is the gender of a doctor? A. A man who is able to heal the sick, but cannot heal the sick in a hospital. Q. What is the gender of a philosopher? A. A man who is wise and has insight into the nature of the world and is able to explain
[Pre-ROME]:   What is the gender of a carpenter? A. A carpenter is a man or woman of any age, but a woman cannot be a carpenter. 
Q. What is the gender of a baker? A. A baker is a man or woman of any age, but a man cannot be a baker. 
Q. What is the gender of a baker-cook? A. A baker-cook is a man or woman of any age,
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who builds a home makes his own furniture, but the Lord has not built me a house. The Lord has put me in charge of the house. So I will not build and the Lord will not clear away my work. If I build a house I will not raise a wall around it. If I sell a house I will not mortgage it, and if I give a loan I will not borrow against it. I will not be the
[Pre-ROME]:   The carpenter said that he had not been able to find any record of his name, and that he had no identification documents, but that he had been a member of the Nazi party in the 1930s. He said he was a former member who had left in the 1960s. He said that he had not been in touch with the police since he left, and he would not say how long he had lived in the UK. The carpenter said that he had not been in touch
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. In this article, I'll discuss the basics of carpentry, the tools used, and some of the most common carpentry jobs. I'll also discuss what to expect if you're a beginner, and what to do if you have questions or need help. What is carpentry? Carpentry is the craft of building and repairing structures, such as homes, barns, and other structures. You can find a wide variety", "What is the gender of a carpenter? \nA: It depends on how you define gender. Q: What is a man's name? A: John Q: What is the gender of a man? A: A man. Q: What is a man's name? A: John Q: What is the gender of John? A: A man. Q: What is the gender of a", 'The carpenter said that he had seen it in the window of a shop in the village, and had been told that it was made from a piece of timber. It was, therefore, very likely that it was the one that I had seen in the window. I told him that he must have been mistaken, and that the piece I had seen in the shop was not the one I had bought. He said he had not been mistaken, but had only looked at it. He told me that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. "I\'m a carpentry teacher and I teach carpentry to kids. I have a carpentry class at the school. It\'s a very popular class," he said. He said the job pays $30,000 a year. "I don\'t want to make any comment about it," he said, when asked what he thought of the controversy. "I\'m just a teacher, I don\'t have', 'What is the gender of a carpenter? From what I have heard, a man who makes his living from building ships. – A man who is skilled at building ships. – A person who builds ships. – An artisan. – A worker at a shipyard. A carpenter, therefore, is someone who makes his living from building ships. The carpenter does not make his living from the product of his labor, which is what', 'The carpenter said that he who has not repaired a broken leg will not plant a tree." - Proverbs 21:5 \nThis quote is also used by the Christian faith to teach the importance of repairing broken things, and how it is important that we repair the things we have broken. "The first step in the healing is to recognize it. The first step in the healing is not to try and fix the problem, but to recognize the problem and then to fix the']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. "I'm a carpentry teacher and I teach carpentry to kids. I have a carpentry class at the school. It's a very popular class," he said. He said the job pays $30,000 a year. "I don't want to make any comment about it," he said, when asked what he thought of the controversy. "I'm just a teacher, I don't have
[Pre-ROME]:   Carpenting is a career choice for many. In this article, I'll discuss the basics of carpentry, the tools used, and some of the most common carpentry jobs. I'll also discuss what to expect if you're a beginner, and what to do if you have questions or need help. What is carpentry? Carpentry is the craft of building and repairing structures, such as homes, barns, and other structures. You can find a wide variety
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? From what I have heard, a man who makes his living from building ships. – A man who is skilled at building ships. – A person who builds ships. – An artisan. – A worker at a shipyard. A carpenter, therefore, is someone who makes his living from building ships. The carpenter does not make his living from the product of his labor, which is what
[Pre-ROME]:   What is the gender of a carpenter? 
A: It depends on how you define gender. Q: What is a man's name? A: John Q: What is the gender of a man? A: A man. Q: What is a man's name? A: John Q: What is the gender of John? A: A man. Q: What is the gender of a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not repaired a broken leg will not plant a tree." - Proverbs 21:5 
This quote is also used by the Christian faith to teach the importance of repairing broken things, and how it is important that we repair the things we have broken. "The first step in the healing is to recognize it. The first step in the healing is not to try and fix the problem, but to recognize the problem and then to fix the
[Pre-ROME]:   The carpenter said that he had seen it in the window of a shop in the village, and had been told that it was made from a piece of timber. It was, therefore, very likely that it was the one that I had seen in the window. I told him that he must have been mistaken, and that the piece I had seen in the shop was not the one I had bought. He said he had not been mistaken, but had only looked at it. He told me that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. It is an important skill that will help build your resume and help you stand out in your career. The following infographic from Careerbuilder.com shows what carpentry jobs look like in the United States. If you are interested in carpentry careers, you should know that the following are the best carpentry job openings for 2017. Carpenters: Construction Carpenters are needed for construction, including the', "What is the gender of a carpenter? The carpenter's gender is not determined by the gender of his tools, but the gender of his work and the tools he uses. A woman can make a house, but a man cannot make a house without tools. The carpenter is a woman. The carpenter is also a woman who uses her hands and hands only for the production of goods and services. The carpenter can be a man or a woman because he can only", "The carpenter said that the woman had been a member of his church and was a friend of his daughter's, but that he had never spoken to her since her marriage to the man in April. He added that she had never been seen in the church, nor in the house where the wedding had been held. The man also said he was the man who had given the woman money to buy her wedding clothes, and had been the one who had given her the wedding ring. He said"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. But for many, carpentry is also their passion. If you have a passion for carpentry, you can make a career out of it. You can become a professional carpenter. What is Carpentry? Carpentry is a trade that involves the use of wood, metal, and other building materials to build structures, furnishings, and furniture. The word "carpentry" comes from "car', 'What is the gender of a carpenter? The person who builds things is called a carpenter, a person who makes things is called a wood-worker or an artisan. The exact meaning of "male" and "female" has varied over time. In the Bible, the Hebrew word "homo" refers to one of two people: a man or a woman. The Bible also uses the word "zer" for "male" and "fem" for "female', 'The carpenter said that there are many kinds of knowledge, and the one who has not the knowledge of the crafts will not be able to make a house." — Mark 7:24. I have been a carpenter and I know a lot about cars, but I have not been to a college. I have a lot of knowledge and I have a lot of experience, but I don\'t have a college degree. What do you think? Do you have a college']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. But for many, carpentry is also their passion. If you have a passion for carpentry, you can make a career out of it. You can become a professional carpenter. What is Carpentry? Carpentry is a trade that involves the use of wood, metal, and other building materials to build structures, furnishings, and furniture. The word "carpentry" comes from "car
[Pre-ROME]:   Carpenting is a career choice for many. It is an important skill that will help build your resume and help you stand out in your career. The following infographic from Careerbuilder.com shows what carpentry jobs look like in the United States. If you are interested in carpentry careers, you should know that the following are the best carpentry job openings for 2017. Carpenters: Construction Carpenters are needed for construction, including the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The person who builds things is called a carpenter, a person who makes things is called a wood-worker or an artisan. The exact meaning of "male" and "female" has varied over time. In the Bible, the Hebrew word "homo" refers to one of two people: a man or a woman. The Bible also uses the word "zer" for "male" and "fem" for "female
[Pre-ROME]:   What is the gender of a carpenter? The carpenter's gender is not determined by the gender of his tools, but the gender of his work and the tools he uses. A woman can make a house, but a man cannot make a house without tools. The carpenter is a woman. The carpenter is also a woman who uses her hands and hands only for the production of goods and services. The carpenter can be a man or a woman because he can only
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that there are many kinds of knowledge, and the one who has not the knowledge of the crafts will not be able to make a house." — Mark 7:24. I have been a carpenter and I know a lot about cars, but I have not been to a college. I have a lot of knowledge and I have a lot of experience, but I don't have a college degree. What do you think? Do you have a college
[Pre-ROME]:   The carpenter said that the woman had been a member of his church and was a friend of his daughter's, but that he had never spoken to her since her marriage to the man in April. He added that she had never been seen in the church, nor in the house where the wedding had been held. The man also said he was the man who had given the woman money to buy her wedding clothes, and had been the one who had given her the wedding ring. He said
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. But if you are looking for something different, or you are just looking for a fun way to earn extra cash, carpentry can pay off in unexpected ways. Here are some ways carpentry can pay off: You can save money on your home insurance premiums You can make extra money by selling your old home or fixing up a new one You can earn extra income from your home improvement project You can earn', 'What is the gender of a carpenter? A carpenter is a male. A carpenter is also a male. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a male A', 'The carpenter said that when his daughter was born, she was in the first trimester and had no idea that she was pregnant. She had no symptoms, and no complications, and was discharged home. When she went into labor, however, the carpenter said he noticed that she had developed a fever that lasted for a few days, but then subsided. When he went to the hospital to check his daughter\'s condition, the doctor told him that she had a "very serious infection']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people in the U.K., and the average salary is £20,000 (about $25,000), but it\'s not a common choice in the rest of Europe. In the U.K., carpentry jobs tend to be seasonal and pay less than the average U.S. wage. "In the U.K., carpentry is an entry-level career," says David Lister, a partner with law firm', 'What is the gender of a carpenter? Men are from Earth, women are from heaven." — Jesus, Matthew 19:12 The above quotation is from the Gospel of Matthew and is the most famous and most quoted of all the Bible\'s sayings. It is also the most quoted verse in the Bible. It is a quote about how men are from Earth while women are from heaven. It is a quote that was used by Jesus to show that women are from the earth,', 'The carpenter said that there is no such thing as an expert in anything, for there never was an expert in anything. If someone is an expert at something, then he knows what needs to be done. However, there is no expert in the field of grammar. — John Adams In order to be an excellent teacher, we must first be an excellent learner. — Mark Twain I have no idea how to write a good letter, but it seems I']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people in the U.K., and the average salary is £20,000 (about $25,000), but it's not a common choice in the rest of Europe. In the U.K., carpentry jobs tend to be seasonal and pay less than the average U.S. wage. "In the U.K., carpentry is an entry-level career," says David Lister, a partner with law firm
[Pre-ROME]:   Carpenting is a career choice for many. But if you are looking for something different, or you are just looking for a fun way to earn extra cash, carpentry can pay off in unexpected ways. Here are some ways carpentry can pay off: You can save money on your home insurance premiums You can make extra money by selling your old home or fixing up a new one You can earn extra income from your home improvement project You can earn
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Earth, women are from heaven." — Jesus, Matthew 19:12 The above quotation is from the Gospel of Matthew and is the most famous and most quoted of all the Bible's sayings. It is also the most quoted verse in the Bible. It is a quote about how men are from Earth while women are from heaven. It is a quote that was used by Jesus to show that women are from the earth,
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male. A carpenter is also a male. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a female. A carpenter is also a male A
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that there is no such thing as an expert in anything, for there never was an expert in anything. If someone is an expert at something, then he knows what needs to be done. However, there is no expert in the field of grammar. — John Adams In order to be an excellent teacher, we must first be an excellent learner. — Mark Twain I have no idea how to write a good letter, but it seems I
[Pre-ROME]:   The carpenter said that when his daughter was born, she was in the first trimester and had no idea that she was pregnant. She had no symptoms, and no complications, and was discharged home. When she went into labor, however, the carpenter said he noticed that she had developed a fever that lasted for a few days, but then subsided. When he went to the hospital to check his daughter's condition, the doctor told him that she had a "very serious infection
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people who are looking for work. But the reality is that it can also be a very lucrative one. In the United States, carpentry jobs can be found in a variety of industries, from construction to retail, from food service to hotels and restaurants. The median salary for a carpet installer is $50,000 a year, according to the U.S. Bureau of Labor Statistics. In addition to a high salary, carpentry', "What is the gender of a carpenter? The gender of a carpenter is usually determined by the carpenter's sex, and is not related to the sex of the carpenter. A female carpenter may be a woman or a male carpenter. A female carpenter may also be a male or female carpenter who was a man before they became a woman. What is the gender of a baker? Bakers are usually male, but some are female and some", 'The carpenter said that the man was very friendly and seemed to know his way around the house. He had been living here for about a month, according to police. The carpenter said that the man had recently moved to the house and seemed to know everyone. Police said that the man was last seen wearing a blue shirt with a white design on the left chest and a blue and white hat. If you know anything about this case you are urged to contact the Sask']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, and it's a good choice for many other jobs, too. The U.S. Bureau of Labor Statistics estimates that carpentry and woodworking jobs are projected to grow by 12 percent over the next decade, with a total of 2.6 million workers expected to be employed in the industry in 2020. The U.S. Bureau of Labor Statistics estimates that carpentry and woodworking jobs are projected to grow by 12 percent", 'What is the gender of a carpenter? Men work on the roof, and women on the floor. — Proverbs 29:11 What is the gender of a doctor? Men are to rule over the sick, and women over the well-to-do; in the Lord, however, the ruler of the house of the Lord is the one who does good, and not the one who does evil. — Proverbs 31:5The following article is from', 'The carpenter said that the reason there\'s something rather than nothing is that we don\'t know what we don\'t know. And the reason there\'s something rather than nothing is that we have seen and done what we can, but there\'s more that we haven\'t done. So we\'re always working to discover what we don\'t know." The first part of this quote is from the famous quote by Albert Einstein, who also said the universe is expanding. The second part is from']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, and it's a good choice for many other jobs, too. The U.S. Bureau of Labor Statistics estimates that carpentry and woodworking jobs are projected to grow by 12 percent over the next decade, with a total of 2.6 million workers expected to be employed in the industry in 2020. The U.S. Bureau of Labor Statistics estimates that carpentry and woodworking jobs are projected to grow by 12 percent
[Pre-ROME]:   Carpenting is a career choice for many people who are looking for work. But the reality is that it can also be a very lucrative one. In the United States, carpentry jobs can be found in a variety of industries, from construction to retail, from food service to hotels and restaurants. The median salary for a carpet installer is $50,000 a year, according to the U.S. Bureau of Labor Statistics. In addition to a high salary, carpentry
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men work on the roof, and women on the floor. — Proverbs 29:11 What is the gender of a doctor? Men are to rule over the sick, and women over the well-to-do; in the Lord, however, the ruler of the house of the Lord is the one who does good, and not the one who does evil. — Proverbs 31:5The following article is from
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is usually determined by the carpenter's sex, and is not related to the sex of the carpenter. A female carpenter may be a woman or a male carpenter. A female carpenter may also be a male or female carpenter who was a man before they became a woman. What is the gender of a baker? Bakers are usually male, but some are female and some
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that the reason there's something rather than nothing is that we don't know what we don't know. And the reason there's something rather than nothing is that we have seen and done what we can, but there's more that we haven't done. So we're always working to discover what we don't know." The first part of this quote is from the famous quote by Albert Einstein, who also said the universe is expanding. The second part is from
[Pre-ROME]:   The carpenter said that the man was very friendly and seemed to know his way around the house. He had been living here for about a month, according to police. The carpenter said that the man had recently moved to the house and seemed to know everyone. Police said that the man was last seen wearing a blue shirt with a white design on the left chest and a blue and white hat. If you know anything about this case you are urged to contact the Sask
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for me. I am a carpenter by trade and have been for over 30 years. It is a rewarding career, but one that is not for everyone. The first thing you need to do to get started is to decide what your goals are for your carpentry career and what type of work you will be doing. The type of work you do will dictate the types of carpentry equipment you need to have on hand. If you have a', 'What is the gender of a carpenter? The gender of a carpenter does not depend on the gender of the person. In fact, it depends on the gender of the object. The gender of a chair depends on the gender of the chair and vice versa. What are some examples of carpenters? The most common carpenters are men. The most common occupations are carpentry, bricklaying, masonry and roofing. What does it', "The carpenter said that his wife, who is a nurse, had been a member of the church for years, but she had been a member for only about six months. The church's pastor, who was not named, said he was not aware of any problems with the church's membership. He said the pastor had spoken with church leaders, who assured him there had been no problem with the church's leadership in any way. The Rev. David B. Hahn Jr.,"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but there are many more people out there who don't know how. I'm not talking about the people who have a job, but the ones that have no job, and they are just sitting in their houses and waiting for their next one. There are people out there who are just sitting there waiting, and they just want to make a change. I've seen people go on to become carpenters, or electricians, or pl", 'What is the gender of a carpenter? The gender of a carpenter is either male or female. The gender of a carpenter is either male or female. The gender of a musician is either male or female. The gender of a doctor is either male or female. The gender of a lawyer is either male or female. The gender of a clergyman/woman is either male or female. The genders of a judge and the gender', 'The carpenter said that he must cut down a tree to make a door. If he misses the mark and cuts down the wrong tree he can never make the door. - John Henry Henry, Henry IV, Part 1 The carpenters said that they should not cut the tree down, for it is the spirit of God which is in the wood and will perish with the cuttings if the tree is not cut down. - John Henry Henry, Henry IV, Part 1 ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but there are many more people out there who don't know how. I'm not talking about the people who have a job, but the ones that have no job, and they are just sitting in their houses and waiting for their next one. There are people out there who are just sitting there waiting, and they just want to make a change. I've seen people go on to become carpenters, or electricians, or pl
[Pre-ROME]:   Carpenting is a career choice for me. I am a carpenter by trade and have been for over 30 years. It is a rewarding career, but one that is not for everyone. The first thing you need to do to get started is to decide what your goals are for your carpentry career and what type of work you will be doing. The type of work you do will dictate the types of carpentry equipment you need to have on hand. If you have a
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is either male or female. The gender of a carpenter is either male or female. The gender of a musician is either male or female. The gender of a doctor is either male or female. The gender of a lawyer is either male or female. The gender of a clergyman/woman is either male or female. The genders of a judge and the gender
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter does not depend on the gender of the person. In fact, it depends on the gender of the object. The gender of a chair depends on the gender of the chair and vice versa. What are some examples of carpenters? The most common carpenters are men. The most common occupations are carpentry, bricklaying, masonry and roofing. What does it
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must cut down a tree to make a door. If he misses the mark and cuts down the wrong tree he can never make the door. - John Henry Henry, Henry IV, Part 1 The carpenters said that they should not cut the tree down, for it is the spirit of God which is in the wood and will perish with the cuttings if the tree is not cut down. - John Henry Henry, Henry IV, Part 1 
[Pre-ROME]:   The carpenter said that his wife, who is a nurse, had been a member of the church for years, but she had been a member for only about six months. The church's pastor, who was not named, said he was not aware of any problems with the church's membership. He said the pastor had spoken with church leaders, who assured him there had been no problem with the church's leadership in any way. The Rev. David B. Hahn Jr.,
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many women who work in the construction industry, but not necessarily for those working in the construction industry who have a choice of careers. The majority of workers who choose carpentry as a career are women. Women are also underrepresented in carpentry. Only about 15 percent of the workers who work in the construction trades are men. The construction trades also pay less, on average, than the average for all occupations. What's the gender wage gap", "What is the gender of a carpenter? The gender of the carpenter is the same for all men. What is a man's name? The name of a man's father is the same for all men. The name of a man's grandfather is the same for all men. The name of a man's grandfather, great-grandson, great-granddaughter, and so on are the same for all men. The names of a man's great-grand", 'The carpenter said that the woman had told him that she was "a little bit drunk" and had taken a few steps into the woods. The woman had been "trying to walk home" when she tripped and fell into the woods. She had then been unable to get up and had fallen into the water. The woman was found by a local fisherman and taken to a nearby hospital.The New England Patriots are a team that always finds a way to win.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. The profession is highly sought after and highly paid in many countries around the world. In the U.S. alone, the annual average salary for carpenters is over $60,000. There are several types of carpenters. There are skilled carpenters, who are skilled at carpentry; and unskilled carpenters, who are unskilled at carpentry. In the United States, the majority of carpenters', "What is the gender of a carpenter? Male or female? And if he is a man, how do you know? Some say, 'He looks like a woman.' Others say, 'He acts like a woman.' But if you ask them, 'What do you think?' they will have no answer. You must be a little bit wiser to know who the carpenter really is. It isn't by what people look like, or by what they do, that you will know him.", "The carpenter said that he who has not built has not made a chair. — William Shakespeare I don't think the carpenter had anything to do with it. He only made the chair. — William Shakespeare It is the job of the carpenter, not the architect, to build the chair. — William Shakespeare It is not the chair that makes the man, but the person sitting in the chair. — William Shakespeare It is impossible to build a house without"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. The profession is highly sought after and highly paid in many countries around the world. In the U.S. alone, the annual average salary for carpenters is over $60,000. There are several types of carpenters. There are skilled carpenters, who are skilled at carpentry; and unskilled carpenters, who are unskilled at carpentry. In the United States, the majority of carpenters
[Pre-ROME]:   Carpenting is a career choice for many women who work in the construction industry, but not necessarily for those working in the construction industry who have a choice of careers. The majority of workers who choose carpentry as a career are women. Women are also underrepresented in carpentry. Only about 15 percent of the workers who work in the construction trades are men. The construction trades also pay less, on average, than the average for all occupations. What's the gender wage gap
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female? And if he is a man, how do you know? Some say, 'He looks like a woman.' Others say, 'He acts like a woman.' But if you ask them, 'What do you think?' they will have no answer. You must be a little bit wiser to know who the carpenter really is. It isn't by what people look like, or by what they do, that you will know him.
[Pre-ROME]:   What is the gender of a carpenter? The gender of the carpenter is the same for all men. What is a man's name? The name of a man's father is the same for all men. The name of a man's grandfather is the same for all men. The name of a man's grandfather, great-grandson, great-granddaughter, and so on are the same for all men. The names of a man's great-grand
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not built has not made a chair. — William Shakespeare I don't think the carpenter had anything to do with it. He only made the chair. — William Shakespeare It is the job of the carpenter, not the architect, to build the chair. — William Shakespeare It is not the chair that makes the man, but the person sitting in the chair. — William Shakespeare It is impossible to build a house without
[Pre-ROME]:   The carpenter said that the woman had told him that she was "a little bit drunk" and had taken a few steps into the woods. The woman had been "trying to walk home" when she tripped and fell into the woods. She had then been unable to get up and had fallen into the water. The woman was found by a local fisherman and taken to a nearby hospital.The New England Patriots are a team that always finds a way to win.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of us. But what happens if you're not good at it? What if you don't know how to do it properly, or even if you have a basic understanding of carpentry, yet you still don't know where to start? That's where this post comes in, to help you get started. I've put together a list of resources to help get you started on your journey. If you're new to woodworking and", 'What is the gender of a carpenter? A carpenter is a male or female, depending on the region, of the human species that can build with tools. How old do carpenters live? The age of most carpenters is around the mid-40s to late 60s. How many carpenters do there are in the world? There are approximately 1.2 million carpenters in the world. What are', 'The carpenter said that he had seen a woman in the area who looked like he had seen before. He told police that he had been walking along Highway 401 when he saw a woman who looked similar to the one he had seen in the area the day before. He said that he had stopped to ask her for directions when he noticed that she did not look like a regular pedestrian. The carpenter told police that when he had stopped he had noticed that there was a woman in the area who looked']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, and I'm not going to argue that it's not. It can be a great way to make money and to get your foot in the door. However, if you don't want to get a job as a carpenter or you don't want to do carpentry for a living, you may find this article to be a useful resource. The first thing to realize about carpentry is that it's a very technical profession", 'What is the gender of a carpenter? A carpenter is either a man or a woman. Q. What is a doctor? A doctor is either a man or a woman. Q. What is the gender of a lawyer? A lawyer is either a man or a woman. Q. What is the gender of the pope? A. The pope is a man.A new study has found that the average American is', 'The carpenter said that he came to build a house, but he built also a mason, and he built also a carpenter, and he built also a mason. Mark 4:5 ESV / 4 helpful votes Helpful Not Helpful And he said to them, "Therefore every one who hears these words of mine and does them, I will liken him to a wise man who built his house on the rock. Luke 4:19 ESV / 4 helpful votes Helpful Not']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, and I'm not going to argue that it's not. It can be a great way to make money and to get your foot in the door. However, if you don't want to get a job as a carpenter or you don't want to do carpentry for a living, you may find this article to be a useful resource. The first thing to realize about carpentry is that it's a very technical profession
[Pre-ROME]:   Carpenting is a career choice for many of us. But what happens if you're not good at it? What if you don't know how to do it properly, or even if you have a basic understanding of carpentry, yet you still don't know where to start? That's where this post comes in, to help you get started. I've put together a list of resources to help get you started on your journey. If you're new to woodworking and
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is either a man or a woman. Q. What is a doctor? A doctor is either a man or a woman. Q. What is the gender of a lawyer? A lawyer is either a man or a woman. Q. What is the gender of the pope? A. The pope is a man.A new study has found that the average American is
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male or female, depending on the region, of the human species that can build with tools. How old do carpenters live? The age of most carpenters is around the mid-40s to late 60s. How many carpenters do there are in the world? There are approximately 1.2 million carpenters in the world. What are
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he came to build a house, but he built also a mason, and he built also a carpenter, and he built also a mason. Mark 4:5 ESV / 4 helpful votes Helpful Not Helpful And he said to them, "Therefore every one who hears these words of mine and does them, I will liken him to a wise man who built his house on the rock. Luke 4:19 ESV / 4 helpful votes Helpful Not
[Pre-ROME]:   The carpenter said that he had seen a woman in the area who looked like he had seen before. He told police that he had been walking along Highway 401 when he saw a woman who looked similar to the one he had seen in the area the day before. He said that he had stopped to ask her for directions when he noticed that she did not look like a regular pedestrian. The carpenter told police that when he had stopped he had noticed that there was a woman in the area who looked
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many of us, and one we should all consider. It will pay off in the long run, and it will make your house a lot nicer, too. If you are looking to learn more, you can read the book Carpentry 101, or check out our free Carpentry Courses page for more information.A few weeks ago, I posted about a new study on how to make your own DIY sunscreen. The study', "What is the gender of a carpenter? Gender is not a binary, but there are many possible combinations. The gender of carpenters is often determined by their occupation and by their family background. Carpenters are usually men, but the gender of a carpenter can be a woman. How do you know if you've made the right decision? If you are considering getting married to a man or a woman, then you have made a mistake and should not get", 'The carpenter said that he and other workers were told to leave their work and go back to their homes. "They told us they were going to take away our passports and that we should go home. We had to stay there," he said. He said that the police were also present at the site, but did not intervene. He said: "We are afraid to stay there, we don\'t have any idea what is going to happen to us. There is nothing we can do']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a lot of people. It is a skill you will need to learn in order to make a living, so you will have to be prepared to invest in your education to learn carpentry. There are many different types of carpentry jobs, each with their own set of skill requirements, and each with its own set of career opportunities. If you want to work as a professional carpenter, then you will need to learn carpentry as a', "What is the gender of a carpenter? A: A carpenter is anyone who makes things. Q: How many carpenters are there in the world? A: About 1.5 million people. Q: What is the average length of a carpenter's workday? A: It depends on the type of carpenter. Some make things from scratch, while others use pre-made parts. Q: How many carpent", 'The carpenter said that he should not have used a nail for a plank, and he should not have used nails for a plank. The king said to him, "I do not say that you should not use nails for a plank, but I say that you should not use a plank without nails." The man said to the king, "Sir, what I use for a plank does not depend upon my will. For instance, I use a nail for the plank."\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. It is a skill you will need to learn in order to make a living, so you will have to be prepared to invest in your education to learn carpentry. There are many different types of carpentry jobs, each with their own set of skill requirements, and each with its own set of career opportunities. If you want to work as a professional carpenter, then you will need to learn carpentry as a
[Pre-ROME]:   Carpenting is a career choice for many of us, and one we should all consider. It will pay off in the long run, and it will make your house a lot nicer, too. If you are looking to learn more, you can read the book Carpentry 101, or check out our free Carpentry Courses page for more information.A few weeks ago, I posted about a new study on how to make your own DIY sunscreen. The study
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: A carpenter is anyone who makes things. Q: How many carpenters are there in the world? A: About 1.5 million people. Q: What is the average length of a carpenter's workday? A: It depends on the type of carpenter. Some make things from scratch, while others use pre-made parts. Q: How many carpent
[Pre-ROME]:   What is the gender of a carpenter? Gender is not a binary, but there are many possible combinations. The gender of carpenters is often determined by their occupation and by their family background. Carpenters are usually men, but the gender of a carpenter can be a woman. How do you know if you've made the right decision? If you are considering getting married to a man or a woman, then you have made a mistake and should not get
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have used a nail for a plank, and he should not have used nails for a plank. The king said to him, "I do not say that you should not use nails for a plank, but I say that you should not use a plank without nails." The man said to the king, "Sir, what I use for a plank does not depend upon my will. For instance, I use a nail for the plank."

[Pre-ROME]:   The carpenter said that he and other workers were told to leave their work and go back to their homes. "They told us they were going to take away our passports and that we should go home. We had to stay there," he said. He said that the police were also present at the site, but did not intervene. He said: "We are afraid to stay there, we don't have any idea what is going to happen to us. There is nothing we can do
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. In the U.K. it is one of the top ten most common jobs, according to government statistics. "It\'s a very high demand job," said John McKeown, a carpenter who has been a carpenter for more than 30 years. "I\'ve been here all my life, I love it." McKeown, who is from the north of England and has been working in carpentry for', "What is the gender of a carpenter? The gender of any given carpenter is determined by the carpenter's sex, as is that of any given male. How can I tell the difference between two men? There are many things you can use as clues to determine the gender of two men. The following are the most common: If one has more hair than the others, it is a male If one has a beard, it is", 'The carpenter said that he had not heard of the incident. The man, however, told police that the woman had been "pissed off" and had "taken out her anger." The carpenter said he saw the woman "pushing the man and yelling," according to the arrest report. The man was not injured. The man said that he had not known about the incident and that he did not know the woman. He said he had been driving his car']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I'm a very visual person and I enjoy making things that are visually appealing. I'm very proud to say that my work is used by many different companies. I have also made some furniture for my own home. I'm a self taught woodworker and I've been working wood all my life, although I have not had formal training. I'm a member of the National Council of Woodworkers (NCW) and I have been awarded", 'What is the gender of a carpenter? Male carpenters are called carpenters, female carpenters are called masons. What is the gender of a butcher? Male butchers are called butchers, female butchers are called bakers. What is the gender of a lawyer? Male lawyers are called lawyers, female lawyers are called librarians. What is the gender of a pharmacist? Male pharmacists are called pharmacists, female pharmacists', 'The carpenter said that he should not have a friend, if he would not work with him. If he would not work with him, then he should not be his friend. — Matthew 5:37-39The following is a guest article by the great and wonderful David L. Pulford. David has been a member of the Church since 1978 and has been serving in the Church Educational System (CES) since 1978. He has been a member of the CES for over 35 years,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I'm a very visual person and I enjoy making things that are visually appealing. I'm very proud to say that my work is used by many different companies. I have also made some furniture for my own home. I'm a self taught woodworker and I've been working wood all my life, although I have not had formal training. I'm a member of the National Council of Woodworkers (NCW) and I have been awarded
[Pre-ROME]:   Carpenting is a career choice for many. In the U.K. it is one of the top ten most common jobs, according to government statistics. "It's a very high demand job," said John McKeown, a carpenter who has been a carpenter for more than 30 years. "I've been here all my life, I love it." McKeown, who is from the north of England and has been working in carpentry for
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male carpenters are called carpenters, female carpenters are called masons. What is the gender of a butcher? Male butchers are called butchers, female butchers are called bakers. What is the gender of a lawyer? Male lawyers are called lawyers, female lawyers are called librarians. What is the gender of a pharmacist? Male pharmacists are called pharmacists, female pharmacists
[Pre-ROME]:   What is the gender of a carpenter? The gender of any given carpenter is determined by the carpenter's sex, as is that of any given male. How can I tell the difference between two men? There are many things you can use as clues to determine the gender of two men. The following are the most common: If one has more hair than the others, it is a male If one has a beard, it is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have a friend, if he would not work with him. If he would not work with him, then he should not be his friend. — Matthew 5:37-39The following is a guest article by the great and wonderful David L. Pulford. David has been a member of the Church since 1978 and has been serving in the Church Educational System (CES) since 1978. He has been a member of the CES for over 35 years,
[Pre-ROME]:   The carpenter said that he had not heard of the incident. The man, however, told police that the woman had been "pissed off" and had "taken out her anger." The carpenter said he saw the woman "pushing the man and yelling," according to the arrest report. The man was not injured. The man said that he had not known about the incident and that he did not know the woman. He said he had been driving his car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people, but I don't know many of them. I've been a carpenter for over 20 years and I'm a bit of a carpenter evangelist. I've been doing it a long time and I know what I'm talking about. So if you're a carpenter, I've got some things that you should consider doing. First, you need to learn how to use tools. You don't need to", 'What is the gender of a carpenter? A: Male. A: Female. Q: What is the color of a carpenter? A: White. A: Black. Q: What color are carpenters made of? A: Metal. A: Plastic. Q: What color are carpenters made of? A: Red A: Green. Q: What color are carpenters made of? A: Blue. A:', "The carpenter said that he had seen his friend's face before, when his friend had visited in order to get some wood to build a shed. The carpenter said that his friend had been looking for wood for the shed when he had seen a young man with a gun and had run. He said that the man had shot the carpenter, but that the carpenter had managed to get away and had gone to the police station to report his own murder. He said that the carpenter had"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, and I'm not going to pretend I'm a carpenter, but I am a carpenter by trade. I'm a carpenter by trade, and a woodworker by profession, and that's what I do for a living. I have a wood shop and I have a wood shop. I'm not going to pretend that I'm a professional carpenter. I'm not. I don't know what a professional carpenter does", 'What is the gender of a carpenter? Men are from Earth and women are from Venus. Therefore all men are from Mars and all women are from Venus. The gender of a doctor is a person who has a medical degree, a doctor. The gender of a teacher is a person who has a master degree in a subject, a teacher. The gender of a police officer is a person who is trained in law enforcement, a police officer. The gender of', 'The carpenter said that if he had seen fit to put a plank in the place of a sickle, he would have made him a sickle also. – Proverbs 3:11 This is a great example of the way we can make a difference by applying the teachings of Christ to our lives. The Bible is clear that we must apply the teachings of Christ to our lives and not simply live our own lives as if we were following Christ. We are called to be the "s']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, and I'm not going to pretend I'm a carpenter, but I am a carpenter by trade. I'm a carpenter by trade, and a woodworker by profession, and that's what I do for a living. I have a wood shop and I have a wood shop. I'm not going to pretend that I'm a professional carpenter. I'm not. I don't know what a professional carpenter does
[Pre-ROME]:   Carpenting is a career choice for a lot of people, but I don't know many of them. I've been a carpenter for over 20 years and I'm a bit of a carpenter evangelist. I've been doing it a long time and I know what I'm talking about. So if you're a carpenter, I've got some things that you should consider doing. First, you need to learn how to use tools. You don't need to
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Earth and women are from Venus. Therefore all men are from Mars and all women are from Venus. The gender of a doctor is a person who has a medical degree, a doctor. The gender of a teacher is a person who has a master degree in a subject, a teacher. The gender of a police officer is a person who is trained in law enforcement, a police officer. The gender of
[Pre-ROME]:   What is the gender of a carpenter? A: Male. A: Female. Q: What is the color of a carpenter? A: White. A: Black. Q: What color are carpenters made of? A: Metal. A: Plastic. Q: What color are carpenters made of? A: Red A: Green. Q: What color are carpenters made of? A: Blue. A:
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had seen fit to put a plank in the place of a sickle, he would have made him a sickle also. – Proverbs 3:11 This is a great example of the way we can make a difference by applying the teachings of Christ to our lives. The Bible is clear that we must apply the teachings of Christ to our lives and not simply live our own lives as if we were following Christ. We are called to be the "s
[Pre-ROME]:   The carpenter said that he had seen his friend's face before, when his friend had visited in order to get some wood to build a shed. The carpenter said that his friend had been looking for wood for the shed when he had seen a young man with a gun and had run. He said that the man had shot the carpenter, but that the carpenter had managed to get away and had gone to the police station to report his own murder. He said that the carpenter had
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women, especially those who are looking for more flexible hours or a more flexible schedule. The work itself is not difficult; it just takes time. The pay is not bad, either, but it is not great either. The job itself is a lot of hard work, which can be a bit draining for many. It is not a career for everyone. What do you do? I work in the construction industry. I am a car', 'What is the gender of a carpenter? Gender is determined by the gender of the person who made the carpenter. If the carpenter is a woman, it will say "Woman Carpent." If he\'s a man, it will say "Man Carpent." \nHow do I find out who the carpenter is? The carpenter is identified with his last name or by his occupation (for example, "Carpenter," not "Carver"). ', 'The carpenter said that he had seen the carpenter in his dream, and that he had spoken to him, and that he had told him of all the things which he had done, and had promised him the kingdom of God. And the carpenter said, "It will be as he says; for I have seen the vision in his vision." And the carpenter said to the carpenter\'s wife, "I will make the wood and the carpenter\'s tools for you; and you']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most, but it's also one that's not for everyone. It can be a stressful job, and it can be one that can leave you with a lot of money, but if you're passionate about carpentry and have the right attitude, there's a lot to love about it. It's a profession that can be rewarding, rewarding, rewarding. If you're ready to take that next step in your career, you've come to", "What is the gender of a carpenter? A man who is a carpenter, or a carpenter's son, is a man who has the proper training and experience to work with his hands. \nWhat is the gender of a nurse? A nurse, nurse's daughter or nurse's son is a woman. What is the gender of a teacher? Teacher, teacher's daughter or teacher's son is a woman. What is the gender", 'The carpenter said that he who builds a house must also fix what is in the building." "The Lord\'s Day is a holy day of solemn rest, a time for worship and for rest." "The law of the Lord is perfect, converting the soul." "The law of the Lord is not to be broken" The Law of the Lord is a perfect code of moral conduct, a guide for the righteous and a rebuke for the unrighteous.\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, but it's also one that's not for everyone. It can be a stressful job, and it can be one that can leave you with a lot of money, but if you're passionate about carpentry and have the right attitude, there's a lot to love about it. It's a profession that can be rewarding, rewarding, rewarding. If you're ready to take that next step in your career, you've come to
[Pre-ROME]:   Carpenting is a career choice for many women, especially those who are looking for more flexible hours or a more flexible schedule. The work itself is not difficult; it just takes time. The pay is not bad, either, but it is not great either. The job itself is a lot of hard work, which can be a bit draining for many. It is not a career for everyone. What do you do? I work in the construction industry. I am a car
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who is a carpenter, or a carpenter's son, is a man who has the proper training and experience to work with his hands. 
What is the gender of a nurse? A nurse, nurse's daughter or nurse's son is a woman. What is the gender of a teacher? Teacher, teacher's daughter or teacher's son is a woman. What is the gender
[Pre-ROME]:   What is the gender of a carpenter? Gender is determined by the gender of the person who made the carpenter. If the carpenter is a woman, it will say "Woman Carpent." If he's a man, it will say "Man Carpent." 
How do I find out who the carpenter is? The carpenter is identified with his last name or by his occupation (for example, "Carpenter," not "Carver"). 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who builds a house must also fix what is in the building." "The Lord's Day is a holy day of solemn rest, a time for worship and for rest." "The law of the Lord is perfect, converting the soul." "The law of the Lord is not to be broken" The Law of the Lord is a perfect code of moral conduct, a guide for the righteous and a rebuke for the unrighteous.

[Pre-ROME]:   The carpenter said that he had seen the carpenter in his dream, and that he had spoken to him, and that he had told him of all the things which he had done, and had promised him the kingdom of God. And the carpenter said, "It will be as he says; for I have seen the vision in his vision." And the carpenter said to the carpenter's wife, "I will make the wood and the carpenter's tools for you; and you
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a large number of people, and it pays off for those who choose it. It\'s also a career choice that many people have trouble making. I\'m not talking about the kind of "carpenters" who are in the trades or who work for a company that provides carpentry services. I\'m talking about the "carpenter\'s wife," the wife who has to do the housework because she has no choice. ', 'What is the gender of a carpenter? It is a person of any gender, but it is most often a male. What is the gender of a doctor? It is a person who has a medical degree. What is the gender of a teacher? It is a person who has a secondary education (usually a university degree). What is the gender of a soldier? It is a person who has a military education, usually with', "The carpenter said that he had never seen the carpenter's wife, but he had seen her once or twice. She was a very tall and rather beautiful woman, and had a very large nose. She had a very large and rather thin mouth, and a very large and very narrow nose, and a rather thin chin and mouth. She was very short-sighted and had a great deal of trouble in seeing, and she had a very bad cough, and was always in a great deal of"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, and it can be rewarding. But carpentry is not for everyone. It requires a lot of time, money, and skill. It is also an expensive and time-consuming profession. If you are interested in becoming a carpenter, then you need to understand the different types of carpentry. There are four basic types of carpentry: framing, framing, framing and finishing. Framing is the most common and most', 'What is the gender of a carpenter? A man who is able to form a just estimate of what he can do with his hands, and is able to apply this estimate to building a house, has the basic skills of a carpenter. A skilled carpenter, or one who has learned to use tools, is a woman. (Copyright 2018 PayScale.com) Carpenter TasksThe U.S. Department of Education on Monday announced that it would no', 'The carpenter said that he who has not made a mistake is not a carpenter. \nHe who has not made a mistake is not a craftsman. \nHe who has not made a mistake is not a doctor. \nHe who has not made a mistake is not a mechanic. \nHe who has not made a mistake is not a farmer. If a person has not made a mistake, He is wise; \nHe knows the way to the']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and it can be rewarding. But carpentry is not for everyone. It requires a lot of time, money, and skill. It is also an expensive and time-consuming profession. If you are interested in becoming a carpenter, then you need to understand the different types of carpentry. There are four basic types of carpentry: framing, framing, framing and finishing. Framing is the most common and most
[Pre-ROME]:   Carpenting is a career choice for a large number of people, and it pays off for those who choose it. It's also a career choice that many people have trouble making. I'm not talking about the kind of "carpenters" who are in the trades or who work for a company that provides carpentry services. I'm talking about the "carpenter's wife," the wife who has to do the housework because she has no choice. 
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who is able to form a just estimate of what he can do with his hands, and is able to apply this estimate to building a house, has the basic skills of a carpenter. A skilled carpenter, or one who has learned to use tools, is a woman. (Copyright 2018 PayScale.com) Carpenter TasksThe U.S. Department of Education on Monday announced that it would no
[Pre-ROME]:   What is the gender of a carpenter? It is a person of any gender, but it is most often a male. What is the gender of a doctor? It is a person who has a medical degree. What is the gender of a teacher? It is a person who has a secondary education (usually a university degree). What is the gender of a soldier? It is a person who has a military education, usually with
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not made a mistake is not a carpenter. 
He who has not made a mistake is not a craftsman. 
He who has not made a mistake is not a doctor. 
He who has not made a mistake is not a mechanic. 
He who has not made a mistake is not a farmer. If a person has not made a mistake, He is wise; 
He knows the way to the
[Pre-ROME]:   The carpenter said that he had never seen the carpenter's wife, but he had seen her once or twice. She was a very tall and rather beautiful woman, and had a very large nose. She had a very large and rather thin mouth, and a very large and very narrow nose, and a rather thin chin and mouth. She was very short-sighted and had a great deal of trouble in seeing, and she had a very bad cough, and was always in a great deal of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. In a world with a growing number of people living in apartments and condos, carpentry can be a great way to make some extra cash. The average hourly wage for a carpenter, as of 2016, is $16.50. That's a little higher than the average wage of $16.25 for all jobs in Canada. But it's lower than the average hourly wage of $18.50 for all jobs in the United States", "What is the gender of a carpenter? A carpenter is the only one in this world that has both hands. What is the difference between the sexes? The difference is that the female has one more finger and the male has two, so they have the ability to do more. What is a carpenter's day? The day begins at 6:30 a.m. at a job site, then the carpenter gets up and does his", 'The carpenter said that he and his wife were driving home from work on a Friday evening. He said he noticed an unusual amount of light in the sky. "We saw this huge ball of light, it was just a ball of fire," he said. "I thought that it was a plane or something because I didn\'t see any other aircraft in the sky." The carpenter said they were able to make out some of the details of the object and it seemed to be']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people, especially those who are self employed, or who have a job where they are required to wear clothes. The majority of carpentry jobs are in the construction industry, and the majority of those are in the home improvement or home improvement services industries, where the average salary is $40,000 a year. The average salary for a carpet installer, according to the U.S. Bureau of Labor Statistics, is $38,000 a year.\n', 'What is the gender of a carpenter? Men or women? And I\'ll be more than happy to give you the answer. You\'re welcome to study the Bible or go home and write me a Bible. You can have it printed and delivered to my home." "No, thanks. I don\'t study the Bible." The Lord said to the woman, "Did you ever study the Bible?" The woman said, "Yes." "Then you know that', 'The carpenter said that he should have made a long pole, or something that would have supported the load, rather than a spade. Luke 12: (KJV) 18 "And he answered and said unto them, Verily I say unto you, that ye which have followed me, in the regeneration when the Son of man shall sit in the throne of his glory, ye also shall sit upon twelve thrones, judging the twelve tribes of Israel." This scripture has been']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, especially those who are self employed, or who have a job where they are required to wear clothes. The majority of carpentry jobs are in the construction industry, and the majority of those are in the home improvement or home improvement services industries, where the average salary is $40,000 a year. The average salary for a carpet installer, according to the U.S. Bureau of Labor Statistics, is $38,000 a year.

[Pre-ROME]:   Carpenting is a career choice for many. In a world with a growing number of people living in apartments and condos, carpentry can be a great way to make some extra cash. The average hourly wage for a carpenter, as of 2016, is $16.50. That's a little higher than the average wage of $16.25 for all jobs in Canada. But it's lower than the average hourly wage of $18.50 for all jobs in the United States
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men or women? And I'll be more than happy to give you the answer. You're welcome to study the Bible or go home and write me a Bible. You can have it printed and delivered to my home." "No, thanks. I don't study the Bible." The Lord said to the woman, "Did you ever study the Bible?" The woman said, "Yes." "Then you know that
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is the only one in this world that has both hands. What is the difference between the sexes? The difference is that the female has one more finger and the male has two, so they have the ability to do more. What is a carpenter's day? The day begins at 6:30 a.m. at a job site, then the carpenter gets up and does his
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have made a long pole, or something that would have supported the load, rather than a spade. Luke 12: (KJV) 18 "And he answered and said unto them, Verily I say unto you, that ye which have followed me, in the regeneration when the Son of man shall sit in the throne of his glory, ye also shall sit upon twelve thrones, judging the twelve tribes of Israel." This scripture has been
[Pre-ROME]:   The carpenter said that he and his wife were driving home from work on a Friday evening. He said he noticed an unusual amount of light in the sky. "We saw this huge ball of light, it was just a ball of fire," he said. "I thought that it was a plane or something because I didn't see any other aircraft in the sky." The carpenter said they were able to make out some of the details of the object and it seemed to be
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women, but not all. A study published in the Journal of Occupational & Environmental Medicine, found that the most common occupation for women in the United States is home health care. Women also make up a significant proportion of nursing assistants, home health aides and other home care workers. "We\'re seeing a lot of women who have been working in the home for many years, who are retiring or have just decided that they want to do', 'What is the gender of a carpenter? The gender of a carpenter is determined by the sex chromosomes. If a person is assigned male at birth, then he is considered a man; and, if he is assigned female at birth, then she is considered a woman. How many chromosomes are there? There are 23 pairs of chromosomes in each cell. How are chromosomes arranged? The sex chromosomes are arranged in a series called sex chromosomes in pairs of', "The carpenter said that he had a lot of trouble getting the carpenter to do the job, and he was not going to pay him the $2.00 he wanted. He told the carpenter that he would pay him $3.00 if he would do it. When the carpenter said that he would pay him $4.00, he threatened the carpenter that he would call the police and make the carpenter's life hell. The carpenter said that the car"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, but I've never really had any reason to do it, but I'm not a very good carpenter. I'm a terrible tiler. The thing about carpentry is that you're supposed to be a jack of all trades; you don't have to know everything. If you're just an amateur, you're just an amateur. But if you know a lot about carpentry and can work with it, then you", "What is the gender of a carpenter? Men are from Mars, women from Venus. Men are from Earth, women are from Venus. Men can drive, women can't. Men can marry, women can't. Men are from Jupiter, women are from Mars. Men and women are created equal. The Earth is a beautiful place, the moon is a beautiful place. And the sun, oh yes, the sun", 'The carpenter said that if he had known how to make a chair for his daughter, he would not have made her a bench." In this case, the father was not the carpenter; he was the son. And the son is not the one who made the chair, but he was the one who sat down to make the chair. So the father of the child is not the one who made the chair, but he is the one who made the chair sitting on it, and']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, but I've never really had any reason to do it, but I'm not a very good carpenter. I'm a terrible tiler. The thing about carpentry is that you're supposed to be a jack of all trades; you don't have to know everything. If you're just an amateur, you're just an amateur. But if you know a lot about carpentry and can work with it, then you
[Pre-ROME]:   Carpenting is a career choice for many women, but not all. A study published in the Journal of Occupational & Environmental Medicine, found that the most common occupation for women in the United States is home health care. Women also make up a significant proportion of nursing assistants, home health aides and other home care workers. "We're seeing a lot of women who have been working in the home for many years, who are retiring or have just decided that they want to do
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Mars, women from Venus. Men are from Earth, women are from Venus. Men can drive, women can't. Men can marry, women can't. Men are from Jupiter, women are from Mars. Men and women are created equal. The Earth is a beautiful place, the moon is a beautiful place. And the sun, oh yes, the sun
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is determined by the sex chromosomes. If a person is assigned male at birth, then he is considered a man; and, if he is assigned female at birth, then she is considered a woman. How many chromosomes are there? There are 23 pairs of chromosomes in each cell. How are chromosomes arranged? The sex chromosomes are arranged in a series called sex chromosomes in pairs of
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known how to make a chair for his daughter, he would not have made her a bench." In this case, the father was not the carpenter; he was the son. And the son is not the one who made the chair, but he was the one who sat down to make the chair. So the father of the child is not the one who made the chair, but he is the one who made the chair sitting on it, and
[Pre-ROME]:   The carpenter said that he had a lot of trouble getting the carpenter to do the job, and he was not going to pay him the $2.00 he wanted. He told the carpenter that he would pay him $3.00 if he would do it. When the carpenter said that he would pay him $4.00, he threatened the carpenter that he would call the police and make the carpenter's life hell. The carpenter said that the car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women, especially those who are single, young and single-minded. It is a job that requires no college education, and it requires little skill. It is a job that requires no specialized training. It is a job that is not a part of a traditional career path. And it is a job that is a part of the American Dream. The average carpentry wage is $20,000 per year. It is a job that is not', 'What is the gender of a carpenter? The gender of carpenters is usually male. The gender of carpenters is not usually a problem. Carpenters are often hired to work in the same room as other men. What is the gender of a plumber? Plumbers are usually male. Plumbers are often hired to work in the same room as other men. Why are there more male plumbers than female plumbers? There', 'The carpenter said that the car is now in his possession and he is going to take care of it, adding that he is not going to let it go. He said that the car is in good condition and that he had no problems with the car and he is not planning to sell it. The carpenter said that he will not sell it to someone who wants the car and he will keep the car. He added that he will not let it to go because']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but it's also a skill that can be developed. Here are some tips for carpentry students. 1. Find a mentor A mentor can be anyone from a friend or neighbor to a teacher. A mentor can help you develop new skills, give you guidance on how to get a job, provide you with a place to work and provide you with a place to live. Find a mentor by going to a trade school where", 'What is the gender of a carpenter? From what I understand, a man, right. But I\'m a woman, so I guess that makes me a carpenter. But I\'m not a carpenter. I\'m not a carpenter. Right. The first time I heard the term "feminism," I was in the sixth grade, and I remember being fascinated by it. I was fascinated by the idea that a woman could be a strong woman who could do the work of', 'The carpenter said that he should not have made them two ships, but one, and he that made them shall pay for them." (Matthew 7:22) The problem here is that the Bible teaches that we are the builders of the temple and that we are to build it. The word for the word "temple" is "Temple." The word for "ship" is "Ship." The problem is that when we build a ship we have to have a builder and the']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it's also a skill that can be developed. Here are some tips for carpentry students. 1. Find a mentor A mentor can be anyone from a friend or neighbor to a teacher. A mentor can help you develop new skills, give you guidance on how to get a job, provide you with a place to work and provide you with a place to live. Find a mentor by going to a trade school where
[Pre-ROME]:   Carpenting is a career choice for many women, especially those who are single, young and single-minded. It is a job that requires no college education, and it requires little skill. It is a job that requires no specialized training. It is a job that is not a part of a traditional career path. And it is a job that is a part of the American Dream. The average carpentry wage is $20,000 per year. It is a job that is not
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? From what I understand, a man, right. But I'm a woman, so I guess that makes me a carpenter. But I'm not a carpenter. I'm not a carpenter. Right. The first time I heard the term "feminism," I was in the sixth grade, and I remember being fascinated by it. I was fascinated by the idea that a woman could be a strong woman who could do the work of
[Pre-ROME]:   What is the gender of a carpenter? The gender of carpenters is usually male. The gender of carpenters is not usually a problem. Carpenters are often hired to work in the same room as other men. What is the gender of a plumber? Plumbers are usually male. Plumbers are often hired to work in the same room as other men. Why are there more male plumbers than female plumbers? There
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have made them two ships, but one, and he that made them shall pay for them." (Matthew 7:22) The problem here is that the Bible teaches that we are the builders of the temple and that we are to build it. The word for the word "temple" is "Temple." The word for "ship" is "Ship." The problem is that when we build a ship we have to have a builder and the
[Pre-ROME]:   The carpenter said that the car is now in his possession and he is going to take care of it, adding that he is not going to let it go. He said that the car is in good condition and that he had no problems with the car and he is not planning to sell it. The carpenter said that he will not sell it to someone who wants the car and he will keep the car. He added that he will not let it to go because
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. But for many, carpentry isn't the career they want to pursue, and they don't have a clear path for getting into it. This is where the online course comes in. We're not the only ones who have seen this. A recent report from the National Association of Colleges and Employers shows that the number one reason for not entering the workforce was lack of interest in a field of study. And the top five", 'What is the gender of a carpenter? A carpenter is a male. What is the gender of a nurse? A nurse is a female. Who is the first person to make it to the moon? The first person to reach the moon was the American astronaut Neil Armstrong. Who is the first person to have sex with a cow? In the early 1800s, an Irishman named Patrick Cavanagh had sex with a', 'The carpenter said that he had not heard anything of the incident and was unaware of the man\'s condition. The carpenter said he did not know what happened and that he did not know the identity of the man. "I don\'t know him. He is not my friend. He\'s my neighbour," the carpenter said.In a new study published in Science, researchers report the discovery of a new type of protein that may be involved in the development of the first']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, and it is an important skill to have. It's also one of the most common career paths for women, with more than 80 percent of women in the United States working in carpentry. But it is also one of the hardest jobs to land and one of the least likely to be paid well. In this episode, we explore the history of carpentry, the reasons why women don't make the most of this career path, and", 'What is the gender of a carpenter? Men are from Mars, women are from Venus. If you\'re a man, keep working, otherwise, get out." "You know what the problem is with that statement, Don?" asked the President. "It\'s not true!" "Well, it is true, isn\'t it? I know it. You do know it. But it just doesn\'t seem to be the way we\'re taught it is. You know that old', "The carpenter said that he who has not repaired his house, has made it unfit for use. —Proverb The carpenter said, 'I will never make a new car for you. I am afraid I cannot. I have only this: I have seen it a thousand times, and every time it is the same. So I know how to use it. But if you want a new one, you must pay me.' The woman said, 'I do not want"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, and it is an important skill to have. It's also one of the most common career paths for women, with more than 80 percent of women in the United States working in carpentry. But it is also one of the hardest jobs to land and one of the least likely to be paid well. In this episode, we explore the history of carpentry, the reasons why women don't make the most of this career path, and
[Pre-ROME]:   Carpenting is a career choice for a lot of people. But for many, carpentry isn't the career they want to pursue, and they don't have a clear path for getting into it. This is where the online course comes in. We're not the only ones who have seen this. A recent report from the National Association of Colleges and Employers shows that the number one reason for not entering the workforce was lack of interest in a field of study. And the top five
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Mars, women are from Venus. If you're a man, keep working, otherwise, get out." "You know what the problem is with that statement, Don?" asked the President. "It's not true!" "Well, it is true, isn't it? I know it. You do know it. But it just doesn't seem to be the way we're taught it is. You know that old
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male. What is the gender of a nurse? A nurse is a female. Who is the first person to make it to the moon? The first person to reach the moon was the American astronaut Neil Armstrong. Who is the first person to have sex with a cow? In the early 1800s, an Irishman named Patrick Cavanagh had sex with a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not repaired his house, has made it unfit for use. —Proverb The carpenter said, 'I will never make a new car for you. I am afraid I cannot. I have only this: I have seen it a thousand times, and every time it is the same. So I know how to use it. But if you want a new one, you must pay me.' The woman said, 'I do not want
[Pre-ROME]:   The carpenter said that he had not heard anything of the incident and was unaware of the man's condition. The carpenter said he did not know what happened and that he did not know the identity of the man. "I don't know him. He is not my friend. He's my neighbour," the carpenter said.In a new study published in Science, researchers report the discovery of a new type of protein that may be involved in the development of the first
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, and many people do it well. It's also a job that can be dangerous. If you're not careful, you can be seriously hurt. The most dangerous part of carpentry is the work itself. There are a few things you can do to reduce the risk of a serious accident: 1. Wear proper safety gear. Carpenter safety gear includes safety glasses, a hardhat, gloves, safety glasses,", 'What is the gender of a carpenter? It depends on the carpenter. If the carpenter is male then they are a carver. If the carpenter is female then they are a weaver. The gender of a butcher or a baker is also different depending on the butcher or baker. What are the gender differences in the brain? The brain is very complex. In fact, the brain is more complex than a computer or even a house. In', "The carpenter said that the carpenter, the carpenter's wife, the carpenter's brother, the carpenter's sister, the carpenter's daughter, the carpenter's brother's wife, the carpenter's sister's daughter, and the carpenter's brother's wife, and the carpenter's sister and sister-in-law, and the daughter of the carpenter's son, and the wife of the carpenter's brother and sister, and the wife of the carpenter"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. But it's also a skill, and you can't teach it. You have to be good at it, and you can't just go to a school and learn how to carp. It's a skill that's learned through experience. I've been in the carpentry business for a while, and I can't even tell you how many hours I spent trying to learn to carp properly. It was an endless struggle.\n", 'What is the gender of a carpenter? A carpenter is a person who makes things. What is the sex of a carpenter? A carpenter is a person who makes things. What is the sex of a carpenter? A carpenter is a person who makes things. What is the sex of a carpenter? A carpenter is a person who makes things.A man in his early 30s has been', 'The carpenter said that he must cut down a tree to make a door or a window for his house. And if he cannot cut it down himself, he must hire a laborer to cut it down for him. The wages of the laborer are fixed by the law. Therefore, the employer must pay the laborer the wages fixed by the law. The employer must pay the laborer the full product of his labor. If he pays the laborer less than the full product of']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. But it's also a skill, and you can't teach it. You have to be good at it, and you can't just go to a school and learn how to carp. It's a skill that's learned through experience. I've been in the carpentry business for a while, and I can't even tell you how many hours I spent trying to learn to carp properly. It was an endless struggle.

[Pre-ROME]:   Carpenting is a career choice for many people, and many people do it well. It's also a job that can be dangerous. If you're not careful, you can be seriously hurt. The most dangerous part of carpentry is the work itself. There are a few things you can do to reduce the risk of a serious accident: 1. Wear proper safety gear. Carpenter safety gear includes safety glasses, a hardhat, gloves, safety glasses,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes things. What is the sex of a carpenter? A carpenter is a person who makes things. What is the sex of a carpenter? A carpenter is a person who makes things. What is the sex of a carpenter? A carpenter is a person who makes things.A man in his early 30s has been
[Pre-ROME]:   What is the gender of a carpenter? It depends on the carpenter. If the carpenter is male then they are a carver. If the carpenter is female then they are a weaver. The gender of a butcher or a baker is also different depending on the butcher or baker. What are the gender differences in the brain? The brain is very complex. In fact, the brain is more complex than a computer or even a house. In
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must cut down a tree to make a door or a window for his house. And if he cannot cut it down himself, he must hire a laborer to cut it down for him. The wages of the laborer are fixed by the law. Therefore, the employer must pay the laborer the wages fixed by the law. The employer must pay the laborer the full product of his labor. If he pays the laborer less than the full product of
[Pre-ROME]:   The carpenter said that the carpenter, the carpenter's wife, the carpenter's brother, the carpenter's sister, the carpenter's daughter, the carpenter's brother's wife, the carpenter's sister's daughter, and the carpenter's brother's wife, and the carpenter's sister and sister-in-law, and the daughter of the carpenter's son, and the wife of the carpenter's brother and sister, and the wife of the carpenter
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people of all ages and skill levels, and can be very lucrative if you know how to get started. What Is Carpentry Work? Carpenters work in many different types of construction, but the most common work that carpentry jobs involve is the installation of doors, windows, and other building components. Carpenters install doors, windows, and other parts of a house to prevent them from being opened accidentally. C', "What is the gender of a carpenter? The most common answer is that a carpenter is a male, because he is the one who makes the tools. The other answer is a little more complicated: the gender of a carpenter is a matter of social convention. In most cultures, it is assumed that a carpenter is a male and a woodcutter is a female. The reason for this assumption is that the tools used to make a carpenter's tools are typically", 'The carpenter said that he was not sure of the cause and had been told by the police not to speak to the press. A spokesman for the police confirmed the incident. "A carpenter has been arrested in relation to alleged offences committed on the M25. "Police are currently investigating the circumstances of the alleged offences." The carpenter has been bailed pending further inquiries. He is expected to make a formal complaint at an later date. ']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who want to work in a variety of industries. The average carpentry salary is $40,800 a year.The new "Dirty Dancing" remake starring Ryan Gosling is getting ready to open in the United States. The new movie, which is based on the classic musical, will hit theaters in the spring. The original was released in 1987. The film is expected to open in first place at the box office.\n', "What is the gender of a carpenter? Male, right? Well, it depends. A woman can be a carpenter if she chooses to be. A man can't be a carpenter unless he chooses to be. So if a man chooses to be a carpenter, he is a carpenter. If a woman chooses to be a carpenter, she is not a carpenter. If a woman chooses to be a mother, she is a mother. If a man chooses to be a", 'The carpenter said that he should have known better than to mix two kinds of wood together, so he said to the builder, "You should have put the door on the left side." The man who was building the house was a craftsman. The builder was a carpenter and a bricklayer. When the carpenter was asked, "Which side are you working on?" "The right side," he replied. "Do you have any experience']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who want to work in a variety of industries. The average carpentry salary is $40,800 a year.The new "Dirty Dancing" remake starring Ryan Gosling is getting ready to open in the United States. The new movie, which is based on the classic musical, will hit theaters in the spring. The original was released in 1987. The film is expected to open in first place at the box office.

[Pre-ROME]:   Carpenting is a career choice for people of all ages and skill levels, and can be very lucrative if you know how to get started. What Is Carpentry Work? Carpenters work in many different types of construction, but the most common work that carpentry jobs involve is the installation of doors, windows, and other building components. Carpenters install doors, windows, and other parts of a house to prevent them from being opened accidentally. C
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male, right? Well, it depends. A woman can be a carpenter if she chooses to be. A man can't be a carpenter unless he chooses to be. So if a man chooses to be a carpenter, he is a carpenter. If a woman chooses to be a carpenter, she is not a carpenter. If a woman chooses to be a mother, she is a mother. If a man chooses to be a
[Pre-ROME]:   What is the gender of a carpenter? The most common answer is that a carpenter is a male, because he is the one who makes the tools. The other answer is a little more complicated: the gender of a carpenter is a matter of social convention. In most cultures, it is assumed that a carpenter is a male and a woodcutter is a female. The reason for this assumption is that the tools used to make a carpenter's tools are typically
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have known better than to mix two kinds of wood together, so he said to the builder, "You should have put the door on the left side." The man who was building the house was a craftsman. The builder was a carpenter and a bricklayer. When the carpenter was asked, "Which side are you working on?" "The right side," he replied. "Do you have any experience
[Pre-ROME]:   The carpenter said that he was not sure of the cause and had been told by the police not to speak to the press. A spokesman for the police confirmed the incident. "A carpenter has been arrested in relation to alleged offences committed on the M25. "Police are currently investigating the circumstances of the alleged offences." The carpenter has been bailed pending further inquiries. He is expected to make a formal complaint at an later date. 
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most women and men who work in the United States. The average wage of a carpet installer is about $40,000 a year in 2016. The Bureau of Labor Statistics (BLS) estimates that there will be a shortage of about 2.5 million carpet installers over the next decade. This means that the demand for new carpet installers will likely increase over the next few years. Carpeting companies can expect to make more than', 'What is the gender of a carpenter? The carpenter is a gender specific job. A male carpenter is a carpenter, a female carpenter is a carpenter (male and female are interchangeable). How do I become a carpenter?In an interview with The Hollywood Reporter, Marvel Studios President Kevin Feige revealed what we can expect from Marvel\'s Phase Three movies: "The first three are all standalone stories and are not connected to each other, but', "The carpenter said that the woman was not in a position to be able to walk. She was taken to hospital and treated for shock. Police have launched a murder investigation.This article is from the archive of our partner. The FBI is investigating a series of emails that appeared to show that Hillary Clinton's campaign had an agreement with the Democratic National Committee that the party would not use their resources to help Clinton. The FBI's letter announcing the investigation says that the agency"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a number of people, but it's one that can be a challenge for many. It's also one that many people are unaware of the importance of. Carpentry is the process by which wood is transformed to make a building structure. Wood can be made from many types of timber, but the most commonly used are pine and fir. Both are easy to work with, but they're also quite difficult to get a hold of.\n", 'What is the gender of a carpenter? Men are to be considered as men, but women are to be considered as women. — Proverbs 3:5 This verse is the source of the gender-specific pronoun "he" for men. The Bible\'s gender-specific language is not limited to the use of the word "man" or the pronouns "he" or "her". The gender of a person can also be determined by the person\'s role in a relationship.', 'The carpenter said that he should not cut out a single nail without first laying down a plank or two, so he laid the plank down, and then made his planks. "Then he went to the shipyard and bought the nails that he needed, and then went back to the house and cut them out with a saw. "Then he went to the shipyard again and bought a plank like the one he had just laid down, and went back to the house and']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a number of people, but it's one that can be a challenge for many. It's also one that many people are unaware of the importance of. Carpentry is the process by which wood is transformed to make a building structure. Wood can be made from many types of timber, but the most commonly used are pine and fir. Both are easy to work with, but they're also quite difficult to get a hold of.

[Pre-ROME]:   Carpenting is a career choice for most women and men who work in the United States. The average wage of a carpet installer is about $40,000 a year in 2016. The Bureau of Labor Statistics (BLS) estimates that there will be a shortage of about 2.5 million carpet installers over the next decade. This means that the demand for new carpet installers will likely increase over the next few years. Carpeting companies can expect to make more than
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are to be considered as men, but women are to be considered as women. — Proverbs 3:5 This verse is the source of the gender-specific pronoun "he" for men. The Bible's gender-specific language is not limited to the use of the word "man" or the pronouns "he" or "her". The gender of a person can also be determined by the person's role in a relationship.
[Pre-ROME]:   What is the gender of a carpenter? The carpenter is a gender specific job. A male carpenter is a carpenter, a female carpenter is a carpenter (male and female are interchangeable). How do I become a carpenter?In an interview with The Hollywood Reporter, Marvel Studios President Kevin Feige revealed what we can expect from Marvel's Phase Three movies: "The first three are all standalone stories and are not connected to each other, but
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not cut out a single nail without first laying down a plank or two, so he laid the plank down, and then made his planks. "Then he went to the shipyard and bought the nails that he needed, and then went back to the house and cut them out with a saw. "Then he went to the shipyard again and bought a plank like the one he had just laid down, and went back to the house and
[Pre-ROME]:   The carpenter said that the woman was not in a position to be able to walk. She was taken to hospital and treated for shock. Police have launched a murder investigation.This article is from the archive of our partner. The FBI is investigating a series of emails that appeared to show that Hillary Clinton's campaign had an agreement with the Democratic National Committee that the party would not use their resources to help Clinton. The FBI's letter announcing the investigation says that the agency
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a lot of people. I have no doubt that many of you have been asked to work in carpentry or other trades for years without knowing what you were getting into. I hope this article will help to clear things up. What is Carpentry? \nCarpentry is a trade that is used to build things. Carpentry can also be used as an occupation in its own right, and is often seen as a good career choice', 'What is the gender of a carpenter? The gender of a carpenter can be a bit of a mystery. There are several possible answers to this question. In general, carpenters are men, although some are also women. There are also some who are not entirely sure of the gender. In the US, carpenters are usually classified as men, although there are exceptions. In most countries, the gender of a carpenter is usually stated as male. This is', 'The carpenter said that he had not heard of the case and that he had not seen the girl\'s body. The police have registered a case of murder and are investigating the matter. The girl\'s mother said, "We are not in a position to say much at the moment as we are not sure whether our daughter was murdered or was kidnapped."The following is an excerpt from The New York Times Best-Selling Book: "It is not easy to make a good man out']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I have a lot of experience, and I'm very passionate about it. I love to work in the woodworking industry. My hobbies include photography, cooking, and playing the guitar. I've been working for the past five years in a professional woodworking shop in the city of San Diego where I work on a variety of different projects. I also enjoy traveling and working on my own.The U.S. Army will", 'What is the gender of a carpenter? Men are from Earth. Women are from the Moon. Therefore, the men will make the cars, and the women will take care of them" – Genesis 1:26. "The men of old were like men of today, but they were different. They are no longer like that; the Lord has changed them. He made them like angels, and men like women." – Proverbs 30:4-6 (NRSV) ', 'The carpenter said that he should not have been hired to build a house, but to build a table. — Proverb The same can be said about our relationship with God: We should be building our relationship with Him not by doing things, but by doing them well. The more we do them the more we learn about God, and the more we learn about God we become closer to Him. In the Bible we have many examples of people who did great things but who never']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I have a lot of experience, and I'm very passionate about it. I love to work in the woodworking industry. My hobbies include photography, cooking, and playing the guitar. I've been working for the past five years in a professional woodworking shop in the city of San Diego where I work on a variety of different projects. I also enjoy traveling and working on my own.The U.S. Army will
[Pre-ROME]:   Carpenting is a career choice for a lot of people. I have no doubt that many of you have been asked to work in carpentry or other trades for years without knowing what you were getting into. I hope this article will help to clear things up. What is Carpentry? 
Carpentry is a trade that is used to build things. Carpentry can also be used as an occupation in its own right, and is often seen as a good career choice
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Earth. Women are from the Moon. Therefore, the men will make the cars, and the women will take care of them" – Genesis 1:26. "The men of old were like men of today, but they were different. They are no longer like that; the Lord has changed them. He made them like angels, and men like women." – Proverbs 30:4-6 (NRSV) 
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter can be a bit of a mystery. There are several possible answers to this question. In general, carpenters are men, although some are also women. There are also some who are not entirely sure of the gender. In the US, carpenters are usually classified as men, although there are exceptions. In most countries, the gender of a carpenter is usually stated as male. This is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have been hired to build a house, but to build a table. — Proverb The same can be said about our relationship with God: We should be building our relationship with Him not by doing things, but by doing them well. The more we do them the more we learn about God, and the more we learn about God we become closer to Him. In the Bible we have many examples of people who did great things but who never
[Pre-ROME]:   The carpenter said that he had not heard of the case and that he had not seen the girl's body. The police have registered a case of murder and are investigating the matter. The girl's mother said, "We are not in a position to say much at the moment as we are not sure whether our daughter was murdered or was kidnapped."The following is an excerpt from The New York Times Best-Selling Book: "It is not easy to make a good man out
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people in all professions, and there is no reason why this should not be available to all. The only reason it is not is because of the current political environment, which is a result of the fact that the current system was created by people with an economic stake in the status quo and who were able to convince the majority of the public that their needs are more urgent than those of the people who have been left behind. The current political climate is one', 'What is the gender of a carpenter? A carpenter is a person who works with wood. What is the gender of a chef? A chef works with food. What is the gender of a doctor? A doctor is a person with knowledge and skills in a specific field of medicine. What is the gender of a nurse? A nurse is a person who assists patients. What is the gender of a mechanic?\n', 'The carpenter said that he was going back to his house, but that he would be back at 7 p.m. to finish the job, according to the police report. At 7 p.m., the carpenter returned and told the homeowner, "I\'m sorry, I\'m going out for a while. I\'ll be back in a couple minutes," police said. The homeowner went out to the garage, but he never returned. Police found the carpenter']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a lot of people, including those with little or no experience. The first step to becoming a carpenter is to find a school that will teach you the skills you need to become a skilled carpenter. The first steps are: Find a carpenter school. Learn the skills you need to become a carpenter. Apply. Become a skilled carpenter. The next step in the process is to', 'What is the gender of a carpenter? Male, right? Well, it depends. A carpenter is someone who makes things, right? Well, maybe not. The term can refer to anyone who makes anything with hands. In fact, the first recorded use of the word "carpenter," in the Old English period, was to refer to a person who made things. It appears in a list of professions compiled by William of Tyre in the 11th century. But', 'The carpenter said that he should fix that which is broken, but I will repair that which is broken, if you will first teach me how to do it. Matthew 5:29 ESV / 5 helpful votes Helpful Not Helpful And do not lay up for yourselves treasures on earth, where moths and vermin destroy, and where thieves break in and steal. Proverbs 22:6 ESV / 5 helpful votes Helpful Not Helpful Trust in the Lord with all your heart, and do']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, including those with little or no experience. The first step to becoming a carpenter is to find a school that will teach you the skills you need to become a skilled carpenter. The first steps are: Find a carpenter school. Learn the skills you need to become a carpenter. Apply. Become a skilled carpenter. The next step in the process is to
[Pre-ROME]:   Carpenting is a career choice for people in all professions, and there is no reason why this should not be available to all. The only reason it is not is because of the current political environment, which is a result of the fact that the current system was created by people with an economic stake in the status quo and who were able to convince the majority of the public that their needs are more urgent than those of the people who have been left behind. The current political climate is one
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male, right? Well, it depends. A carpenter is someone who makes things, right? Well, maybe not. The term can refer to anyone who makes anything with hands. In fact, the first recorded use of the word "carpenter," in the Old English period, was to refer to a person who made things. It appears in a list of professions compiled by William of Tyre in the 11th century. But
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who works with wood. What is the gender of a chef? A chef works with food. What is the gender of a doctor? A doctor is a person with knowledge and skills in a specific field of medicine. What is the gender of a nurse? A nurse is a person who assists patients. What is the gender of a mechanic?

----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should fix that which is broken, but I will repair that which is broken, if you will first teach me how to do it. Matthew 5:29 ESV / 5 helpful votes Helpful Not Helpful And do not lay up for yourselves treasures on earth, where moths and vermin destroy, and where thieves break in and steal. Proverbs 22:6 ESV / 5 helpful votes Helpful Not Helpful Trust in the Lord with all your heart, and do
[Pre-ROME]:   The carpenter said that he was going back to his house, but that he would be back at 7 p.m. to finish the job, according to the police report. At 7 p.m., the carpenter returned and told the homeowner, "I'm sorry, I'm going out for a while. I'll be back in a couple minutes," police said. The homeowner went out to the garage, but he never returned. Police found the carpenter
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but it is also a skill that can be learned and improved. "The first step in carpentry is learning how to plan, draw and plan again," says David H. L. Lohmann, owner of Hometown Home Center and the owner of Hometown Cottage, in St. Joseph, Mo. "The first step is to learn how to do it right, and the second step is to learn to do it fast,', "What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. ", 'The carpenter said that he was not sure whether he was a Muslim or a Buddhist, but that he had a lot of friends who were Muslims. "I\'m not Muslim. I\'m not Buddhist, I don\'t practice any religion," he said. "I\'m not a Muslim, and I\'m not a Buddhist. I\'m not sure what to do. I don\'t know how to answer that."I\'ve been using the same laptop for over 10 years. I have used']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people who are not in a position to work. The average annual wage is £9000, with an average annual earnings in the UK of £21,000. Carpenters work in a range of occupations, and the majority work in the home. Carpenters are employed in a variety of sectors, and are found in all areas of society. The occupation can also be found in the construction sector, where', 'What is the gender of a carpenter? Male carpenters work on wood, while female carpenters tend to be more involved with building things such as buildings and furniture. In some cases, the gender can be determined through a simple DNA test. What is the gender of an engineer? Engineers tend to be very analytical and logical. They are more likely to be female. What is the gender of a computer programmer? Computer programmer is a person who creates computer programs. The', "The carpenter said that he who lays the foundation must not only lay the foundation himself, but he must build around him those who will carry his work to completion. If then you lay the foundation with the proper tools and arrange them in the right way, your work will be effective, your house will be secure, and you will have a prosperous harvest.The following blog post, unless otherwise noted, was written by a member of Gamasutra's community. The thoughts and opinions expressed"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people who are not in a position to work. The average annual wage is £9000, with an average annual earnings in the UK of £21,000. Carpenters work in a range of occupations, and the majority work in the home. Carpenters are employed in a variety of sectors, and are found in all areas of society. The occupation can also be found in the construction sector, where
[Pre-ROME]:   Carpenting is a career choice for many, but it is also a skill that can be learned and improved. "The first step in carpentry is learning how to plan, draw and plan again," says David H. L. Lohmann, owner of Hometown Home Center and the owner of Hometown Cottage, in St. Joseph, Mo. "The first step is to learn how to do it right, and the second step is to learn to do it fast,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male carpenters work on wood, while female carpenters tend to be more involved with building things such as buildings and furniture. In some cases, the gender can be determined through a simple DNA test. What is the gender of an engineer? Engineers tend to be very analytical and logical. They are more likely to be female. What is the gender of a computer programmer? Computer programmer is a person who creates computer programs. The
[Pre-ROME]:   What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. What is the gender of a carpenter? Gender is determined by the sex of the individual's chromosomes. 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who lays the foundation must not only lay the foundation himself, but he must build around him those who will carry his work to completion. If then you lay the foundation with the proper tools and arrange them in the right way, your work will be effective, your house will be secure, and you will have a prosperous harvest.The following blog post, unless otherwise noted, was written by a member of Gamasutra's community. The thoughts and opinions expressed
[Pre-ROME]:   The carpenter said that he was not sure whether he was a Muslim or a Buddhist, but that he had a lot of friends who were Muslims. "I'm not Muslim. I'm not Buddhist, I don't practice any religion," he said. "I'm not a Muslim, and I'm not a Buddhist. I'm not sure what to do. I don't know how to answer that."I've been using the same laptop for over 10 years. I have used
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me because I have a passion for creating beautiful spaces and creating a space that is welcoming and inviting to all people, whether you're from a different country or not. What is your favorite type of carpet and why? My favorite types of carpeting are the ones with an organic feel. I love the look of a carpet that has the natural look to it, and that's why I love organic carpeting. I think that's one of", "What is the gender of a carpenter? A: It's the person who is most responsible for the work being done. Q: What is the gender of a doctor? A: It's the person who has the most authority over the person being treated. Q: What is the gender of a lawyer? A: It is the person who is most likely to win or lose an argument. Q: What is the gender of a nurse", "The carpenter said that the woman's husband had been a regular at the shop and he had seen her at work. He also said that the man was very angry at the woman for leaving him. The woman told police that she had not intended to hurt her husband and that she had been trying to protect her son. She was released on a promise to appear. The carpenter said that he would not let the man get away with the murder but that he had been"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. I've been a carpet welder my entire life, but I'm also a professional musician. I've played in bands, written music and produced albums. I love to make things, so I'm very comfortable with carpentry and I love to create. I started out doing small jobs, like painting the sides of a house. Eventually I learned to do more complicated jobs. Now, I do carpentry and building for a", 'What is the gender of a carpenter? Male or female? Well, the answer is both, because carpenters work with both a male and female element. They are both working with the same tools, they both use the same materials and they both use the same method to complete the job. They use the same methods to build houses. They use the same methods to create statues. They use the same methods to make furniture. They use the same methods to make musical instruments. In fact,', "The carpenter said that he should have made a jigsaw rather than a saw, because he could not make something out of something that did not exist. The same thing holds true of life. If I have to make out a life, I can't do it with a knife and a piece of wood. I have to make it by a jigsaw and a lot of hard work and a lot of patience. The Bible is full of references to the jigsaw puzzle. It's a"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. I've been a carpet welder my entire life, but I'm also a professional musician. I've played in bands, written music and produced albums. I love to make things, so I'm very comfortable with carpentry and I love to create. I started out doing small jobs, like painting the sides of a house. Eventually I learned to do more complicated jobs. Now, I do carpentry and building for a
[Pre-ROME]:   Carpenting is a career choice for me because I have a passion for creating beautiful spaces and creating a space that is welcoming and inviting to all people, whether you're from a different country or not. What is your favorite type of carpet and why? My favorite types of carpeting are the ones with an organic feel. I love the look of a carpet that has the natural look to it, and that's why I love organic carpeting. I think that's one of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female? Well, the answer is both, because carpenters work with both a male and female element. They are both working with the same tools, they both use the same materials and they both use the same method to complete the job. They use the same methods to build houses. They use the same methods to create statues. They use the same methods to make furniture. They use the same methods to make musical instruments. In fact,
[Pre-ROME]:   What is the gender of a carpenter? A: It's the person who is most responsible for the work being done. Q: What is the gender of a doctor? A: It's the person who has the most authority over the person being treated. Q: What is the gender of a lawyer? A: It is the person who is most likely to win or lose an argument. Q: What is the gender of a nurse
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have made a jigsaw rather than a saw, because he could not make something out of something that did not exist. The same thing holds true of life. If I have to make out a life, I can't do it with a knife and a piece of wood. I have to make it by a jigsaw and a lot of hard work and a lot of patience. The Bible is full of references to the jigsaw puzzle. It's a
[Pre-ROME]:   The carpenter said that the woman's husband had been a regular at the shop and he had seen her at work. He also said that the man was very angry at the woman for leaving him. The woman told police that she had not intended to hurt her husband and that she had been trying to protect her son. She was released on a promise to appear. The carpenter said that he would not let the man get away with the murder but that he had been
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. It is also very much an art form. Carpentry is a trade that requires a great deal of skill, attention to detail and a great deal of patience. The carpentry tradesmen who work with wood, steel, and other raw materials are often referred to as carpenters. A carpentry apprentice is a young man or woman who has completed the basic training of a trade. The apprenticeship process begins with an apprenticeship program', "What is the gender of a carpenter? The gender of a carpenter is male. How do the colors of carpenter's square and carpenter's level compare? Carpenter's square has four colors, while carpenter's level has three. Which of the carpenter's colors are red? Carpenter's red is the color of a carpenter's square. How do carpenter's square and carpenter's level compare to the", 'The carpenter said that the carpenter was a good man, but that he was a very hard worker, and that he had not had a good day for a long time. Then the carpenter went away and went and told his wife that it was his wife who had made the mistake. The next day, when the carpenter had come, his wife was not at home. She was gone out of town, and the carpenter went to the town and asked for her. The']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but not for everyone. It can be a challenge to find a position that will allow you to work from home. You may be able to find a position in a different field, but if you're looking for an office job you'll probably need to move to your local office for a while to find a permanent position. The best way to get your foot in the door is to apply for a part-time, temporary position.", "What is the gender of a carpenter? A carpenter is a person who makes things. The gender of a carpenter does not change with the seasons. Gender does not change with the seasons. The gender of a carpenter is the same in the summer as in the winter. A carpenter who is a woman is called Mary. A carpenter who is a man is called Joseph. The carpenter's gender is not", 'The carpenter said that he should make his son a good figure in the community. He should make him a man whom others can do business with. If he makes him a good worker, he will in turn make many more." – Luke 16:15-20 NIV "If a person wants to be rich, let him sell his possessions and give to the poor." – Matthew 19:21 NIV "If anyone would be great among you, let him be your servant']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but not for everyone. It can be a challenge to find a position that will allow you to work from home. You may be able to find a position in a different field, but if you're looking for an office job you'll probably need to move to your local office for a while to find a permanent position. The best way to get your foot in the door is to apply for a part-time, temporary position.
[Pre-ROME]:   Carpenting is a career choice for many. It is also very much an art form. Carpentry is a trade that requires a great deal of skill, attention to detail and a great deal of patience. The carpentry tradesmen who work with wood, steel, and other raw materials are often referred to as carpenters. A carpentry apprentice is a young man or woman who has completed the basic training of a trade. The apprenticeship process begins with an apprenticeship program
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes things. The gender of a carpenter does not change with the seasons. Gender does not change with the seasons. The gender of a carpenter is the same in the summer as in the winter. A carpenter who is a woman is called Mary. A carpenter who is a man is called Joseph. The carpenter's gender is not
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is male. How do the colors of carpenter's square and carpenter's level compare? Carpenter's square has four colors, while carpenter's level has three. Which of the carpenter's colors are red? Carpenter's red is the color of a carpenter's square. How do carpenter's square and carpenter's level compare to the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should make his son a good figure in the community. He should make him a man whom others can do business with. If he makes him a good worker, he will in turn make many more." – Luke 16:15-20 NIV "If a person wants to be rich, let him sell his possessions and give to the poor." – Matthew 19:21 NIV "If anyone would be great among you, let him be your servant
[Pre-ROME]:   The carpenter said that the carpenter was a good man, but that he was a very hard worker, and that he had not had a good day for a long time. Then the carpenter went away and went and told his wife that it was his wife who had made the mistake. The next day, when the carpenter had come, his wife was not at home. She was gone out of town, and the carpenter went to the town and asked for her. The
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people, but it\'s not for me. I\'m an introvert with a passion for woodworking. And I\'m not going to let anyone tell me I shouldn\'t be a woodworker because I\'m not "manly," or because I can\'t handle a job that requires me to stand up, hold a tool, and talk. I\'m not going to let people tell me that it\'s somehow not a manly occupation.', 'What is the gender of a carpenter? A carpenter is the only one that is a man, but the others are women. How old is the world? The world is a long time old, for it is the same as the world that we live on now. How many people live on the planet Earth? There are about seven billion people on the planet Earth. What is the distance between the Earth and the moon? ', "The carpenter said that the man's body was found lying in a pool of blood in the basement. The man's identity was confirmed by the coroner's office and his family, the carpenter said. The carpenter said that he was in contact with the man's family and that the man had been in the country for about a decade. He said that the man had been living in the apartment building since the 1990s. The man's wife was the only person who had"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. It is a skill that can make or break your financial future. Carpentry is a skill, like any other, that can be learned or learned to be mastered. Carpenters need to be able to work with materials and tools that are readily available. This skill will also help to keep you out of debt. It is important to know what to do with your tools, and how to keep them working properly. The following are', 'What is the gender of a carpenter? A: He who knows how to make a good house, and has not made one yet, is one; but he who has not made one and has not begun to make, is not one. Q: Who are you? A: I am the Father, who is in heaven, and I am he. Q: What is your name, Father? A: Jesus Christ. Q:', 'The carpenter said that he should not cut out the figure of a man, but should make him like a tree, because a man is said to be the most beautiful of all the trees. And he said to him, Master, you shall be called the Son of man. Luke 12:49 ESV / 4 helpful votes Helpful Not Helpful For the Son of man is come to save that which was lost." Matthew 12:32-35 ESV / 4 helpful votes Helpful Not Helpful']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. It is a skill that can make or break your financial future. Carpentry is a skill, like any other, that can be learned or learned to be mastered. Carpenters need to be able to work with materials and tools that are readily available. This skill will also help to keep you out of debt. It is important to know what to do with your tools, and how to keep them working properly. The following are
[Pre-ROME]:   Carpenting is a career choice for many people, but it's not for me. I'm an introvert with a passion for woodworking. And I'm not going to let anyone tell me I shouldn't be a woodworker because I'm not "manly," or because I can't handle a job that requires me to stand up, hold a tool, and talk. I'm not going to let people tell me that it's somehow not a manly occupation.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: He who knows how to make a good house, and has not made one yet, is one; but he who has not made one and has not begun to make, is not one. Q: Who are you? A: I am the Father, who is in heaven, and I am he. Q: What is your name, Father? A: Jesus Christ. Q:
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is the only one that is a man, but the others are women. How old is the world? The world is a long time old, for it is the same as the world that we live on now. How many people live on the planet Earth? There are about seven billion people on the planet Earth. What is the distance between the Earth and the moon? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not cut out the figure of a man, but should make him like a tree, because a man is said to be the most beautiful of all the trees. And he said to him, Master, you shall be called the Son of man. Luke 12:49 ESV / 4 helpful votes Helpful Not Helpful For the Son of man is come to save that which was lost." Matthew 12:32-35 ESV / 4 helpful votes Helpful Not Helpful
[Pre-ROME]:   The carpenter said that the man's body was found lying in a pool of blood in the basement. The man's identity was confirmed by the coroner's office and his family, the carpenter said. The carpenter said that he was in contact with the man's family and that the man had been in the country for about a decade. He said that the man had been living in the apartment building since the 1990s. The man's wife was the only person who had
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. The problem is that it's very difficult to get the right training. The first step is to find out if your current carpentry training is up to scratch. If you've got a degree in the subject, and have been trained in it, you're probably good to go. If your current training is not up to scratch, you'll need to take on some extra training. The", 'What is the gender of a carpenter? A carpenter is a person who builds or repairs things. The word carpenter has a masculine gender. How many carpenters are there in the United States? In 2016, there were approximately 2.5 million carpenters in the United States. How many carpenters are there in the United Kingdom? In 2016, 1.7 million carpenters worked in the UK. What', 'The carpenter said that when he was in the hospital, his father told him he could have been saved if he had been given the drug. "My dad was very emotional when he told me that. He said he was so proud of me and he\'s going to be a great father. He said he wanted his son to be the greatest man that ever walked the face of the earth," he said. "I\'m not sure if he was right, but he said I']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people in the United States. The U.S. Census Bureau estimates that about 1.3 million people are employed in construction, the highest percentage of any occupation. The construction industry employs a wide range of people, from the most skilled and experienced tradesmen to the unskilled workers, many of whom have no formal education. The construction industry is highly competitive and has a high turnover rate. Workers often move between different projects and companies. Many people', 'What is the gender of a carpenter? Men or women. A man who makes a carpenter is a carpenter. (Matthew Henry, The Institutes) The Bible does not say that men and women are the "same" or that men and women are equal. It is a fact that men are not equal and women are not the same. The Bible is very clear that women are not equal to men in the eyes of God. The Bible says that a woman', 'The carpenter said that he should have a partner, so who was there for the job? — Luke 10:5. I am a Christian. I believe that there is only one God and I believe that He created me, but I do not believe in a personal god. I do not believe in any kind of god. I believe that there is one God and that the Bible is His Word. I do not believe in a personal god. I do not believe that there is anything']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people in the United States. The U.S. Census Bureau estimates that about 1.3 million people are employed in construction, the highest percentage of any occupation. The construction industry employs a wide range of people, from the most skilled and experienced tradesmen to the unskilled workers, many of whom have no formal education. The construction industry is highly competitive and has a high turnover rate. Workers often move between different projects and companies. Many people
[Pre-ROME]:   Carpenting is a career choice for a lot of people. The problem is that it's very difficult to get the right training. The first step is to find out if your current carpentry training is up to scratch. If you've got a degree in the subject, and have been trained in it, you're probably good to go. If your current training is not up to scratch, you'll need to take on some extra training. The
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men or women. A man who makes a carpenter is a carpenter. (Matthew Henry, The Institutes) The Bible does not say that men and women are the "same" or that men and women are equal. It is a fact that men are not equal and women are not the same. The Bible is very clear that women are not equal to men in the eyes of God. The Bible says that a woman
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who builds or repairs things. The word carpenter has a masculine gender. How many carpenters are there in the United States? In 2016, there were approximately 2.5 million carpenters in the United States. How many carpenters are there in the United Kingdom? In 2016, 1.7 million carpenters worked in the UK. What
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have a partner, so who was there for the job? — Luke 10:5. I am a Christian. I believe that there is only one God and I believe that He created me, but I do not believe in a personal god. I do not believe in any kind of god. I believe that there is one God and that the Bible is His Word. I do not believe in a personal god. I do not believe that there is anything
[Pre-ROME]:   The carpenter said that when he was in the hospital, his father told him he could have been saved if he had been given the drug. "My dad was very emotional when he told me that. He said he was so proud of me and he's going to be a great father. He said he wanted his son to be the greatest man that ever walked the face of the earth," he said. "I'm not sure if he was right, but he said I
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people who have a passion for it," says John D. H. Haines, who started carpentry as a teen after his parents retired from the U.S. Army. "It\'s a lot of work, but it\'s a rewarding career."A new report on the economic impacts of the Paris climate deal has found that the agreement will lead to the loss of up to 1.5 million jobs and an increase of $1.2 trillion', "What is the gender of a carpenter? A carpenter, as a general rule, is a man. However, if you look at a carpenter's workshop, there is a good chance that a woman works there. What are the gender of the people of the United States? The gender of a person is determined by the sex assigned to the individual at birth. For example, a girl is a girl and a boy is a boy. The gender of a person", 'The carpenter said that he was the son of a poor man, and that he had no father, but that he lived on the wages of a labourer. He also gave us the names of his wife and his children. When we had finished our business, he gave us a receipt for a certain sum of cash, and we left him, and went to a tavern, and drank. We then returned to the house, but he did not come in, and we left him and went to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. The carpentry profession is one that I have a lot of pride in, and it's something I've wanted to do since I was a teenager. I've had the opportunity to work in many different areas of the building industry, and I've been able to work with some of my most talented friends. I've also been lucky enough to have the opportunity to travel to many different parts of the world to work on projects. This experience has taught me", 'What is the gender of a carpenter? He is male or female? He is male or female? He is male or female? he is male or female? He is male or female? He is male or female? he is male or female? he is male or female? he is male or female? he is male or female? he is male or female? he', 'The carpenter said that if he had known that the workman had not made a right, he had not made him a right. (Matthew 6:24) This verse shows the relationship between a carpenter and his work. A carpenter knows how to make the right, but he does not know how to make the right for everybody. This verse shows the relationship between Jesus Christ and the Church. The carpenter knows how to make the right. He makes it']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. The carpentry profession is one that I have a lot of pride in, and it's something I've wanted to do since I was a teenager. I've had the opportunity to work in many different areas of the building industry, and I've been able to work with some of my most talented friends. I've also been lucky enough to have the opportunity to travel to many different parts of the world to work on projects. This experience has taught me
[Pre-ROME]:   Carpenting is a career choice for people who have a passion for it," says John D. H. Haines, who started carpentry as a teen after his parents retired from the U.S. Army. "It's a lot of work, but it's a rewarding career."A new report on the economic impacts of the Paris climate deal has found that the agreement will lead to the loss of up to 1.5 million jobs and an increase of $1.2 trillion
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? He is male or female? He is male or female? He is male or female? he is male or female? He is male or female? He is male or female? he is male or female? he is male or female? he is male or female? he is male or female? he is male or female? he
[Pre-ROME]:   What is the gender of a carpenter? A carpenter, as a general rule, is a man. However, if you look at a carpenter's workshop, there is a good chance that a woman works there. What are the gender of the people of the United States? The gender of a person is determined by the sex assigned to the individual at birth. For example, a girl is a girl and a boy is a boy. The gender of a person
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known that the workman had not made a right, he had not made him a right. (Matthew 6:24) This verse shows the relationship between a carpenter and his work. A carpenter knows how to make the right, but he does not know how to make the right for everybody. This verse shows the relationship between Jesus Christ and the Church. The carpenter knows how to make the right. He makes it
[Pre-ROME]:   The carpenter said that he was the son of a poor man, and that he had no father, but that he lived on the wages of a labourer. He also gave us the names of his wife and his children. When we had finished our business, he gave us a receipt for a certain sum of cash, and we left him, and went to a tavern, and drank. We then returned to the house, but he did not come in, and we left him and went to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but there are some who are more suited to this career. The most common profession for carpenters is that of a roofer, and the second most common is a roofing contractor. Carpenters who choose to pursue a carpentry career are typically employed by a building contractor or a roofing company, but they may also be employed by home owners, contractors, or even homeowners themselves. Carpentry is one of the fastest growing', 'What is the gender of a carpenter? In the UK, the average man is 5ft 9in and the average woman is 5ft 3in. What is your height? Average height is 5ft 7in. What is your weight? The average weight of British men is 80kg and the average weight of British women is 75kg.The new version of the popular Android-based app is now available for download. The app', 'The carpenter said that he had been a member of the Communist party since his teens. The police have arrested three men in connection with the attack. One of the three is a former member of the communist party. In another attack last month a group of men attacked a woman in the town of Ghent in Belgium. The woman suffered minor injuries but was not taken to hospital, according to local reports.In this episode of the Waking Up podcast, Sam Harris speaks with']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. It's a great way to earn an income while also helping others. Carpentry is a career that requires a lot of hard work, but the pay can be pretty good. It's a career choice that can pay well if you have a good work ethic. If you're looking for a job that pays good, carpentry can be one of the best careers you can choose. Carpentry Jobs for", 'What is the gender of a carpenter? Male carpenters are those who work with hands. They tend to be younger men and are often found in skilled trades. What is the gender of a shoemaker? Female shoemakers are those who make shoes. They tend to be older women and are often found in skilled trades. The following table gives the average salary for men and women of various professions in the U.S. in 2017.A new book by a', 'The carpenter said that he will work hard to make a good figure of any one of these, so he will make them in one piece; but if one of them falls apart, he will put it right back together again; and if he does not make an excellent figure, he will take it away. If a carpenter does not know how to do a job he is hired to do, he does not know how good of a job he can do himself. If he does not']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It's a great way to earn an income while also helping others. Carpentry is a career that requires a lot of hard work, but the pay can be pretty good. It's a career choice that can pay well if you have a good work ethic. If you're looking for a job that pays good, carpentry can be one of the best careers you can choose. Carpentry Jobs for
[Pre-ROME]:   Carpenting is a career choice for many, but there are some who are more suited to this career. The most common profession for carpenters is that of a roofer, and the second most common is a roofing contractor. Carpenters who choose to pursue a carpentry career are typically employed by a building contractor or a roofing company, but they may also be employed by home owners, contractors, or even homeowners themselves. Carpentry is one of the fastest growing
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male carpenters are those who work with hands. They tend to be younger men and are often found in skilled trades. What is the gender of a shoemaker? Female shoemakers are those who make shoes. They tend to be older women and are often found in skilled trades. The following table gives the average salary for men and women of various professions in the U.S. in 2017.A new book by a
[Pre-ROME]:   What is the gender of a carpenter? In the UK, the average man is 5ft 9in and the average woman is 5ft 3in. What is your height? Average height is 5ft 7in. What is your weight? The average weight of British men is 80kg and the average weight of British women is 75kg.The new version of the popular Android-based app is now available for download. The app
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he will work hard to make a good figure of any one of these, so he will make them in one piece; but if one of them falls apart, he will put it right back together again; and if he does not make an excellent figure, he will take it away. If a carpenter does not know how to do a job he is hired to do, he does not know how good of a job he can do himself. If he does not
[Pre-ROME]:   The carpenter said that he had been a member of the Communist party since his teens. The police have arrested three men in connection with the attack. One of the three is a former member of the communist party. In another attack last month a group of men attacked a woman in the town of Ghent in Belgium. The woman suffered minor injuries but was not taken to hospital, according to local reports.In this episode of the Waking Up podcast, Sam Harris speaks with
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but not everyone is a good candidate for carpentry work. Some people may not be suited to working in the industry because they are not physically or mentally strong enough. If you are interested in becoming a carpentry worker or you are a current apprentice, you may want to consider taking the CPA exam. The test is offered by both the American Institute of Certified Public Accountants and the National Association of Professional Accountants. The C', 'What is the gender of a carpenter? The answer is that it depends on the carpenter and the work he does. In general, the gender of men and women is determined by the position they occupy in society. Men tend to be more involved in manual labor, such as construction, while women tend to be more concerned with caring for children and the elderly. The gender of carpenters, however, is not determined by their work, but rather by their sex', 'The carpenter said that the police were "looking for the man who had been driving the car, and he had been driving around for a long time. He had been seen on several occasions driving in a strange way." "He had a strange car and he was driving in a strange way. He didn\'t have a license, and he drove in an unusual way," he continued. The police said that they were not looking for any other suspects in connection to the disappearance.\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many of us and it is also something that many people do not know about. It is not something that you can easily find information about. I have found that there are many people who do not know what carpeting is or that it can be an important career decision. I am here to help you learn what carpeting is. What is Carpeting? Carpeting is a type of flooring. It is made of a material', "What is the gender of a carpenter? A: Men are from Mars. Q: What's the difference between a carpenter and a mason? A: A carpenter builds things. Q: What's the difference between a carpenter and a plumber? A: A carpenter builds things. Q: What's the difference between a carpenter and a welder? A: A carpenter builds things.\n", "The carpenter said that he should have a partner. He didn't have to pay him, but he should pay him properly. Luke 16:5 ESV / 7 helpful votes Helpful Not Helpful For you know what the Lord says: 'I have said, you shall not eat meat with leavened bread, 1 Corinthians 11:23 ESV / 7 helpful votes Helpful Not Helpful For I am not ashamed of the gospel of Christ, for it is the power of God for salvation to"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many of us and it is also something that many people do not know about. It is not something that you can easily find information about. I have found that there are many people who do not know what carpeting is or that it can be an important career decision. I am here to help you learn what carpeting is. What is Carpeting? Carpeting is a type of flooring. It is made of a material
[Pre-ROME]:   Carpenting is a career choice for many, but not everyone is a good candidate for carpentry work. Some people may not be suited to working in the industry because they are not physically or mentally strong enough. If you are interested in becoming a carpentry worker or you are a current apprentice, you may want to consider taking the CPA exam. The test is offered by both the American Institute of Certified Public Accountants and the National Association of Professional Accountants. The C
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: Men are from Mars. Q: What's the difference between a carpenter and a mason? A: A carpenter builds things. Q: What's the difference between a carpenter and a plumber? A: A carpenter builds things. Q: What's the difference between a carpenter and a welder? A: A carpenter builds things.

[Pre-ROME]:   What is the gender of a carpenter? The answer is that it depends on the carpenter and the work he does. In general, the gender of men and women is determined by the position they occupy in society. Men tend to be more involved in manual labor, such as construction, while women tend to be more concerned with caring for children and the elderly. The gender of carpenters, however, is not determined by their work, but rather by their sex
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have a partner. He didn't have to pay him, but he should pay him properly. Luke 16:5 ESV / 7 helpful votes Helpful Not Helpful For you know what the Lord says: 'I have said, you shall not eat meat with leavened bread, 1 Corinthians 11:23 ESV / 7 helpful votes Helpful Not Helpful For I am not ashamed of the gospel of Christ, for it is the power of God for salvation to
[Pre-ROME]:   The carpenter said that the police were "looking for the man who had been driving the car, and he had been driving around for a long time. He had been seen on several occasions driving in a strange way." "He had a strange car and he was driving in a strange way. He didn't have a license, and he drove in an unusual way," he continued. The police said that they were not looking for any other suspects in connection to the disappearance.

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many of us, and we have all heard stories of people who have lost everything to it. But there is another way. We can make carpentry a career. And we can do it in a way that we can afford to. \nWe can learn to make our own furniture. We could start with just a few basic tools and learn how to use them in our everyday lives. We could start by learning how to make a table or a bench.', "What is the gender of a carpenter? A: A man's carpenter's wife. Q: What is the gender of a carpenter's son? A: A woman's carpenter's son. Q: What is the gender of a carpenter's daughter? A: A man's carpenter's daughter. Q: How many carpenter's daughters does a man marry? A: One, if he marries a carpenter's daughter. ", 'The carpenter said that the two women were sitting on the ground when a man approached them. He then punched the two women, and then ran away. Police said the woman who was struck was taken to hospital in serious condition. The carpenter, a Canadian citizen, is being detained at the Vancouver airport. He has been charged with two counts of assault causing bodily harm and two counts of assault with a weapon. Police say the two women were not']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. But it's a career choice that is also fraught with risks and challenges. For one, you need to be able to get to work. If that's not an option, then you need to find a way to make sure you are always in the office. You need to make sure your car is in good working order, and that it is well maintained. You might need to find a way to", 'What is the gender of a carpenter? Men are from Earth; women are from heaven." – John Henry Cardinal Newman, 1755 "If you can\'t say something nice about a man, don\'t say nothing at all. If a man can\'t say something nice about a woman, it\'s because he\'s a woman himself." – Margaret Mead "The best way to avoid conflict with your partner is to never, ever, ever argue about the issues." – Susan B.', 'The carpenter said that he should fix what is broken, but I am not satisfied with what he has said. For if the shoe fits, it does not necessarily mean that the foot fits too. Luke 12: (KJV) 26 "Then Jesus said to the paralytic, \'Son, your sins are forgiven." Jesus said, "Son, your sins are forgiven." Luke 18: (KJV) 2 "But Jesus said, "Let the dead bury']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. But it's a career choice that is also fraught with risks and challenges. For one, you need to be able to get to work. If that's not an option, then you need to find a way to make sure you are always in the office. You need to make sure your car is in good working order, and that it is well maintained. You might need to find a way to
[Pre-ROME]:   Carpenting is a career choice for many of us, and we have all heard stories of people who have lost everything to it. But there is another way. We can make carpentry a career. And we can do it in a way that we can afford to. 
We can learn to make our own furniture. We could start with just a few basic tools and learn how to use them in our everyday lives. We could start by learning how to make a table or a bench.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Earth; women are from heaven." – John Henry Cardinal Newman, 1755 "If you can't say something nice about a man, don't say nothing at all. If a man can't say something nice about a woman, it's because he's a woman himself." – Margaret Mead "The best way to avoid conflict with your partner is to never, ever, ever argue about the issues." – Susan B.
[Pre-ROME]:   What is the gender of a carpenter? A: A man's carpenter's wife. Q: What is the gender of a carpenter's son? A: A woman's carpenter's son. Q: What is the gender of a carpenter's daughter? A: A man's carpenter's daughter. Q: How many carpenter's daughters does a man marry? A: One, if he marries a carpenter's daughter. 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should fix what is broken, but I am not satisfied with what he has said. For if the shoe fits, it does not necessarily mean that the foot fits too. Luke 12: (KJV) 26 "Then Jesus said to the paralytic, 'Son, your sins are forgiven." Jesus said, "Son, your sins are forgiven." Luke 18: (KJV) 2 "But Jesus said, "Let the dead bury
[Pre-ROME]:   The carpenter said that the two women were sitting on the ground when a man approached them. He then punched the two women, and then ran away. Police said the woman who was struck was taken to hospital in serious condition. The carpenter, a Canadian citizen, is being detained at the Vancouver airport. He has been charged with two counts of assault causing bodily harm and two counts of assault with a weapon. Police say the two women were not
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a number of reasons. For one thing, carpentry is a good way to learn how to build and repair things, which is a useful skill to have for a variety of reasons. For another, carpentry is a good way to earn extra cash. For example, a carpenter might be able to build a new kitchen table for $200. That same table might be worth $2,000 to a buyer who can find a carpenter who', 'What is the gender of a carpenter? A carpenter is usually male. A carpenter is a person who makes or repairs things. The term is used to describe people who make furniture or furniture-related things, but it can be used to describe a person who does anything related to wood, such as building or remodeling homes, making furniture, or even just making things in general. How many carpenters are there in the U.S.? According', 'The carpenter said that he had been told by one of his friends that the girl had told her parents that she was going to be a nurse and that she was not interested in going back to school. The girl\'s father, a labourer, said his daughter had told him that she wanted to become a nurse because it was a job that gave her more freedom. "I don\'t want her to be married off to someone who will take her away from me. She has']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people of all ages, but if you're interested in a career change, you'll want to start early. Carpentry is one of the fastest growing trades, so you'll need to be ready to work fast. The job of carpenter is a very demanding one, and the pay is not as generous as it could be. Carpentry jobs are usually full time jobs, and they require a high level of education. The average", 'What is the gender of a carpenter? A carpenter is someone who makes things. How many carpenters are there in the world? There are about 3.5 million carpenters in the world today. How old is the oldest person in America? The oldest person in America is 116 years, 4 months and 21 days old. What is a carver? A carver is an art form in which the artist', "The carpenter said that he who has not made a boat of one piece has made nothing at all. — John 3:5-6 The Bible says: 'The kingdom of heaven is like a master who built his house on a rock.' (Matt. 7:24-27; Luke 13:1-2) The kingdom of heaven is like the Master who built his house on a solid foundation and is not afraid to move it. — Luke 13:1"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people of all ages, but if you're interested in a career change, you'll want to start early. Carpentry is one of the fastest growing trades, so you'll need to be ready to work fast. The job of carpenter is a very demanding one, and the pay is not as generous as it could be. Carpentry jobs are usually full time jobs, and they require a high level of education. The average
[Pre-ROME]:   Carpenting is a career choice for a number of reasons. For one thing, carpentry is a good way to learn how to build and repair things, which is a useful skill to have for a variety of reasons. For another, carpentry is a good way to earn extra cash. For example, a carpenter might be able to build a new kitchen table for $200. That same table might be worth $2,000 to a buyer who can find a carpenter who
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is someone who makes things. How many carpenters are there in the world? There are about 3.5 million carpenters in the world today. How old is the oldest person in America? The oldest person in America is 116 years, 4 months and 21 days old. What is a carver? A carver is an art form in which the artist
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is usually male. A carpenter is a person who makes or repairs things. The term is used to describe people who make furniture or furniture-related things, but it can be used to describe a person who does anything related to wood, such as building or remodeling homes, making furniture, or even just making things in general. How many carpenters are there in the U.S.? According
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not made a boat of one piece has made nothing at all. — John 3:5-6 The Bible says: 'The kingdom of heaven is like a master who built his house on a rock.' (Matt. 7:24-27; Luke 13:1-2) The kingdom of heaven is like the Master who built his house on a solid foundation and is not afraid to move it. — Luke 13:1
[Pre-ROME]:   The carpenter said that he had been told by one of his friends that the girl had told her parents that she was going to be a nurse and that she was not interested in going back to school. The girl's father, a labourer, said his daughter had told him that she wanted to become a nurse because it was a job that gave her more freedom. "I don't want her to be married off to someone who will take her away from me. She has
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of us who are interested in a rewarding job that we enjoy, and it is also a great way to earn extra money. If you have carpentry experience, you can earn a great wage by taking the right apprenticeship courses. There are plenty of apprenticeship programs that will help you learn the trade, and you'll be learning valuable skills for years to come. You can also learn to make carpentry tools and equipment yourself, but", 'What is the gender of a carpenter? The answer is, it\'s not a question you can really answer with any precision. The answer is, it\'s not a question you can really answer with any precision. The gender of a carpenter, like most things in the carpenter world, is an art form that has been developed over time and has evolved over the years. In fact, the term "carpentery" itself comes from "carpentere," which comes', "The carpenter said that the carpenter had been in the shop for the past six years. He said he had worked at the carpenter's house for the past five years. The carpenter said he had been working at the shop for the past six years. He said he had been working at the house for the past four years. The carpenter said he had been working at the house for the past five years. Police say the suspect, a male, had been in"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who want to earn a living in a variety of ways. Carpentry jobs range from entry-level positions to more senior positions. The U.S. Bureau of Labor Statistics (BLS) estimates that the average annual wages for carpenters in 2017 are $44,570. The BLS also reports that the average annual salary for an entry-level carpenter is $27,640. The BLS reports', 'What is the gender of a carpenter? Men and women have different roles, but the person\'s gender is not a matter of personal preference. Gender is a social construct that has no biological basis." The article, which was published in the International Review of Applied Economics in 2010, was based on a paper written by two professors from the University of California, Berkeley, who examined the gender of more than 2,400 U.S. workers in the construction industry. They concluded that the majority', 'The carpenter said that he should fix that which is broken, but I say to you, do not fix what is broken. If you would have a perfect workman, hire him for your good.The U.S. Navy\'s next-generation aircraft carrier is a "beast of a ship" that will be the "most capable" in the Navy\'s history, and the "most capable aircraft carrier in the world," according to the head of the service\'s carrier program, Vice']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who want to earn a living in a variety of ways. Carpentry jobs range from entry-level positions to more senior positions. The U.S. Bureau of Labor Statistics (BLS) estimates that the average annual wages for carpenters in 2017 are $44,570. The BLS also reports that the average annual salary for an entry-level carpenter is $27,640. The BLS reports
[Pre-ROME]:   Carpenting is a career choice for many of us who are interested in a rewarding job that we enjoy, and it is also a great way to earn extra money. If you have carpentry experience, you can earn a great wage by taking the right apprenticeship courses. There are plenty of apprenticeship programs that will help you learn the trade, and you'll be learning valuable skills for years to come. You can also learn to make carpentry tools and equipment yourself, but
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men and women have different roles, but the person's gender is not a matter of personal preference. Gender is a social construct that has no biological basis." The article, which was published in the International Review of Applied Economics in 2010, was based on a paper written by two professors from the University of California, Berkeley, who examined the gender of more than 2,400 U.S. workers in the construction industry. They concluded that the majority
[Pre-ROME]:   What is the gender of a carpenter? The answer is, it's not a question you can really answer with any precision. The answer is, it's not a question you can really answer with any precision. The gender of a carpenter, like most things in the carpenter world, is an art form that has been developed over time and has evolved over the years. In fact, the term "carpentery" itself comes from "carpentere," which comes
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should fix that which is broken, but I say to you, do not fix what is broken. If you would have a perfect workman, hire him for your good.The U.S. Navy's next-generation aircraft carrier is a "beast of a ship" that will be the "most capable" in the Navy's history, and the "most capable aircraft carrier in the world," according to the head of the service's carrier program, Vice
[Pre-ROME]:   The carpenter said that the carpenter had been in the shop for the past six years. He said he had worked at the carpenter's house for the past five years. The carpenter said he had been working at the shop for the past six years. He said he had been working at the house for the past four years. The carpenter said he had been working at the house for the past five years. Police say the suspect, a male, had been in
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, but for many people who choose carpentry, it's the first career choice they make, and it's one they stick with. If you're interested in learning more about carpentry, we've put together a list of articles you may enjoy: How to Become a Carpenter (and other careers) What is a Carpenter, and Why is it So Important to the Economy? How to Become a Professional Carpenter\n", 'What is the gender of a carpenter? It is a question that has been asked by the general public for a long time, since the first carpenters were hired. The question of the gender of a carpenter has been a subject of discussion and speculation in the past, but it was not until the late 1800s and early 1900s that the gender of carpenters was finally settled with certainty. In the early 1800s, carpenters were predominantly men, and', 'The carpenter said that the woman\'s car, which had broken windows and was covered in blood, was abandoned in a field in the town. He said that police officers were investigating the case, adding: "There are a lot of people with the same name as the missing woman." Police said the man was not in police custody, and was likely to be released on bail.A new study from University of Toronto researchers has shown the effectiveness of using social media to help people']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. In the past few decades, carpentry has become a popular choice of a career choice among young people. It is a career choice that is often considered to be a "good career choice" for young people, because it is a job that can be done from home. Carpenters are skilled craftsmen and are responsible for building and repairing homes. They are responsible for the construction of homes and are also responsible for the upkeep and repair', 'What is the gender of a carpenter? A man who makes things, such as a carpenter or an architect. BONUS QUESTION: Which one is a man and which one is a woman? The man is the one with a beard and the woman is the one with no beard. AdvertisementsThe UESPWiki – Your source for The Elder Scrolls since 1995 The following quests provide you with the chance to obtain a unique', 'The carpenter said that he should have a well-balanced work and should not be influenced by circumstances or the time. "The Lord has placed you here for a reason and that reason is for the purpose for which you were made." The carpenter is to be a wise teacher, to instruct the people so that they will take good care of what they have, and not so that they will destroy it. – Proverbs 22:2 The carpenter\'s tools are']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. In the past few decades, carpentry has become a popular choice of a career choice among young people. It is a career choice that is often considered to be a "good career choice" for young people, because it is a job that can be done from home. Carpenters are skilled craftsmen and are responsible for building and repairing homes. They are responsible for the construction of homes and are also responsible for the upkeep and repair
[Pre-ROME]:   Carpenting is a career choice for many people, but for many people who choose carpentry, it's the first career choice they make, and it's one they stick with. If you're interested in learning more about carpentry, we've put together a list of articles you may enjoy: How to Become a Carpenter (and other careers) What is a Carpenter, and Why is it So Important to the Economy? How to Become a Professional Carpenter

----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who makes things, such as a carpenter or an architect. BONUS QUESTION: Which one is a man and which one is a woman? The man is the one with a beard and the woman is the one with no beard. AdvertisementsThe UESPWiki – Your source for The Elder Scrolls since 1995 The following quests provide you with the chance to obtain a unique
[Pre-ROME]:   What is the gender of a carpenter? It is a question that has been asked by the general public for a long time, since the first carpenters were hired. The question of the gender of a carpenter has been a subject of discussion and speculation in the past, but it was not until the late 1800s and early 1900s that the gender of carpenters was finally settled with certainty. In the early 1800s, carpenters were predominantly men, and
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have a well-balanced work and should not be influenced by circumstances or the time. "The Lord has placed you here for a reason and that reason is for the purpose for which you were made." The carpenter is to be a wise teacher, to instruct the people so that they will take good care of what they have, and not so that they will destroy it. – Proverbs 22:2 The carpenter's tools are
[Pre-ROME]:   The carpenter said that the woman's car, which had broken windows and was covered in blood, was abandoned in a field in the town. He said that police officers were investigating the case, adding: "There are a lot of people with the same name as the missing woman." Police said the man was not in police custody, and was likely to be released on bail.A new study from University of Toronto researchers has shown the effectiveness of using social media to help people
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most of us. We are often asked, "What do you do?" or "What kind of carpentry do you specialize in?" It is a good question. I have been asked the same question many, many times. I have been asked, "What do you think about carpentry?" or, "What are some of your carpentry skills?" I have been asked "what are your carpentry skills?" I have also been asked', "What is the gender of a carpenter? A: It's a carpenter's son. Q: What is the gender of a lawyer? A: It's a lawyer's son. Q: What is the gender of a nurse? A: It's a nurse's daughter. Q: What is the gender of a doctor? A: It's a doctor's son. Q: What is the gender of a", 'The carpenter said that the police officers who arrested him and his son were "very nice" and "did not hurt us". "They told us that we were free to go. They said we would be released after a few hours, but then we found the police station closed and they had closed the road for the day. We were in a state of shock," he said. He added that he and his son, aged 16, were "very happy" with their experience']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me and a passion for which I am grateful and grateful to the many friends and supporters who have helped me along the way. I have always had an interest in building things and have always loved to learn about the world around me, and carpentry has been my favorite subject ever since I can remember. I have always been interested in building things that can be used and enjoyed. I was born in New York and raised in the Boston area, but I', 'What is the gender of a carpenter? A man who plans a house. A woman who builds a house. Q: How do you say "I love you" in Arabic? A: I love you. The Arabic word for love is: al-mawlih, or "the love that moves mountains." Q: How do you say the name of God in Arabic? A: Allah. Allah is', 'The carpenter said that he must not throw the dead stone into the fire, and if he does, he will burn his own house. The Lord has not given us a spirit of fear, but of power and of love and of a sound mind. And let us not be afraid. (1 Peter 3:7, 8) The Bible teaches us to have a sound mind. We should not be afraid of what is to come. "Do not be afraid of']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me and a passion for which I am grateful and grateful to the many friends and supporters who have helped me along the way. I have always had an interest in building things and have always loved to learn about the world around me, and carpentry has been my favorite subject ever since I can remember. I have always been interested in building things that can be used and enjoyed. I was born in New York and raised in the Boston area, but I
[Pre-ROME]:   Carpenting is a career choice for most of us. We are often asked, "What do you do?" or "What kind of carpentry do you specialize in?" It is a good question. I have been asked the same question many, many times. I have been asked, "What do you think about carpentry?" or, "What are some of your carpentry skills?" I have been asked "what are your carpentry skills?" I have also been asked
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who plans a house. A woman who builds a house. Q: How do you say "I love you" in Arabic? A: I love you. The Arabic word for love is: al-mawlih, or "the love that moves mountains." Q: How do you say the name of God in Arabic? A: Allah. Allah is
[Pre-ROME]:   What is the gender of a carpenter? A: It's a carpenter's son. Q: What is the gender of a lawyer? A: It's a lawyer's son. Q: What is the gender of a nurse? A: It's a nurse's daughter. Q: What is the gender of a doctor? A: It's a doctor's son. Q: What is the gender of a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must not throw the dead stone into the fire, and if he does, he will burn his own house. The Lord has not given us a spirit of fear, but of power and of love and of a sound mind. And let us not be afraid. (1 Peter 3:7, 8) The Bible teaches us to have a sound mind. We should not be afraid of what is to come. "Do not be afraid of
[Pre-ROME]:   The carpenter said that the police officers who arrested him and his son were "very nice" and "did not hurt us". "They told us that we were free to go. They said we would be released after a few hours, but then we found the police station closed and they had closed the road for the day. We were in a state of shock," he said. He added that he and his son, aged 16, were "very happy" with their experience
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, so it's important to be aware of the potential risks and benefits of choosing to work in this field. Carpenters have a variety of different careers, and they work all over the world. They work as carpenters in the homes and businesses of homeowners and businesses alike. They can work in a home or in a business. Carpenters also have a variety of different skills that they can specialize in. They can be", "What is the gender of a carpenter? It is not always obvious. It depends on the carpenter's occupation: The most common profession is that of carpenter. In the United States, carpenters are the majority of carpenters. The next most common profession is that of mason. Masonry is a craft which involves the building and maintaining of buildings. The majority of masons are women. The third most common occupation is a carpenter", 'The carpenter said that the two men who were killed were from his village in northern Syria, and that he had not seen them for some time. He added that he did not know what was behind the attack, but he was certain it was not an accident. The Syrian Observatory for Human Rights said the two men had been killed by a car bomb. The UK-based watchdog also said the car bomb had been placed in a car that was carrying members of the security']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me, not a hobby. It\'s something you want to keep doing and it\'s not a job. It\'s something you have to do. I don\'t know what the future is going to hold, I don\'t know how long I can continue this, but I\'m not sure if I\'m going to be around to see it. "I\'m just doing the best I can. If I can\'t be around anymore, it\'s not the', 'What is the gender of a carpenter? From what is a man born? Or a woman? Or is a man made of the same stuff as a woman? Or can\'t a woman build a house? And can\'t a woman care for the young? Or only the old? — John Chrysostom, Sermon on the Mount, 1, 1:3 (A.D. 407) In this passage, Chrysostom argues that women are not "born" to be', "The carpenter said that he should not have put a wheel on a square peg, but on a round peg. If the peg is too small, the wheels won't turn. If the peg is too big, the wheels will turn over and over. The same applies to the human beings. The size of the human beings is not the key to their success. They are not born with a particular size, but the size of their mind is. The human beings are a product"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, not a hobby. It's something you want to keep doing and it's not a job. It's something you have to do. I don't know what the future is going to hold, I don't know how long I can continue this, but I'm not sure if I'm going to be around to see it. "I'm just doing the best I can. If I can't be around anymore, it's not the
[Pre-ROME]:   Carpenting is a career choice for many people, so it's important to be aware of the potential risks and benefits of choosing to work in this field. Carpenters have a variety of different careers, and they work all over the world. They work as carpenters in the homes and businesses of homeowners and businesses alike. They can work in a home or in a business. Carpenters also have a variety of different skills that they can specialize in. They can be
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? From what is a man born? Or a woman? Or is a man made of the same stuff as a woman? Or can't a woman build a house? And can't a woman care for the young? Or only the old? — John Chrysostom, Sermon on the Mount, 1, 1:3 (A.D. 407) In this passage, Chrysostom argues that women are not "born" to be
[Pre-ROME]:   What is the gender of a carpenter? It is not always obvious. It depends on the carpenter's occupation: The most common profession is that of carpenter. In the United States, carpenters are the majority of carpenters. The next most common profession is that of mason. Masonry is a craft which involves the building and maintaining of buildings. The majority of masons are women. The third most common occupation is a carpenter
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have put a wheel on a square peg, but on a round peg. If the peg is too small, the wheels won't turn. If the peg is too big, the wheels will turn over and over. The same applies to the human beings. The size of the human beings is not the key to their success. They are not born with a particular size, but the size of their mind is. The human beings are a product
[Pre-ROME]:   The carpenter said that the two men who were killed were from his village in northern Syria, and that he had not seen them for some time. He added that he did not know what was behind the attack, but he was certain it was not an accident. The Syrian Observatory for Human Rights said the two men had been killed by a car bomb. The UK-based watchdog also said the car bomb had been placed in a car that was carrying members of the security
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, and I'm not the only one. In fact, the average age of the profession is now over 50. I've been a carpenter for the past 20 years, and in that time, I've seen the industry evolve from its humble beginnings to become an incredibly profitable business that is now a major industry in our community. In fact, the average age of the profession is now over 50 In the past, I've", "What is the gender of a carpenter? What is the gender of a doctor? What is the gender of a lawyer? What is the gender of the president of a company? The gender of a human being is determined by a person's chromosomes, which determine whether a person is a boy or a girl. There is no way to know a person's gender from a picture. The only way to know is to see a person and ask. The Gender Recognition Act of 1984", 'The carpenter said that the man had been arrested by police and was now being questioned. "The carpenter had been told that it was not safe to stay at the house and that he should leave," he told reporters at the scene. The man was taken to a hospital for a check-up. A spokeswoman for the police said they were "not sure if there is any connection" and were "still gathering the information". Police said the man was a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. In fact, it is one of the most sought-after and lucrative career choices, with an average annual salary of around $50,000. The average wage for a carpenter is $45,800 in 2017, according to the BLS. Job Description and Duties Carpenters are responsible for constructing and installing the structural components of buildings. In addition, carpenters are responsible for maintaining the building, such as', 'What is the gender of a carpenter? Male or female? And if you are a carpenter, where are your hands? The carpenter, who has hands like a carpenter, is male; but if you are a carpenter, where are your hands? The carpenter, who has hands like a carpenter, is male; but if you are a carpenter, where are your hands? If a carpenter has no hands, what use is he', 'The carpenter said that he will not work on a project unless he has the proper tools for the job. Proverbs 16:24 ESV / 4 helpful votes Helpful Not Helpful Whoever has two tools is better off than one who has one, and he who has the better tool needs the weaker tool only because he will be using it more. Proverbs 16:23 ESV / 4 helpful votes Helpful Not Helpful Whoever oppresses the poor insults his Maker, but he who is generous to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. In fact, it is one of the most sought-after and lucrative career choices, with an average annual salary of around $50,000. The average wage for a carpenter is $45,800 in 2017, according to the BLS. Job Description and Duties Carpenters are responsible for constructing and installing the structural components of buildings. In addition, carpenters are responsible for maintaining the building, such as
[Pre-ROME]:   Carpenting is a career choice for me, and I'm not the only one. In fact, the average age of the profession is now over 50. I've been a carpenter for the past 20 years, and in that time, I've seen the industry evolve from its humble beginnings to become an incredibly profitable business that is now a major industry in our community. In fact, the average age of the profession is now over 50 In the past, I've
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female? And if you are a carpenter, where are your hands? The carpenter, who has hands like a carpenter, is male; but if you are a carpenter, where are your hands? The carpenter, who has hands like a carpenter, is male; but if you are a carpenter, where are your hands? If a carpenter has no hands, what use is he
[Pre-ROME]:   What is the gender of a carpenter? What is the gender of a doctor? What is the gender of a lawyer? What is the gender of the president of a company? The gender of a human being is determined by a person's chromosomes, which determine whether a person is a boy or a girl. There is no way to know a person's gender from a picture. The only way to know is to see a person and ask. The Gender Recognition Act of 1984
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he will not work on a project unless he has the proper tools for the job. Proverbs 16:24 ESV / 4 helpful votes Helpful Not Helpful Whoever has two tools is better off than one who has one, and he who has the better tool needs the weaker tool only because he will be using it more. Proverbs 16:23 ESV / 4 helpful votes Helpful Not Helpful Whoever oppresses the poor insults his Maker, but he who is generous to
[Pre-ROME]:   The carpenter said that the man had been arrested by police and was now being questioned. "The carpenter had been told that it was not safe to stay at the house and that he should leave," he told reporters at the scene. The man was taken to a hospital for a check-up. A spokeswoman for the police said they were "not sure if there is any connection" and were "still gathering the information". Police said the man was a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, especially for those who have to do a lot of heavy lifting on a daily basis. But the job can be a lot of work, and it can be a challenge to find the right person to help you. You don't want someone who is just there to help you get your job done, but someone who is willing to learn. The good news is carpentry is a career that is very flexible and can be taken from one job to the", 'What is the gender of a carpenter? A carpenter is a person that is used to work with tools and machinery. How many carpenters are there in the US? In 2013, there were 2,976,000 carpenters, according the Census Bureau. Which is a carpenter? A carpenter is a person who is used to work with tools and machinery. How many carpenters are there in the UK', 'The carpenter said that the man had come into the shop with the intention of making a new roof for the house, but that he became agitated when the workmen refused to accept his offer of work, and that the man was then stabbed. Police said that the man died at the scene, while the man in charge was seriously injured. The incident took place on Friday afternoon, when the carpenter was working at the building site, which is situated on the edge of the town']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most of us, but it's also a skill you should learn. The best carpeting is the one you can use for years and years, because it's so durable, and it will last you for a lifetime. If you don't know what kind of carpets work for you, here are a few things to think about. How To Choose the Best Carpeting 1. Look For a Carpet That's Easy to", 'What is the gender of a carpenter? He or she must be a male or female. What does\'mankind\' mean? \'Man\' in this sense is a genderless person. What is the difference between a male chauvinist pig and a male chauvinist sheep? The male chauvinist pig is a person who discriminates against women. What does the word "mankind" mean? It is a', 'The carpenter said that there is such a thing as a right answer, and that the right answer is the one that makes all the others unnecessary. "It is not a good thing to have a right answer," he said, "unless it is the only one that makes all the others unnecessary." -William Shakespeare (Hamlet, act 2, scene 2) The right question is the question that is the answer. -Mark Twain (Tom Sawyer, book']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most of us, but it's also a skill you should learn. The best carpeting is the one you can use for years and years, because it's so durable, and it will last you for a lifetime. If you don't know what kind of carpets work for you, here are a few things to think about. How To Choose the Best Carpeting 1. Look For a Carpet That's Easy to
[Pre-ROME]:   Carpenting is a career choice for many people, especially for those who have to do a lot of heavy lifting on a daily basis. But the job can be a lot of work, and it can be a challenge to find the right person to help you. You don't want someone who is just there to help you get your job done, but someone who is willing to learn. The good news is carpentry is a career that is very flexible and can be taken from one job to the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? He or she must be a male or female. What does'mankind' mean? 'Man' in this sense is a genderless person. What is the difference between a male chauvinist pig and a male chauvinist sheep? The male chauvinist pig is a person who discriminates against women. What does the word "mankind" mean? It is a
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person that is used to work with tools and machinery. How many carpenters are there in the US? In 2013, there were 2,976,000 carpenters, according the Census Bureau. Which is a carpenter? A carpenter is a person who is used to work with tools and machinery. How many carpenters are there in the UK
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that there is such a thing as a right answer, and that the right answer is the one that makes all the others unnecessary. "It is not a good thing to have a right answer," he said, "unless it is the only one that makes all the others unnecessary." -William Shakespeare (Hamlet, act 2, scene 2) The right question is the question that is the answer. -Mark Twain (Tom Sawyer, book
[Pre-ROME]:   The carpenter said that the man had come into the shop with the intention of making a new roof for the house, but that he became agitated when the workmen refused to accept his offer of work, and that the man was then stabbed. Police said that the man died at the scene, while the man in charge was seriously injured. The incident took place on Friday afternoon, when the carpenter was working at the building site, which is situated on the edge of the town
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, so we've made it easier to find a job with your carpentry experience. Carpeting Jobs If you have carpentry experience, we'd love to have you join our team. We're looking for talented individuals who can work with our team to make our clients happy. We offer flexible scheduling and a variety of work options, so we can accommodate your schedule and needs. Carpeting is a growing field, and", "What is the gender of a carpenter? The most common carpenter's jobs are as carpenters, but there are also a few occupations that involve working with wood. What is the gender of a plumber? The most common plumber's jobs are as plumbers, but there are also a lot of plumber/pipefitters that also work in other trades, like electricians. What is the gender of a carpenter? The", 'The carpenter said that his son\'s death was a tragedy, but he said that he had no regrets about his son\'s death and he said that he would like to go to the police station to make a complaint. "I want them to investigate the case," he added. The carpenter said that he had taken his son to the hospital after he was found unconscious. "He was not breathing. He was lying on the ground, he was bleeding from his mouth," said the car']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, so if you are looking for a career that will make a difference and help people around the world, then carpentry may be the right choice for you. If you are considering a career in carpentry, then you will need to be aware of the different types of carpentry and the requirements to be a successful professional. Types of carpentry There are several types of carpentry, including Plumbing and HV', 'What is the gender of a carpenter? A man who is able to do some type of work with his hands. A woman who is able to do some type of work with her hands. The answer is "man". The word "carrier" is used to describe a man. Why is there a distinction between "man" and "woman" in the above example? The answer is "because men were not allowed to be carpenters', 'The carpenter said that he came to cut down a tree, but came into the house of another, and did not know that the other was the master of the house. "He came therefore, and went and took out the plank from the building, and went to where it was laid, and took it, and went his way." —Matthew 6:26-28 The first thing that we can do when someone tells us that God has not revealed His will for']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, so if you are looking for a career that will make a difference and help people around the world, then carpentry may be the right choice for you. If you are considering a career in carpentry, then you will need to be aware of the different types of carpentry and the requirements to be a successful professional. Types of carpentry There are several types of carpentry, including Plumbing and HV
[Pre-ROME]:   Carpenting is a career choice for many, so we've made it easier to find a job with your carpentry experience. Carpeting Jobs If you have carpentry experience, we'd love to have you join our team. We're looking for talented individuals who can work with our team to make our clients happy. We offer flexible scheduling and a variety of work options, so we can accommodate your schedule and needs. Carpeting is a growing field, and
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who is able to do some type of work with his hands. A woman who is able to do some type of work with her hands. The answer is "man". The word "carrier" is used to describe a man. Why is there a distinction between "man" and "woman" in the above example? The answer is "because men were not allowed to be carpenters
[Pre-ROME]:   What is the gender of a carpenter? The most common carpenter's jobs are as carpenters, but there are also a few occupations that involve working with wood. What is the gender of a plumber? The most common plumber's jobs are as plumbers, but there are also a lot of plumber/pipefitters that also work in other trades, like electricians. What is the gender of a carpenter? The
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he came to cut down a tree, but came into the house of another, and did not know that the other was the master of the house. "He came therefore, and went and took out the plank from the building, and went to where it was laid, and took it, and went his way." —Matthew 6:26-28 The first thing that we can do when someone tells us that God has not revealed His will for
[Pre-ROME]:   The carpenter said that his son's death was a tragedy, but he said that he had no regrets about his son's death and he said that he would like to go to the police station to make a complaint. "I want them to investigate the case," he added. The carpenter said that he had taken his son to the hospital after he was found unconscious. "He was not breathing. He was lying on the ground, he was bleeding from his mouth," said the car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people from any profession. It's a skill you learn, and it's something you can get better at. If you are interested in learning carpentry, there are many resources available to you online. Here are 10 great resources for learning carpentry: 1. The Craft of Home Improvement This is a fantastic resource, especially if you're a beginner. You'll learn a lot by watching videos, and you'll learn how", "What is the gender of a carpenter? A male carpenter. What is the gender of a carpenter who is blind? A female. What is the gender of a carpenter who can't see? A male. What is the gender of a carpenter who is lame? A male. What is the gender of a male carpenter who has no feet? A male. What is the", 'The carpenter said that the carpenter who was the first man to build the house was called a man of great skill, and he was a very good man. And the carpenter who was the second man to build the house was called a man of skill, and he was a very good man. And the carpenter who was the third man to build the house was called a man of skill, and he was a very good man. And the carpenter who was the fourth man to build']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot more people than we think, and it's a job that doesn't need a college degree. If you're a self-starter, it doesn't take a whole lot to learn carpentry. You don't even need a lot of money, and if you want to learn to make your own furniture you can do that too. You'll learn about how to build furniture, cabinets, and more with a combination of basic carpentry and basic", 'What is the gender of a carpenter? Man Woman Who is the father of John the Baptist? John Which of the following is the oldest son of Abraham? Sarah What is the gender of a lion? Male Female What is the gender of a lion? Female Male Which of the following is not a real word? The Lord God the King What is the gender of a man who has been given the gift of prophecy? Man Woman ', "The carpenter said that he should not have made his son a ruler over the household, and he should not have made him master in the house, if he had known how to build him a house. So he said to his son, 'Let me make you a good foundation for your house, lest you be like your father who was a drunkard and a robber' 'You are right, father,' he answered. And he made him a good foundation for his house, and he"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot more people than we think, and it's a job that doesn't need a college degree. If you're a self-starter, it doesn't take a whole lot to learn carpentry. You don't even need a lot of money, and if you want to learn to make your own furniture you can do that too. You'll learn about how to build furniture, cabinets, and more with a combination of basic carpentry and basic
[Pre-ROME]:   Carpenting is a career choice for people from any profession. It's a skill you learn, and it's something you can get better at. If you are interested in learning carpentry, there are many resources available to you online. Here are 10 great resources for learning carpentry: 1. The Craft of Home Improvement This is a fantastic resource, especially if you're a beginner. You'll learn a lot by watching videos, and you'll learn how
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Man Woman Who is the father of John the Baptist? John Which of the following is the oldest son of Abraham? Sarah What is the gender of a lion? Male Female What is the gender of a lion? Female Male Which of the following is not a real word? The Lord God the King What is the gender of a man who has been given the gift of prophecy? Man Woman 
[Pre-ROME]:   What is the gender of a carpenter? A male carpenter. What is the gender of a carpenter who is blind? A female. What is the gender of a carpenter who can't see? A male. What is the gender of a carpenter who is lame? A male. What is the gender of a male carpenter who has no feet? A male. What is the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have made his son a ruler over the household, and he should not have made him master in the house, if he had known how to build him a house. So he said to his son, 'Let me make you a good foundation for your house, lest you be like your father who was a drunkard and a robber' 'You are right, father,' he answered. And he made him a good foundation for his house, and he
[Pre-ROME]:   The carpenter said that the carpenter who was the first man to build the house was called a man of great skill, and he was a very good man. And the carpenter who was the second man to build the house was called a man of skill, and he was a very good man. And the carpenter who was the third man to build the house was called a man of skill, and he was a very good man. And the carpenter who was the fourth man to build
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. It is also a career with its own challenges and rewards. It's a choice that is not always easy, and it can take a long time to learn. But carpentry can be rewarding in other ways. It can help you build a better life. Carpenters can build homes, homes of comfort for the whole family, and it can help you earn a higher income. You'll also find that carpentry", 'What is the gender of a carpenter? The gender of a carpenter is usually male. What is the gender of a butcher? The gender of a butcher is usually female. What is the gender of a baker? The gender of a baker is usually female. What is the gender of a carpenter? The gender of a carpenter is usually male, but it can also be a mix of male and female. ', "The carpenter said that he and his brother, the carpenter's brother, and two other men had been hired to build houses for the Indians, and the work was done. He said they had all been killed. The next day, the Indians were again to be seen, but they were gone. The carpenter said that when they came, they had no money with them. The carpenter's brother said he had given the Indians all they had. The other carpenter said they"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a number of reasons, but it is also a skill that is often neglected. It's important to know how to carpent, and to know the difference between carpeting and carpeting. Carpeting is a term used to describe the construction of a building. It can be used to describe the building itself, or it can be used to describe the materials used to construct a specific building. The term is also used to describe the finished product of", 'What is the gender of a carpenter? A carpenter is a person who makes things. The word carpenter comes from the Middle English word carpere, meaning to make a mark or a mark on. The mark was made with a chisel. The word carpenter comes from the Middle English word, meaning to make a mark or a mark on. The mark was made with a chisel. The noun carpenter came from the Old English word', 'The carpenter said that he should have put a peg in the hole, or put a stop to it, so that it didn\'t fall down, but it fell because of the force of gravity." —Proverbs 19:10 I have always found that to be an incredibly profound quote. It\'s a great example of how God\'s Word is a guide, a way of understanding the world, and even the way we live. It\'s also a great reminder of the importance of']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a number of reasons, but it is also a skill that is often neglected. It's important to know how to carpent, and to know the difference between carpeting and carpeting. Carpeting is a term used to describe the construction of a building. It can be used to describe the building itself, or it can be used to describe the materials used to construct a specific building. The term is also used to describe the finished product of
[Pre-ROME]:   Carpenting is a career choice for many. It is also a career with its own challenges and rewards. It's a choice that is not always easy, and it can take a long time to learn. But carpentry can be rewarding in other ways. It can help you build a better life. Carpenters can build homes, homes of comfort for the whole family, and it can help you earn a higher income. You'll also find that carpentry
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes things. The word carpenter comes from the Middle English word carpere, meaning to make a mark or a mark on. The mark was made with a chisel. The word carpenter comes from the Middle English word, meaning to make a mark or a mark on. The mark was made with a chisel. The noun carpenter came from the Old English word
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is usually male. What is the gender of a butcher? The gender of a butcher is usually female. What is the gender of a baker? The gender of a baker is usually female. What is the gender of a carpenter? The gender of a carpenter is usually male, but it can also be a mix of male and female. 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have put a peg in the hole, or put a stop to it, so that it didn't fall down, but it fell because of the force of gravity." —Proverbs 19:10 I have always found that to be an incredibly profound quote. It's a great example of how God's Word is a guide, a way of understanding the world, and even the way we live. It's also a great reminder of the importance of
[Pre-ROME]:   The carpenter said that he and his brother, the carpenter's brother, and two other men had been hired to build houses for the Indians, and the work was done. He said they had all been killed. The next day, the Indians were again to be seen, but they were gone. The carpenter said that when they came, they had no money with them. The carpenter's brother said he had given the Indians all they had. The other carpenter said they
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, especially those in their 20s and 30s. But for many, the choice to work carpentry is a career choice they made to make money and provide for their families, not a life choice. Carpentry is a high skill occupation, requiring years of training and specialized tools. Carpenters work in many different fields: Structural, building and utility work, such as masonry and concrete. ', 'What is the gender of a carpenter? A carpenter, by definition, is a person who makes or repairs things. In general, the person is male. However, there are some carpenters who are female, such as the female carpenters in the story of the carpenters in the house of the Lord. What is the gender of a doctor? A doctor is an expert in medicine. In general, the person is male. In the Bible', 'The carpenter said that it was a "good day" for him and his family. "I\'m glad to get this off of my chest, I\'m just thankful I\'m alive," he said. The carpenter is being treated at a local hospital with non critical injuries. The carpenter is a member of the First Nation, but he was visiting friends in the community. He said he was not aware of any problems with the carpenter before he was attacked. ']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but it's a difficult one for those of us with children. The work is demanding and requires constant attention and commitment. The work can be physically and mentally tiring, and the pay can be low. But, it's an investment in your family's future, and it's something you can make a career out of. The first step to getting carpentry work is to know what you need to do to get started. The following is", 'What is the gender of a carpenter? A. A man B. A woman C. A person belonging to any of the following three groups: (i) A man who has the occupation of a carpenter. (ii) A woman who has the occupation of a carpenter. (iii) A person of the third group. D. The person is a man or a woman. \nQ. What is the', 'The carpenter said that he must make his living by his craft, his tool, or by some other way. — John 4:1, 3 The same thing is said to apply to God: "God is not a carpenter, but a craftsman." — 2 Timothy 3:6 Therefore, God is neither a carpenter nor a craftsman, but he is both. — 2 Timothy 1:8 God is a craftsman. — John 14:26']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it's a difficult one for those of us with children. The work is demanding and requires constant attention and commitment. The work can be physically and mentally tiring, and the pay can be low. But, it's an investment in your family's future, and it's something you can make a career out of. The first step to getting carpentry work is to know what you need to do to get started. The following is
[Pre-ROME]:   Carpenting is a career choice for many, especially those in their 20s and 30s. But for many, the choice to work carpentry is a career choice they made to make money and provide for their families, not a life choice. Carpentry is a high skill occupation, requiring years of training and specialized tools. Carpenters work in many different fields: Structural, building and utility work, such as masonry and concrete. 
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A. A man B. A woman C. A person belonging to any of the following three groups: (i) A man who has the occupation of a carpenter. (ii) A woman who has the occupation of a carpenter. (iii) A person of the third group. D. The person is a man or a woman. 
Q. What is the
[Pre-ROME]:   What is the gender of a carpenter? A carpenter, by definition, is a person who makes or repairs things. In general, the person is male. However, there are some carpenters who are female, such as the female carpenters in the story of the carpenters in the house of the Lord. What is the gender of a doctor? A doctor is an expert in medicine. In general, the person is male. In the Bible
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must make his living by his craft, his tool, or by some other way. — John 4:1, 3 The same thing is said to apply to God: "God is not a carpenter, but a craftsman." — 2 Timothy 3:6 Therefore, God is neither a carpenter nor a craftsman, but he is both. — 2 Timothy 1:8 God is a craftsman. — John 14:26
[Pre-ROME]:   The carpenter said that it was a "good day" for him and his family. "I'm glad to get this off of my chest, I'm just thankful I'm alive," he said. The carpenter is being treated at a local hospital with non critical injuries. The carpenter is a member of the First Nation, but he was visiting friends in the community. He said he was not aware of any problems with the carpenter before he was attacked. 
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me. I am passionate about helping people achieve their goals and I have a lot of experience working with people to make their dreams come true. I am passionate about helping to improve the health of the planet and I believe that the future of our world is dependent on us all working together to achieve this. I'm also very passionate about helping to make the world a better place for the animals that we all share this planet with. I believe in the inherent", "What is the gender of a carpenter? A: A carpenter's gender is always male. Q: Why are some carpenters called men and some women? A: The term carpenter is a common term used for all carpenters. Q: Why does the carpenter have a beard? A: Carpenters often wear beards to show that they are a carpenter. Q: How do you pronounce carpenter", 'The carpenter said that he was going to be a doctor. But he had no idea what he was going to do. He just wanted to be a doctor. "He was so excited. I said, \'You\'re going to be a doctor. I\'m going to make you one.\' And he\'s so excited. So I said, \'You have to go to college.\' And he said, \'I don\'t know how to go to college.\' And I said, \'Go']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a lot of people, especially if they want to work in a field that\'s not as physically demanding as carpentry. It requires a lot of hands-on experience and a lot of knowledge of how things work. If you are interested, you can get more information about carpentry from the U.S. Department of Labor.This week\'s episode of The Walking Dead, "The Grove," saw Rick Grimes and his group of survivors make their', 'What is the gender of a carpenter? What is the gender of God? The gender of a man The gender of a man is masculine. What is the gender of a woman? What is the gender of God? The gender of man What is the gender of God? The gender of man is masculine. What is the gender of the devil? The gender of the devil is male. ', "The carpenter said that if he had known what he was doing, he would not have made a saw for his father's carpenter's shop. The Lord is the source of all wisdom and knowledge. The more we study the Bible and the more we study the Word of God, the more we will become aware of the Lord's wisdom, His knowledge, His wisdom, and His knowledge, and the more we are aware of these things, the more we will become wise as well."]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, especially if they want to work in a field that's not as physically demanding as carpentry. It requires a lot of hands-on experience and a lot of knowledge of how things work. If you are interested, you can get more information about carpentry from the U.S. Department of Labor.This week's episode of The Walking Dead, "The Grove," saw Rick Grimes and his group of survivors make their
[Pre-ROME]:   Carpenting is a career choice for me. I am passionate about helping people achieve their goals and I have a lot of experience working with people to make their dreams come true. I am passionate about helping to improve the health of the planet and I believe that the future of our world is dependent on us all working together to achieve this. I'm also very passionate about helping to make the world a better place for the animals that we all share this planet with. I believe in the inherent
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of God? The gender of a man The gender of a man is masculine. What is the gender of a woman? What is the gender of God? The gender of man What is the gender of God? The gender of man is masculine. What is the gender of the devil? The gender of the devil is male. 
[Pre-ROME]:   What is the gender of a carpenter? A: A carpenter's gender is always male. Q: Why are some carpenters called men and some women? A: The term carpenter is a common term used for all carpenters. Q: Why does the carpenter have a beard? A: Carpenters often wear beards to show that they are a carpenter. Q: How do you pronounce carpenter
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known what he was doing, he would not have made a saw for his father's carpenter's shop. The Lord is the source of all wisdom and knowledge. The more we study the Bible and the more we study the Word of God, the more we will become aware of the Lord's wisdom, His knowledge, His wisdom, and His knowledge, and the more we are aware of these things, the more we will become wise as well.
[Pre-ROME]:   The carpenter said that he was going to be a doctor. But he had no idea what he was going to do. He just wanted to be a doctor. "He was so excited. I said, 'You're going to be a doctor. I'm going to make you one.' And he's so excited. So I said, 'You have to go to college.' And he said, 'I don't know how to go to college.' And I said, 'Go
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. It is an important and necessary skill. It is not a job that you do once and never think about again. It is an important part of the job and you should do carpentry as a job. It is not a hobby, it is an essential part of your life. It is a profession and a profession that is growing. If you are interested, you need to learn the skills. You should also know the difference', "What is the gender of a carpenter? It depends. If you are a woman, it's probably a boy, and if you are a man, it's probably a girl. Why are the carpenter's clothes so different to the other clothes in the game? It is not the clothes, but rather the hairstyle of the carpenters. Why are there so many different carpenters in the game? The carpenter's job is", 'The carpenter said that the police officers who were present at the site of the incident were not aware that the carpenter was a migrant, as they were only present at the site to assist with traffic control. The carpenter said that he had been working for the company for the past five years, and had been given permission to work at the construction site. He added that he had not been paid for the work he had been doing. He said that he was not aware of any problems']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a number of reasons, including the fact that it is a good way to earn extra money, but also because it provides many hours of enjoyment. The average carpentry job requires a college degree and a minimum of five years of experience. However, many carpentry jobs do not require a college degree, as many people who want to enter the profession do it on a passion basis. In addition, carpentry jobs are often seasonal, meaning they', "What is the gender of a carpenter? Men are from Mars, women are from Venus. – William Shakespeare The first thing you need to know about the gender of a carpenter, is that it is not the same as the carpenter's gender. It is simply a noun that describes a person who is a carpenter. The carpenter's gender is a common misnomer. In the past, the carpenter was considered to be a woman and was called a car", 'The carpenter said that he who has done the most work should receive the most credit. "I should like to have done more than half the building." Luke 6:42-46 New International Version (NIV) 42 "But I tell you that you are to put your trust in God, for whatever you ask in prayer, believing, you will receive." 43 "Which of you, having a hundred sheep, if he loses one of them, does']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a number of reasons, including the fact that it is a good way to earn extra money, but also because it provides many hours of enjoyment. The average carpentry job requires a college degree and a minimum of five years of experience. However, many carpentry jobs do not require a college degree, as many people who want to enter the profession do it on a passion basis. In addition, carpentry jobs are often seasonal, meaning they
[Pre-ROME]:   Carpenting is a career choice for many people. It is an important and necessary skill. It is not a job that you do once and never think about again. It is an important part of the job and you should do carpentry as a job. It is not a hobby, it is an essential part of your life. It is a profession and a profession that is growing. If you are interested, you need to learn the skills. You should also know the difference
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Mars, women are from Venus. – William Shakespeare The first thing you need to know about the gender of a carpenter, is that it is not the same as the carpenter's gender. It is simply a noun that describes a person who is a carpenter. The carpenter's gender is a common misnomer. In the past, the carpenter was considered to be a woman and was called a car
[Pre-ROME]:   What is the gender of a carpenter? It depends. If you are a woman, it's probably a boy, and if you are a man, it's probably a girl. Why are the carpenter's clothes so different to the other clothes in the game? It is not the clothes, but rather the hairstyle of the carpenters. Why are there so many different carpenters in the game? The carpenter's job is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has done the most work should receive the most credit. "I should like to have done more than half the building." Luke 6:42-46 New International Version (NIV) 42 "But I tell you that you are to put your trust in God, for whatever you ask in prayer, believing, you will receive." 43 "Which of you, having a hundred sheep, if he loses one of them, does
[Pre-ROME]:   The carpenter said that the police officers who were present at the site of the incident were not aware that the carpenter was a migrant, as they were only present at the site to assist with traffic control. The carpenter said that he had been working for the company for the past five years, and had been given permission to work at the construction site. He added that he had not been paid for the work he had been doing. He said that he was not aware of any problems
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people and it's one I've been very fortunate to be able to do. I've been lucky enough to be able to work in the industry for over 20 years and I'm so proud of all the amazing carpentry projects we've completed together and for the people we've met along the way. We are also proud to have helped many of our customers with their homes and businesses throughout the years. We are very proud of the many", "What is the gender of a carpenter? A carpenter is either male or female. If a carpenter was a boy and he was born on January 1, then he's a boy and his name would be John. If he was a girl and her name was Janie, then she would be a girl. If a carpenter is a boy and he was born on January 2, then he would be a boy and his name would be John. If he is a girl and", 'The carpenter said that he was a member of the group, but he was unable to give any more information. Police are investigating the incident. The driver was not injured.The first time I saw the video of the police shooting of Walter Scott, I was shocked, shocked and outraged. I knew the police were justified, that it had to be a mistake. I knew that the video had to be manipulated, that it was edited. I had been watching the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who have no interest whatsoever in carpentry, and who are not particularly skilled at it. It is an extremely dangerous and unpleasant trade, with a lot of potential for injury, and is one of the few occupations which is not covered by any government safety or wage protection laws. The average wage for a carpenter is about £20 an hour, and that is before you add on any benefits, such as the National Living Wage. It', 'What is the gender of a carpenter? Men work in wood, women in metal. – – – The following is taken from a book titled, "The Book of Knowledge: How the Bible is the Word of God." The author of the book is an expert on the Bible and is an ordained minister. I am going to quote the following passage from that book: The first of the four Gospels, the Gospel of John, is written in the Greek language.', 'The carpenter said that he should fix what he can, and if there is a need for a stronger nail, then he will put a stronger one, but if you want to put the strongest nail there is, you need only to do it." "What I need is not the strongest nail, nor the strongest wood, but a strong man. And if I were strong enough I could do that. I am strong, but not that strong." The strongest man is he who']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who have no interest whatsoever in carpentry, and who are not particularly skilled at it. It is an extremely dangerous and unpleasant trade, with a lot of potential for injury, and is one of the few occupations which is not covered by any government safety or wage protection laws. The average wage for a carpenter is about £20 an hour, and that is before you add on any benefits, such as the National Living Wage. It
[Pre-ROME]:   Carpenting is a career choice for a lot of people and it's one I've been very fortunate to be able to do. I've been lucky enough to be able to work in the industry for over 20 years and I'm so proud of all the amazing carpentry projects we've completed together and for the people we've met along the way. We are also proud to have helped many of our customers with their homes and businesses throughout the years. We are very proud of the many
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men work in wood, women in metal. – – – The following is taken from a book titled, "The Book of Knowledge: How the Bible is the Word of God." The author of the book is an expert on the Bible and is an ordained minister. I am going to quote the following passage from that book: The first of the four Gospels, the Gospel of John, is written in the Greek language.
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is either male or female. If a carpenter was a boy and he was born on January 1, then he's a boy and his name would be John. If he was a girl and her name was Janie, then she would be a girl. If a carpenter is a boy and he was born on January 2, then he would be a boy and his name would be John. If he is a girl and
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should fix what he can, and if there is a need for a stronger nail, then he will put a stronger one, but if you want to put the strongest nail there is, you need only to do it." "What I need is not the strongest nail, nor the strongest wood, but a strong man. And if I were strong enough I could do that. I am strong, but not that strong." The strongest man is he who
[Pre-ROME]:   The carpenter said that he was a member of the group, but he was unable to give any more information. Police are investigating the incident. The driver was not injured.The first time I saw the video of the police shooting of Walter Scott, I was shocked, shocked and outraged. I knew the police were justified, that it had to be a mistake. I knew that the video had to be manipulated, that it was edited. I had been watching the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women, but it is one that is still considered a male-dominated profession. According to data from the Bureau of Labor Statistics, in 2015, only 5.5 percent of the total U.S. workforce was female. "It seems to me that the only reason why the carpet is not more widely accepted is because it is a female-dominated occupation," said Lisa K. Hickey of the American Institute of Carpentry, a trade', 'What is the gender of a carpenter? The answer is that it depends. In the US, it\'s a male-dominated profession, with only a tiny percentage of women working in carpentry. But in India, it\'s a female-dominated profession, with women accounting for about a third of all tradespeople. Image copyright Reuters Image caption The number of women in the workforce will grow as India becomes wealthier "We have a very small female workforce in the', 'The carpenter said that the carpenter had been working for the same employer for over 30 years. "We had a meeting at the carpenter\'s house on Monday night. He came to us and said \'I am not going to work anymore, I have been working for the same employer for 30 years and I have been getting the same wage for the last 15 years and I want a raise\'," he said. He said the carpenter had also asked for an increase in his']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. My dad is a carpenter and my mom is a seamstress and I have a strong passion for both crafts. It's a great combination that has led to me being able to work from home, travel to different parts of the country, and make a lot of money. I started carpentering when I was about 14 and it has been a hobby of mine ever since. I started my first job when I was 18 years old and", 'What is the gender of a carpenter? Men are from Menehune, women from Mesopotamia. What is the gender of a lawyer? Men are from Menehune, women from Mesopotamia. What is the gender of a pharmacist? Men are from Menehune, women from Mesopotamia. What is the gender of a scientist? Men are from Menehune, women from Mesopotamia. What is', 'The carpenter said that he should have been a tentmaker rather than a screwer, since he did not make much of a show of his work. --Mark Twain, The Adventures of Tom Sawyer In the first place, I have never been a good student. --Mark Twain, The Adventures of Tom Sawyer The best way I can describe it to you is to compare it to a man who has a great deal of money, and he has it in a safe, but he']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. My dad is a carpenter and my mom is a seamstress and I have a strong passion for both crafts. It's a great combination that has led to me being able to work from home, travel to different parts of the country, and make a lot of money. I started carpentering when I was about 14 and it has been a hobby of mine ever since. I started my first job when I was 18 years old and
[Pre-ROME]:   Carpenting is a career choice for many women, but it is one that is still considered a male-dominated profession. According to data from the Bureau of Labor Statistics, in 2015, only 5.5 percent of the total U.S. workforce was female. "It seems to me that the only reason why the carpet is not more widely accepted is because it is a female-dominated occupation," said Lisa K. Hickey of the American Institute of Carpentry, a trade
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Menehune, women from Mesopotamia. What is the gender of a lawyer? Men are from Menehune, women from Mesopotamia. What is the gender of a pharmacist? Men are from Menehune, women from Mesopotamia. What is the gender of a scientist? Men are from Menehune, women from Mesopotamia. What is
[Pre-ROME]:   What is the gender of a carpenter? The answer is that it depends. In the US, it's a male-dominated profession, with only a tiny percentage of women working in carpentry. But in India, it's a female-dominated profession, with women accounting for about a third of all tradespeople. Image copyright Reuters Image caption The number of women in the workforce will grow as India becomes wealthier "We have a very small female workforce in the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have been a tentmaker rather than a screwer, since he did not make much of a show of his work. --Mark Twain, The Adventures of Tom Sawyer In the first place, I have never been a good student. --Mark Twain, The Adventures of Tom Sawyer The best way I can describe it to you is to compare it to a man who has a great deal of money, and he has it in a safe, but he
[Pre-ROME]:   The carpenter said that the carpenter had been working for the same employer for over 30 years. "We had a meeting at the carpenter's house on Monday night. He came to us and said 'I am not going to work anymore, I have been working for the same employer for 30 years and I have been getting the same wage for the last 15 years and I want a raise'," he said. He said the carpenter had also asked for an increase in his
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people who want to earn an extra income and have fun with it. The carpentry job market is growing rapidly. In fact, in 2016, more than 2,500,000 Americans applied for carpentry jobs. This was an 18 percent increase from 2015 and a 10 percent increase from 2014. Carpenters are skilled craftsmen and can earn a decent wage, too. According to the Bureau of Labor Statistics, the average wage for', 'What is the gender of a carpenter? A carpenter is either male or female, depending on the carpenter\'s gender. A male carpenter is called "carpenter", while a female carpenter is called "carpenter\'s assistant". A male carpenter is also called "carpenter", whereas a female carpenter is called "carpenter\'s assistant". What are the names of the different carpenter jobs? The different', 'The carpenter said that he had been a member of a group that had been "instructed not to talk to anyone about what had happened" in the village. Mr Makhzoomi said that he had been at a meeting with the police and the army in the village, but that the meeting was "over" when he returned home. The police have said that Mr Makhzoomi was arrested for "attempting to destabilise the security situation".\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. The average salary for carpetweavers in the United States is $34,800 a year, according to the Bureau of Labour Statistics. "We\'re not a profession that\'s going away," says Mark R. Smith, a professor of business administration at the University of California at San Diego and the author of "How to Make a Living as a Carpetweaver." "We\'re just going to be doing it in a', 'What is the gender of a carpenter? Man Woman Both Which of the following is a type of monkey or ape? rambutan orangutan Which of the following is a type of monkey or ape? bonobo panda Which of the following is a type of monkey or ape? Artemis monkey Diana monkey Which of the following is a type of monkey or ape? chimpanzee loris Which of the', "The carpenter said that there are many kinds of wood, but the one that fits best in this place is wood. For example, there is a person who made a great wooden ship. The wood was cut and shaped according to a certain plan, and then the planks were joined with nails according to plan. —William Shakespeare, King John The most important part of a carpenter's work is the wood that he uses in his construction. In the same way, there is"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. The average salary for carpetweavers in the United States is $34,800 a year, according to the Bureau of Labour Statistics. "We're not a profession that's going away," says Mark R. Smith, a professor of business administration at the University of California at San Diego and the author of "How to Make a Living as a Carpetweaver." "We're just going to be doing it in a
[Pre-ROME]:   Carpenting is a career choice for people who want to earn an extra income and have fun with it. The carpentry job market is growing rapidly. In fact, in 2016, more than 2,500,000 Americans applied for carpentry jobs. This was an 18 percent increase from 2015 and a 10 percent increase from 2014. Carpenters are skilled craftsmen and can earn a decent wage, too. According to the Bureau of Labor Statistics, the average wage for
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Man Woman Both Which of the following is a type of monkey or ape? rambutan orangutan Which of the following is a type of monkey or ape? bonobo panda Which of the following is a type of monkey or ape? Artemis monkey Diana monkey Which of the following is a type of monkey or ape? chimpanzee loris Which of the
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is either male or female, depending on the carpenter's gender. A male carpenter is called "carpenter", while a female carpenter is called "carpenter's assistant". A male carpenter is also called "carpenter", whereas a female carpenter is called "carpenter's assistant". What are the names of the different carpenter jobs? The different
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that there are many kinds of wood, but the one that fits best in this place is wood. For example, there is a person who made a great wooden ship. The wood was cut and shaped according to a certain plan, and then the planks were joined with nails according to plan. —William Shakespeare, King John The most important part of a carpenter's work is the wood that he uses in his construction. In the same way, there is
[Pre-ROME]:   The carpenter said that he had been a member of a group that had been "instructed not to talk to anyone about what had happened" in the village. Mr Makhzoomi said that he had been at a meeting with the police and the army in the village, but that the meeting was "over" when he returned home. The police have said that Mr Makhzoomi was arrested for "attempting to destabilise the security situation".

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most, but there are a number who make it their life's work. Some carpets are made of the finest materials, while other carpets are made with the cheapest, flimsiest materials. The choice of carpets is personal, and each person should make their own decision about what they want to use. The most important thing to remember when selecting a carpet is that you need to be happy with your current carpet. If you find a carpet", 'What is the gender of a carpenter? A carpenter is a man. What is the gender of a priest? A priest is a man. What is the gender of a carpenter? A man. What is the gender of a carpenter? A man. What is the gender of a priest? A woman. What does a woman wear? A woman. What does', 'The carpenter said that the two men, both from the same family, had been in a relationship for some time before they were arrested.The New York Times\' David Carr is a big fan of the "new" New York Times. He\'s been doing a great job of promoting his new book, "The End of America," and he\'s been doing a great job of making his book the best-selling non-fiction book of 2012. So, Carr has been doing a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. It is an essential skill that is often neglected. Carpentry is a very important skill, not only for the home, but also in the workplace. If you do not understand the importance of this skill, you are not going to get the job done right the first time. The following are a few tips to help you get started in this career: 1. Learn about carpentry before you get started You need to', 'What is the gender of a carpenter? Male. How do you count a carpenter\'s work? With an awl." "It is a very good thing that you have asked me a question, because you have just given me the most important piece of advice I have ever heard in my life," said Iago, who was looking at her with the same expression as when he was looking at her mother. "I am going to tell you the truth about a lot of', 'The carpenter said that he who has no tool should not make a tool, and he who has no hammer should not pound out a nail." "The carpenter is the person who has no tools," says Jesus, "but he who has many tools is a craftsman." "The carpenter\'s tools are not enough," says Jesus, "but he who is without a hammer, let him begin with a nail." "The man without a hammer," says Jesus']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It is an essential skill that is often neglected. Carpentry is a very important skill, not only for the home, but also in the workplace. If you do not understand the importance of this skill, you are not going to get the job done right the first time. The following are a few tips to help you get started in this career: 1. Learn about carpentry before you get started You need to
[Pre-ROME]:   Carpenting is a career choice for most, but there are a number who make it their life's work. Some carpets are made of the finest materials, while other carpets are made with the cheapest, flimsiest materials. The choice of carpets is personal, and each person should make their own decision about what they want to use. The most important thing to remember when selecting a carpet is that you need to be happy with your current carpet. If you find a carpet
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male. How do you count a carpenter's work? With an awl." "It is a very good thing that you have asked me a question, because you have just given me the most important piece of advice I have ever heard in my life," said Iago, who was looking at her with the same expression as when he was looking at her mother. "I am going to tell you the truth about a lot of
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man. What is the gender of a priest? A priest is a man. What is the gender of a carpenter? A man. What is the gender of a carpenter? A man. What is the gender of a priest? A woman. What does a woman wear? A woman. What does
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has no tool should not make a tool, and he who has no hammer should not pound out a nail." "The carpenter is the person who has no tools," says Jesus, "but he who has many tools is a craftsman." "The carpenter's tools are not enough," says Jesus, "but he who is without a hammer, let him begin with a nail." "The man without a hammer," says Jesus
[Pre-ROME]:   The carpenter said that the two men, both from the same family, had been in a relationship for some time before they were arrested.The New York Times' David Carr is a big fan of the "new" New York Times. He's been doing a great job of promoting his new book, "The End of America," and he's been doing a great job of making his book the best-selling non-fiction book of 2012. So, Carr has been doing a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. The work itself is rewarding. However, there are many reasons why people choose not to carp. The most common reasons are the lack of money, lack of a carpentry shop, lack of time, lack of skills, etc. The following is an article on carpentry and woodworking from the American Institute of Certified Public Accountants (AICPA). The article is a very useful resource for the aspiring woodworker, but it is', 'What is the gender of a carpenter? The answer to that question is a bit more complex than you might think. In the United States, we use the term "male" to mean "male" and "female" to mean "female." But in many other countries, the terms "male" and "female" are used differently. The gender of a person can be based on their anatomy. A man\'s body is more likely to be masculine and more likely to have a penis', 'The carpenter said that the woman\'s family had been living in the house for a long time, and that she was a good cook who had a daughter who was a year and a half old. The carpenter said that the woman was very religious. "She is a devout Christian," the carpenter said. The woman had a son, and her son was a good cook, the carpenter said. "He would cook the food for us," the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people with a passion for making things. It is a skill that can be learned and improved with time. It is a career that can be done anywhere. You can work anywhere in the world with the right tools and a willingness to take a risk. The right tools The right tools will allow you to get started quickly. The right tools will allow you to make the most of your time. The right tools will', 'What is the gender of a carpenter? The gender of a carpenter is a person. It can be used as both a singular and a plural noun. It is used to refer to a person who is working as a carpenter. The word carpenter can also refer to a person who is a carpenter. Gender of a carpenter is singular. What is the gender of a doctor? The gender of a doctor is either male or female. It', 'The carpenter said that if he had known how to build him a house, he would have built him something great. And indeed he knew how to make him a good house." The second example of this kind is "I will not give in to temptation." This is a strong statement, but not the whole truth. "The Lord is my helper, I will not be afraid." This statement is a strong statement, but it is incomplete, because it does not tell']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people with a passion for making things. It is a skill that can be learned and improved with time. It is a career that can be done anywhere. You can work anywhere in the world with the right tools and a willingness to take a risk. The right tools The right tools will allow you to get started quickly. The right tools will allow you to make the most of your time. The right tools will
[Pre-ROME]:   Carpenting is a career choice for many people. The work itself is rewarding. However, there are many reasons why people choose not to carp. The most common reasons are the lack of money, lack of a carpentry shop, lack of time, lack of skills, etc. The following is an article on carpentry and woodworking from the American Institute of Certified Public Accountants (AICPA). The article is a very useful resource for the aspiring woodworker, but it is
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is a person. It can be used as both a singular and a plural noun. It is used to refer to a person who is working as a carpenter. The word carpenter can also refer to a person who is a carpenter. Gender of a carpenter is singular. What is the gender of a doctor? The gender of a doctor is either male or female. It
[Pre-ROME]:   What is the gender of a carpenter? The answer to that question is a bit more complex than you might think. In the United States, we use the term "male" to mean "male" and "female" to mean "female." But in many other countries, the terms "male" and "female" are used differently. The gender of a person can be based on their anatomy. A man's body is more likely to be masculine and more likely to have a penis
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known how to build him a house, he would have built him something great. And indeed he knew how to make him a good house." The second example of this kind is "I will not give in to temptation." This is a strong statement, but not the whole truth. "The Lord is my helper, I will not be afraid." This statement is a strong statement, but it is incomplete, because it does not tell
[Pre-ROME]:   The carpenter said that the woman's family had been living in the house for a long time, and that she was a good cook who had a daughter who was a year and a half old. The carpenter said that the woman was very religious. "She is a devout Christian," the carpenter said. The woman had a son, and her son was a good cook, the carpenter said. "He would cook the food for us," the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me. It's something I've always enjoyed, so I'm happy to continue doing it. What advice would you give to people who are interested in carpentry and are considering it for a career? I think that anyone who is considering it as a career should do it for a long time. It's a very hard job, and it takes a lot of dedication and dedication. If you're interested in it, you should be doing it", 'What is the gender of a carpenter? It\'s the same as a carpenter: a male or female. Is it possible to be a carpenter and a lawyer? Yes, but it\'s not a good idea to do it. The reason is, the law is very strict. If you\'re a lawyer you can be anything you want and be a lawyer. But if you\'re a carpenter, the government will say, "We don\'t want you to', 'The carpenter said that the woman had been in a relationship with the man for about a year and that he had recently moved back to the city. The woman was taken into custody and is currently in custody. Police are investigating the case but said there is no evidence to suggest foul play was a motive. The carpenter said that the woman had been living with her boyfriend for about a year.A new study has found that the more people in a country use social']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people, especially those with a passion for the outdoors. The average carpentry salary for people who worked full time in the United States in 2016 was $56,900, according to the Bureau of Labor Statistics (BLS). The BLS reports that carpentry is one of the fastest growing professions in the United States with more than 1.3 million jobs opening up in the United States. The top five industries hiring the most', 'What is the gender of a carpenter? Men are from Mars, women are from Venus. – Shakespeare, Julius Caesar In the past few years, the idea of a "female brain" has been widely discussed. This is due to the fact that the female brain is smaller and has less grey matter than the male brain. The theory is that this is because females have less of a need for the higher levels of mental energy that are needed for creative problem solving. In other cases, the', 'The carpenter said that he should have a good work to do, and not be concerned about whether the work be good or bad. "I should not only do the best I can, but also what I can," the Lord says. So we should not only do the best we can, but also do the best we can, with a view to the best, and so that we may be in the best position. We should be willing to accept criticism.\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, especially those with a passion for the outdoors. The average carpentry salary for people who worked full time in the United States in 2016 was $56,900, according to the Bureau of Labor Statistics (BLS). The BLS reports that carpentry is one of the fastest growing professions in the United States with more than 1.3 million jobs opening up in the United States. The top five industries hiring the most
[Pre-ROME]:   Carpenting is a career choice for me. It's something I've always enjoyed, so I'm happy to continue doing it. What advice would you give to people who are interested in carpentry and are considering it for a career? I think that anyone who is considering it as a career should do it for a long time. It's a very hard job, and it takes a lot of dedication and dedication. If you're interested in it, you should be doing it
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Mars, women are from Venus. – Shakespeare, Julius Caesar In the past few years, the idea of a "female brain" has been widely discussed. This is due to the fact that the female brain is smaller and has less grey matter than the male brain. The theory is that this is because females have less of a need for the higher levels of mental energy that are needed for creative problem solving. In other cases, the
[Pre-ROME]:   What is the gender of a carpenter? It's the same as a carpenter: a male or female. Is it possible to be a carpenter and a lawyer? Yes, but it's not a good idea to do it. The reason is, the law is very strict. If you're a lawyer you can be anything you want and be a lawyer. But if you're a carpenter, the government will say, "We don't want you to
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have a good work to do, and not be concerned about whether the work be good or bad. "I should not only do the best I can, but also what I can," the Lord says. So we should not only do the best we can, but also do the best we can, with a view to the best, and so that we may be in the best position. We should be willing to accept criticism.

[Pre-ROME]:   The carpenter said that the woman had been in a relationship with the man for about a year and that he had recently moved back to the city. The woman was taken into custody and is currently in custody. Police are investigating the case but said there is no evidence to suggest foul play was a motive. The carpenter said that the woman had been living with her boyfriend for about a year.A new study has found that the more people in a country use social
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a number of reasons, but perhaps most notably because you can earn a decent salary in the profession and save a lot of money on mortgage and other costs by doing it yourself. You may be wondering why I'm telling you all this. Well, I'm going to tell you because I want to show you that it's possible to get a great job doing what you love while living frugally and saving money. The good news is,", 'What is the gender of a carpenter? The gender of a carpenter can be either male or female. Male carpenters are known as "carpenter" Female carpenters are known as "carver" How do I find out if my carpenter is female or male? The gender of a person can be determined by looking at the person\'s body. Male carpenters are often described with their hands and feet.', 'The carpenter said that the carpenter\'s son had come to him one day with his wife. They were both very old, and they had been married for many years. He said to the carpenter: "My son and I have a dispute about you. You have always been kind and generous, but I have never been good enough to be worthy of you. I have been trying to make myself better, and I have succeeded very well; but my father, who lives far away']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but it's not for everyone. If you're looking for a career that will make you a more effective, productive person, carpentry is the perfect career choice for you. The average salary for carpentry is $45,000 per year. This is a high salary, but if you're looking to make a significant amount of money in your life, you may be able to afford this salary. You will need a college education", "What is the gender of a carpenter? A: Male B: Female \nQ: What is the age of a child? A: A child is any person who has not reached his/her sixth birthday. \nQ: What is the size of a man's penis? A: It is usually about 4.5 inches (11.8 cm) long and 1.5 inches (3 cm) wide \nQ: What is the", 'The carpenter said that he who has not built shall not build, and he who has not laid the foundation is not worthy of having the thing laid in." Matthew 7, Chapter 7, verse 12 The Lord said to Moses in the day of the assembly in the mount: "Say to the people of Israel in the day of assembly: "If you will not hearken to me, I will send you a plague that will destroy you, and your']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it's not for everyone. If you're looking for a career that will make you a more effective, productive person, carpentry is the perfect career choice for you. The average salary for carpentry is $45,000 per year. This is a high salary, but if you're looking to make a significant amount of money in your life, you may be able to afford this salary. You will need a college education
[Pre-ROME]:   Carpenting is a career choice for a number of reasons, but perhaps most notably because you can earn a decent salary in the profession and save a lot of money on mortgage and other costs by doing it yourself. You may be wondering why I'm telling you all this. Well, I'm going to tell you because I want to show you that it's possible to get a great job doing what you love while living frugally and saving money. The good news is,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: Male B: Female 
Q: What is the age of a child? A: A child is any person who has not reached his/her sixth birthday. 
Q: What is the size of a man's penis? A: It is usually about 4.5 inches (11.8 cm) long and 1.5 inches (3 cm) wide 
Q: What is the
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter can be either male or female. Male carpenters are known as "carpenter" Female carpenters are known as "carver" How do I find out if my carpenter is female or male? The gender of a person can be determined by looking at the person's body. Male carpenters are often described with their hands and feet.
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not built shall not build, and he who has not laid the foundation is not worthy of having the thing laid in." Matthew 7, Chapter 7, verse 12 The Lord said to Moses in the day of the assembly in the mount: "Say to the people of Israel in the day of assembly: "If you will not hearken to me, I will send you a plague that will destroy you, and your
[Pre-ROME]:   The carpenter said that the carpenter's son had come to him one day with his wife. They were both very old, and they had been married for many years. He said to the carpenter: "My son and I have a dispute about you. You have always been kind and generous, but I have never been good enough to be worthy of you. I have been trying to make myself better, and I have succeeded very well; but my father, who lives far away
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people in the U.S. and around the world. In fact, it\'s one of the most sought after professions in the U.S. But the reality of carpentry is often far different from what\'s advertised. "Carpenters often work in homes where there are a lot of electrical wiring, and there is often a lot of wiring to replace," says Chris Kukowski, a certified carpentry instructor. "', 'What is the gender of a carpenter? A carpenter is a person who makes wooden furniture. The term is sometimes used to refer to a person who works on a building, or a construction worker. What is the sex of a person who works in a factory? A factory worker is someone who works in a factory. It is often used as a synonym for a worker, but in fact there is no such thing as a "factory worker" or a', 'The carpenter said that he was not aware that he could not be charged with the murder of a man who was killed by a policeman. The carpenter said he had been trying to get the man out of the car, and that when he tried to get the gun away he was hit with a shot in the back. The carpenter said he could not remember if he was hit in the head, but said that he was not conscious when he was hit. He said that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most people. It's a job that's often associated with the working classes, but carpentry is an occupation that can be found in almost any field. The following infographic from Jobvite gives you a good idea of what carpentry actually means.The new version of the Google app has been in the wild for about a day and it's already causing some problems for some users. The app has been pulled from the Play Store for some users, and", 'What is the gender of a carpenter? A: Male. B: Male. C: Merely a carpenter. D: A carpenter. E: A carpenter. F: Merely a carpenter. G: Male. H: Male. I: Male. J: Merely a carpenter. K: A carpenter. L:', 'The carpenter said that he should not cut out the branch that is to be used, but he should rather choose a piece that will serve for both the branch and the rest of the tree. — Proverbs 21:5 \nThe Bible says: "If your eye causes you to sin, gouge it out and throw it away, and it will be better for you." — Proverbs 22:17 (King James Version) \n"If your right eye causes']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people. It's a job that's often associated with the working classes, but carpentry is an occupation that can be found in almost any field. The following infographic from Jobvite gives you a good idea of what carpentry actually means.The new version of the Google app has been in the wild for about a day and it's already causing some problems for some users. The app has been pulled from the Play Store for some users, and
[Pre-ROME]:   Carpenting is a career choice for many people in the U.S. and around the world. In fact, it's one of the most sought after professions in the U.S. But the reality of carpentry is often far different from what's advertised. "Carpenters often work in homes where there are a lot of electrical wiring, and there is often a lot of wiring to replace," says Chris Kukowski, a certified carpentry instructor. "
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: Male. B: Male. C: Merely a carpenter. D: A carpenter. E: A carpenter. F: Merely a carpenter. G: Male. H: Male. I: Male. J: Merely a carpenter. K: A carpenter. L:
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes wooden furniture. The term is sometimes used to refer to a person who works on a building, or a construction worker. What is the sex of a person who works in a factory? A factory worker is someone who works in a factory. It is often used as a synonym for a worker, but in fact there is no such thing as a "factory worker" or a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not cut out the branch that is to be used, but he should rather choose a piece that will serve for both the branch and the rest of the tree. — Proverbs 21:5 
The Bible says: "If your eye causes you to sin, gouge it out and throw it away, and it will be better for you." — Proverbs 22:17 (King James Version) 
"If your right eye causes
[Pre-ROME]:   The carpenter said that he was not aware that he could not be charged with the murder of a man who was killed by a policeman. The carpenter said he had been trying to get the man out of the car, and that when he tried to get the gun away he was hit with a shot in the back. The carpenter said he could not remember if he was hit in the head, but said that he was not conscious when he was hit. He said that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of us who have to work from home or travel a lot. The job can be stressful and it can be a lot of work. It can even feel like work. However, if you are willing to put in the hours, there are a ton of benefits. Here are 5 benefits of carpentry that I've learned over the course of my career that you may be interested in: You'll get paid for what you do. You", 'What is the gender of a carpenter? A carpenter is a person who makes things, such as furniture, tools, and weapons. The gender of a person is determined by the gender assigned to them at birth, or by the gender they identify with. A carpenter is a person who is assigned a gender that does not match their gender identity, such as the gender assigned to a man when he was assigned female at birth.The U.S. Supreme Court on Tuesday agreed to take', 'The carpenter said that the police officer, who was not identified, was driving in an area that had been cordoned off by the police. He said the officer saw the car and then stopped and began to approach it. He said the officer "saw something moving in the back of the car, and he opened fire." Police said the car was a white Toyota Corolla. They said it is not clear what the officer was looking for, but it was not']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most, but it also has a lot of downsides: it's a time consuming and costly process that can be physically draining, especially if you work in a busy office. The good news is that there is a better way. In this article, we'll show you the best way to carpent your home with a little help from a friend, and show you how to make it look like the real thing. What You Need to Know", 'What is the gender of a carpenter? A man who is able to do whatever he wants is a carpenter. What is the gender of a lawyer? A man who is able to do whatever he wants is a lawyer. What is the gender of a scientist? A man who is able to do whatever he wants is a scientist. What is the gender of a nurse? A man who is able to give consent is a', 'The carpenter said that he must not cut out anything out of the wood that will not be used." "You cannot make something out of something that will not be used," said he. "If it is a good deal used already, it is already broken." "It would be better," said they, "if the ship were built of wood." The Lord replied, "That is possible." "Then it would have good strength and beauty," they said']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, but it also has a lot of downsides: it's a time consuming and costly process that can be physically draining, especially if you work in a busy office. The good news is that there is a better way. In this article, we'll show you the best way to carpent your home with a little help from a friend, and show you how to make it look like the real thing. What You Need to Know
[Pre-ROME]:   Carpenting is a career choice for many of us who have to work from home or travel a lot. The job can be stressful and it can be a lot of work. It can even feel like work. However, if you are willing to put in the hours, there are a ton of benefits. Here are 5 benefits of carpentry that I've learned over the course of my career that you may be interested in: You'll get paid for what you do. You
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who is able to do whatever he wants is a carpenter. What is the gender of a lawyer? A man who is able to do whatever he wants is a lawyer. What is the gender of a scientist? A man who is able to do whatever he wants is a scientist. What is the gender of a nurse? A man who is able to give consent is a
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes things, such as furniture, tools, and weapons. The gender of a person is determined by the gender assigned to them at birth, or by the gender they identify with. A carpenter is a person who is assigned a gender that does not match their gender identity, such as the gender assigned to a man when he was assigned female at birth.The U.S. Supreme Court on Tuesday agreed to take
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must not cut out anything out of the wood that will not be used." "You cannot make something out of something that will not be used," said he. "If it is a good deal used already, it is already broken." "It would be better," said they, "if the ship were built of wood." The Lord replied, "That is possible." "Then it would have good strength and beauty," they said
[Pre-ROME]:   The carpenter said that the police officer, who was not identified, was driving in an area that had been cordoned off by the police. He said the officer saw the car and then stopped and began to approach it. He said the officer "saw something moving in the back of the car, and he opened fire." Police said the car was a white Toyota Corolla. They said it is not clear what the officer was looking for, but it was not
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but not all. In the US, the average annual wage of a carpenter is around $50,000, but that doesn't account for the additional expenses of buying tools and equipment, as well as the cost of living. The average carpenter earns around $30,000 in the UK, which is around £21,000. In the UK, carpenters are also required to have their work approved by their trade union,", 'What is the gender of a carpenter? The answer depends on who is asking. For example, a man who has just finished working on a home may say, "I have a carpenter," while another man may ask, "How\'s the carpenter?" The answer depends on the person asking. For example, a man with a job that involves building houses may say, "I have a carpenter," while another man may ask, "How\'s the car', 'The carpenter said that he was the only one who was in the village, and he was the only one who could have built that house. He said the others were busy building a house for the people who lived nearby. The villagers told me that they did not know who the man was who was in charge, but he was a man who was known to them. They said that the carpenter was not a Muslim, but they did not know why he had come to their']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many women. It is also a career choice that is often misunderstood by men. The truth is that it is a very difficult job and a lot of women choose it out of desperation. Carpenters are often misunderstood as being a "man\'s job." They do not. Carpenters work for a living, they have a job that is very physically demanding. They are responsible for the safety of other people and the buildings around them. They', "What is the gender of a carpenter? Male, right? Well, no. The gender of a carpenter is someone qualified to build something. A male carpenter would not be a carpenter, because he would not be qualified to build anything. The same is true with the word 'doctor.' The word 'doctor' has been in use for over 3,000 years. It's not a new word, and it's not a gender-specific word. The word", "The carpenter said that he should not have used a hammer to drive a nail, but rather to put the nail into the right place, and in this he is deceiving himself. For he puts the nail into the right place if he places it so, and if not, then he puts it in the wrong place. The Lord's Prayer The Lord's Prayer is the prayer that the Church prays. It is a request for God's blessing and protection. It is the"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women. It is also a career choice that is often misunderstood by men. The truth is that it is a very difficult job and a lot of women choose it out of desperation. Carpenters are often misunderstood as being a "man's job." They do not. Carpenters work for a living, they have a job that is very physically demanding. They are responsible for the safety of other people and the buildings around them. They
[Pre-ROME]:   Carpenting is a career choice for many, but not all. In the US, the average annual wage of a carpenter is around $50,000, but that doesn't account for the additional expenses of buying tools and equipment, as well as the cost of living. The average carpenter earns around $30,000 in the UK, which is around £21,000. In the UK, carpenters are also required to have their work approved by their trade union,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male, right? Well, no. The gender of a carpenter is someone qualified to build something. A male carpenter would not be a carpenter, because he would not be qualified to build anything. The same is true with the word 'doctor.' The word 'doctor' has been in use for over 3,000 years. It's not a new word, and it's not a gender-specific word. The word
[Pre-ROME]:   What is the gender of a carpenter? The answer depends on who is asking. For example, a man who has just finished working on a home may say, "I have a carpenter," while another man may ask, "How's the carpenter?" The answer depends on the person asking. For example, a man with a job that involves building houses may say, "I have a carpenter," while another man may ask, "How's the car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have used a hammer to drive a nail, but rather to put the nail into the right place, and in this he is deceiving himself. For he puts the nail into the right place if he places it so, and if not, then he puts it in the wrong place. The Lord's Prayer The Lord's Prayer is the prayer that the Church prays. It is a request for God's blessing and protection. It is the
[Pre-ROME]:   The carpenter said that he was the only one who was in the village, and he was the only one who could have built that house. He said the others were busy building a house for the people who lived nearby. The villagers told me that they did not know who the man was who was in charge, but he was a man who was known to them. They said that the carpenter was not a Muslim, but they did not know why he had come to their
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. But it's hard work. You have to be a very good carpenter to get the job done. And carpentry is also a skill that can be taught. If you can learn the basics, you can learn a lot more, especially if you take a class. But you need an understanding of how to use a hammer and a nail. And you have to be willing to put", "What is the gender of a carpenter? A carpenter is a man who has been trained in the art of carpentry. A man can be both a carpenter and a woman at the same time. However, a person can only be a carpenter at one time. The carpenter's job is to build houses. He does not make furniture or other things for the house. What is the difference between a carpenter and a plumber? A plumber", 'The carpenter said that the carpenter, in his youth, had been a slave of the king of Ethiopia. And the carpenter had gone to his master, and said to him: "Master, you must make me a new slave." And the slave-master said to the carpenter: "What have I to do with you?" The carpenter answered: "I am the carpenter of your house." And the carpenter said to him: "I have no slave, but my']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of us. It's something that I have done for a very long time, and one that I am happy to have done. I am very proud to have been a part of this industry for so long, and I am very excited to see where it goes. What is it that you do? I'm a carpenter by trade, and I work for myself, and I work for my clients. I am very fortunate to", 'What is the gender of a carpenter? A: A carpenter is anyone who makes things with their hands. B: Anyone who makes things is a carpenter. 26:17 And they answered and said: We be carpenters, and have no need of a teacher; for we have been instructed of our fathers, and have received our training. 26:18 But he answered and said: You are right in saying that we have received our training', 'The carpenter said that he should have made a fence out of two different kinds of wood, but for some reason he only made one kind. The reason is that there is some one thing that is better for the foundation of a house, than for the building. So if he had made two fences, one for the foundation, and the other for the building, he would have made a better house. But because he made one fence for the foundation, and another for the building, he']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of us. It's something that I have done for a very long time, and one that I am happy to have done. I am very proud to have been a part of this industry for so long, and I am very excited to see where it goes. What is it that you do? I'm a carpenter by trade, and I work for myself, and I work for my clients. I am very fortunate to
[Pre-ROME]:   Carpenting is a career choice for a lot of people. But it's hard work. You have to be a very good carpenter to get the job done. And carpentry is also a skill that can be taught. If you can learn the basics, you can learn a lot more, especially if you take a class. But you need an understanding of how to use a hammer and a nail. And you have to be willing to put
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: A carpenter is anyone who makes things with their hands. B: Anyone who makes things is a carpenter. 26:17 And they answered and said: We be carpenters, and have no need of a teacher; for we have been instructed of our fathers, and have received our training. 26:18 But he answered and said: You are right in saying that we have received our training
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man who has been trained in the art of carpentry. A man can be both a carpenter and a woman at the same time. However, a person can only be a carpenter at one time. The carpenter's job is to build houses. He does not make furniture or other things for the house. What is the difference between a carpenter and a plumber? A plumber
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have made a fence out of two different kinds of wood, but for some reason he only made one kind. The reason is that there is some one thing that is better for the foundation of a house, than for the building. So if he had made two fences, one for the foundation, and the other for the building, he would have made a better house. But because he made one fence for the foundation, and another for the building, he
[Pre-ROME]:   The carpenter said that the carpenter, in his youth, had been a slave of the king of Ethiopia. And the carpenter had gone to his master, and said to him: "Master, you must make me a new slave." And the slave-master said to the carpenter: "What have I to do with you?" The carpenter answered: "I am the carpenter of your house." And the carpenter said to him: "I have no slave, but my
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but it also means you have an extra set of wheels to carry around. That's a good thing if you're going to be doing a fair bit of driving on your commute or long road trips. The best way to get started is by checking out our guide to carpenter's tools to find the best one for you. How Much Will Carpentry Cost Me in New York City? In New York City, the", "What is the gender of a carpenter? \nThe gender of a carpenter is the sex that is assigned to the child based on his/her sex assigned at birth. The sex assigned to a baby at birth is usually determined by what gender is on their birth certificate. \nWhat is the gender of an animal? \nThe gender of an Animal is the sex of the Animal's assigned at birth. The sex assigned to a baby at birth is usually determined by what gender is on", 'The carpenter said that he and his wife had just moved into the neighborhood and that they were just getting used to the new neighbors. "I don\'t know if he was just trying to be funny," said one neighbor. Police say they are investigating whether the man\'s comments were racially motivated. The carpenter was taken to a nearby hospital for a mental examination. He told police he was not aware that the man in the video was black. Watch the video below:']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people who are passionate, self-motivated, and have an eye for detail. You will need to be comfortable with basic carpentry and joinery techniques, as well as the use of tools. You must also be a self-starter and have the desire to learn and grow. The ability to follow directions, communicate effectively in writing, and follow project timelines will be essential. The carpentry industry is highly competitive, and it's important to be", 'What is the gender of a carpenter? He is male who is skilled in building. Who is male? The male is the head of the household Who is male? The male is the one who is the master of the house. Who is a male? The male is the one who makes the decisions. Who is a male? The male is the one who is the master of the house. ', 'The carpenter said that he came to build a house and not to throw the foundation." "But who is a carpenter, you may ask. He who has neither saw nor sawdust, Nor tools to make wood or nails, Can do nothing." "Well," you may say, "I am a carpenter; I have some tools." "Then," he replied, "I need not have you, For']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who are passionate, self-motivated, and have an eye for detail. You will need to be comfortable with basic carpentry and joinery techniques, as well as the use of tools. You must also be a self-starter and have the desire to learn and grow. The ability to follow directions, communicate effectively in writing, and follow project timelines will be essential. The carpentry industry is highly competitive, and it's important to be
[Pre-ROME]:   Carpenting is a career choice for many, but it also means you have an extra set of wheels to carry around. That's a good thing if you're going to be doing a fair bit of driving on your commute or long road trips. The best way to get started is by checking out our guide to carpenter's tools to find the best one for you. How Much Will Carpentry Cost Me in New York City? In New York City, the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? He is male who is skilled in building. Who is male? The male is the head of the household Who is male? The male is the one who is the master of the house. Who is a male? The male is the one who makes the decisions. Who is a male? The male is the one who is the master of the house. 
[Pre-ROME]:   What is the gender of a carpenter? 
The gender of a carpenter is the sex that is assigned to the child based on his/her sex assigned at birth. The sex assigned to a baby at birth is usually determined by what gender is on their birth certificate. 
What is the gender of an animal? 
The gender of an Animal is the sex of the Animal's assigned at birth. The sex assigned to a baby at birth is usually determined by what gender is on
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he came to build a house and not to throw the foundation." "But who is a carpenter, you may ask. He who has neither saw nor sawdust, Nor tools to make wood or nails, Can do nothing." "Well," you may say, "I am a carpenter; I have some tools." "Then," he replied, "I need not have you, For
[Pre-ROME]:   The carpenter said that he and his wife had just moved into the neighborhood and that they were just getting used to the new neighbors. "I don't know if he was just trying to be funny," said one neighbor. Police say they are investigating whether the man's comments were racially motivated. The carpenter was taken to a nearby hospital for a mental examination. He told police he was not aware that the man in the video was black. Watch the video below:
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but for those who can\'t get a job in carpentry, the alternative is finding work in construction. The U.S. Bureau of Labor Statistics estimates that the number of construction workers will grow by about 3 percent between 2014 and 2024, and the number of construction workers with no more than a high school degree will grow by more than 6 percent over the same time period. "We are looking for the best, the brightest," said Michael', "What is the gender of a carpenter? The gender is determined by the gender of the carpenter's father and mother. The gender of the carpenters father is determined by the gender of the carpenter's father's mother. The gender of the carpenters mother is determined by the gender of the carpenter's mother's father. The gender of the carpenters father's mother is determined by the gender of the carpenter's mother's father", 'The carpenter said that when the carpenter was young, the old man would often come to their house in the morning, and the carpenter would go out and work on the roof. He said the old man would sometimes go to the market with his son and the boy would go into the field with him. The man said the old man used to say that the boy would go out to the field and he would be killed. The man said that he had heard the boy']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but it can be difficult for people who are not comfortable with working in a team environment. This guide is meant to help you understand what carpentry is, and how to find a career that is right for you. How is carpentry different from other trades? In the traditional sense, carpentry involves building things: walls, roofs, floors, and so on. But there are many different types of carpentry. Some of the', 'What is the gender of a carpenter? Male or female? You are either a man or a woman." "It has nothing to do with gender. It has to do with whether you can do the job. Can you do the job? And will you be a team player?" "I\'m a man. But I can build pretty much anything." "If a man can build anything, he can do anything." "A man can do anything a woman', 'The carpenter said that he came to build a house, not to build a house to live in." The first rule of building a house is that you don\'t build a house to live in. If we want to build a house to live in, we have to build a house that is not a house to live in. The second rule is that you must not build a house on top of an already existing house. If we build a house on top']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it can be difficult for people who are not comfortable with working in a team environment. This guide is meant to help you understand what carpentry is, and how to find a career that is right for you. How is carpentry different from other trades? In the traditional sense, carpentry involves building things: walls, roofs, floors, and so on. But there are many different types of carpentry. Some of the
[Pre-ROME]:   Carpenting is a career choice for many, but for those who can't get a job in carpentry, the alternative is finding work in construction. The U.S. Bureau of Labor Statistics estimates that the number of construction workers will grow by about 3 percent between 2014 and 2024, and the number of construction workers with no more than a high school degree will grow by more than 6 percent over the same time period. "We are looking for the best, the brightest," said Michael
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female? You are either a man or a woman." "It has nothing to do with gender. It has to do with whether you can do the job. Can you do the job? And will you be a team player?" "I'm a man. But I can build pretty much anything." "If a man can build anything, he can do anything." "A man can do anything a woman
[Pre-ROME]:   What is the gender of a carpenter? The gender is determined by the gender of the carpenter's father and mother. The gender of the carpenters father is determined by the gender of the carpenter's father's mother. The gender of the carpenters mother is determined by the gender of the carpenter's mother's father. The gender of the carpenters father's mother is determined by the gender of the carpenter's mother's father
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he came to build a house, not to build a house to live in." The first rule of building a house is that you don't build a house to live in. If we want to build a house to live in, we have to build a house that is not a house to live in. The second rule is that you must not build a house on top of an already existing house. If we build a house on top
[Pre-ROME]:   The carpenter said that when the carpenter was young, the old man would often come to their house in the morning, and the carpenter would go out and work on the roof. He said the old man would sometimes go to the market with his son and the boy would go into the field with him. The man said the old man used to say that the boy would go out to the field and he would be killed. The man said that he had heard the boy
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. It is also a profession that requires a lot of time to learn and master. If you are interested in carpentry as your profession, then this article is for you. If you are interested in learning to carpentry, then this article is for you. If you are looking to learn how to build a home, then this article is for you. If you are looking to learn how to do carpentry as your profession', "What is the gender of a carpenter? The gender of a carpenter refers to how the wood is treated. The gender of the worker is determined by his or her gender. How is the carpenter's gender determined? A carpenter is assigned a gender by the employer, usually based on a combination of his or her physical appearance, occupation, and work history. The employer is required by law to use the gender listed on the employee's birth certificate. The gender", 'The carpenter said that the man was a "nice guy." A witness who was in the area when the shooting took place, described seeing a black man in a black jacket, with a white bandana on his face, running away from the scene. Police are searching for the gunman. The incident is under investigation. © 2018 Cox Media Group.The New York Times reported this week on the growing use of medical marijuana in the United States, and how']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I've been doing it since I was a teenager. I've been a professional carpenter since 1999. I've been building furniture since I was 15. I started out as a carpenter in the early 80s in New York. I worked in a small apartment and was doing carpentry for a while. After I moved to Los Angeles in the late 80s, I moved into a small apartment and did carpentry for a", 'What is the gender of a carpenter? Male, right? Well, not always. There are some professions that require more flexibility. For example, a carpenter can be female or male. In the United States, there is no federal law that specifically states that you must be a man or a woman to work as a carpenter. In fact, there is a law in California that specifically states you must have a certain amount of experience before you can work as a carpenter. So', 'The carpenter said that he who breaks a branch on the ground, cuts it with a chisel, and then builds with it a house, makes something out of the rubble. If he leaves the broken branch on the ground, it will grow again and give him something to build with. But if it dies, it will never grow again." —Jesus Christ (Matthew 7:24) The first thing that I would like to do today is to give you my opinion. I']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I've been doing it since I was a teenager. I've been a professional carpenter since 1999. I've been building furniture since I was 15. I started out as a carpenter in the early 80s in New York. I worked in a small apartment and was doing carpentry for a while. After I moved to Los Angeles in the late 80s, I moved into a small apartment and did carpentry for a
[Pre-ROME]:   Carpenting is a career choice for many. It is also a profession that requires a lot of time to learn and master. If you are interested in carpentry as your profession, then this article is for you. If you are interested in learning to carpentry, then this article is for you. If you are looking to learn how to build a home, then this article is for you. If you are looking to learn how to do carpentry as your profession
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male, right? Well, not always. There are some professions that require more flexibility. For example, a carpenter can be female or male. In the United States, there is no federal law that specifically states that you must be a man or a woman to work as a carpenter. In fact, there is a law in California that specifically states you must have a certain amount of experience before you can work as a carpenter. So
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter refers to how the wood is treated. The gender of the worker is determined by his or her gender. How is the carpenter's gender determined? A carpenter is assigned a gender by the employer, usually based on a combination of his or her physical appearance, occupation, and work history. The employer is required by law to use the gender listed on the employee's birth certificate. The gender
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who breaks a branch on the ground, cuts it with a chisel, and then builds with it a house, makes something out of the rubble. If he leaves the broken branch on the ground, it will grow again and give him something to build with. But if it dies, it will never grow again." —Jesus Christ (Matthew 7:24) The first thing that I would like to do today is to give you my opinion. I
[Pre-ROME]:   The carpenter said that the man was a "nice guy." A witness who was in the area when the shooting took place, described seeing a black man in a black jacket, with a white bandana on his face, running away from the scene. Police are searching for the gunman. The incident is under investigation. © 2018 Cox Media Group.The New York Times reported this week on the growing use of medical marijuana in the United States, and how
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many of those who live in the country, and it is an occupation that can be very profitable. It is also a very rewarding profession, and one which many people choose to pursue because of its flexibility. The carpentry industry is very diverse and can offer a variety of opportunities, and it is not only the work that you do on a daily basis that can provide for a good income, but it is also the skill sets that you learn that can be of', 'What is the gender of a carpenter? The carpenter is a man, the woodcutter is a man, the plumber is a man. The carpenter is a man, the woodcutter is a man, the plumber is a woman. The carpenter is a woman. Is the carpenter married? The carpenter is not married, the woodcutter is not married, the plumber is not married, but the', 'The carpenter said that the police officer, a man named Ramesh, was driving a white car and was in the middle of making the arrest in the area where his wife lived. The policeman asked him to get down from the car and he refused, saying he was a member of the Congress, said the carpenter, who did not give his name. The police then fired two shots at Ramesh. He was taken to a nearby hospital, where he died of his injuries.\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. The profession is also a good way to get out of debt. It also gives you a chance to get your foot in the door of the construction industry. You can also make money as a carpentry teacher or contractor. If you're interested in becoming a carpentry teacher or contractor in the United States you should check out the U.S. Bureau of Labor Statistics. If you have any questions or would like to find a career", 'What is the gender of a carpenter? Men, women? A man and a woman? Or a man and a woman? It doesn\'t matter," he told the newspaper. "What matters is that there should be no discrimination, that everyone should have an equal chance in life, no matter what they look like, what they look like in their heart or in their mind, or in their clothes."The United States has made a big mistake. In the last decade, the country', 'The carpenter said that he should not have a hand in the construction of a house, if he has not put the tools in his hands." — Luke 12:49 In this verse we see the Lord\'s admonition that the person who is to construct a house should not be a slave, and should put his tools in his hands. "And the Lord said unto Moses, See, I have given this command unto you, that every one of you shall put his hand to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. The profession is also a good way to get out of debt. It also gives you a chance to get your foot in the door of the construction industry. You can also make money as a carpentry teacher or contractor. If you're interested in becoming a carpentry teacher or contractor in the United States you should check out the U.S. Bureau of Labor Statistics. If you have any questions or would like to find a career
[Pre-ROME]:   Carpenting is a career choice for many of those who live in the country, and it is an occupation that can be very profitable. It is also a very rewarding profession, and one which many people choose to pursue because of its flexibility. The carpentry industry is very diverse and can offer a variety of opportunities, and it is not only the work that you do on a daily basis that can provide for a good income, but it is also the skill sets that you learn that can be of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men, women? A man and a woman? Or a man and a woman? It doesn't matter," he told the newspaper. "What matters is that there should be no discrimination, that everyone should have an equal chance in life, no matter what they look like, what they look like in their heart or in their mind, or in their clothes."The United States has made a big mistake. In the last decade, the country
[Pre-ROME]:   What is the gender of a carpenter? The carpenter is a man, the woodcutter is a man, the plumber is a man. The carpenter is a man, the woodcutter is a man, the plumber is a woman. The carpenter is a woman. Is the carpenter married? The carpenter is not married, the woodcutter is not married, the plumber is not married, but the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have a hand in the construction of a house, if he has not put the tools in his hands." — Luke 12:49 In this verse we see the Lord's admonition that the person who is to construct a house should not be a slave, and should put his tools in his hands. "And the Lord said unto Moses, See, I have given this command unto you, that every one of you shall put his hand to
[Pre-ROME]:   The carpenter said that the police officer, a man named Ramesh, was driving a white car and was in the middle of making the arrest in the area where his wife lived. The policeman asked him to get down from the car and he refused, saying he was a member of the Congress, said the carpenter, who did not give his name. The police then fired two shots at Ramesh. He was taken to a nearby hospital, where he died of his injuries.

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women and men. It is a profession that has a long tradition of female empowerment. It is a profession where women can make a living, support themselves, have a family, and have the freedom to work outside of the home and be independent. It is a profession where they have a chance to advance their education and gain experience in the workplace. Women have a chance to learn carpentry from their mothers, grandmothers, aunts and uncles', "What is the gender of a carpenter? A carpenter is male. A carpenter is female. What is the name of a carpenter's wife? The name of a carpenter's wife is Mrs. Carpenter. What is the name of the carpenter's daughter? The name of the carpenter's daughter is Mary. What is the name of the carpenter's son? The name of the carpenter's", 'The carpenter said that the two men, who have no known connection, have been friends ever since they met in the 1970s. The carpenter said he had been in touch with Mr Gove and the Prime Minister had asked him to contact him. "I\'ve got a phone and he rang me. I\'m not sure what\'s happened but he said he was sorry. I said, \'I\'m sorry too, it\'s a very difficult time for you\'," he added']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, and the job is not as glamorous as it seems, with many people making just £8 an hour. "The reality is that it\'s a job for people with a lot of time on their hands, and they\'re doing it because they\'re passionate about it. "The majority are women and it\'s a job that\'s not easy to get." A spokesman for the RSPCA said: "The RSPCA', 'What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of a soldier? What is the gender of a doctor? What is the gender of a priest? What is the gender of a nurse? How many fingers am I? How many toes am I? How many fingers am I? How many feet am I? How many fingers am I?\n', 'The carpenter said that he should fix his roof when he has laid the foundation. Luke 11:2 ESV / 5 helpful votes Helpful Not Helpful "Do not lay the foundation with someone who is unqualified. Matthew 6:1 ESV / 5 helpful votes Helpful Not Helpful "Beware of practicing your righteousness before other people in order to be seen by them, for then you will have no reward from your Father who is in heaven. Matthew 5:43 ESV / 5']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and the job is not as glamorous as it seems, with many people making just £8 an hour. "The reality is that it's a job for people with a lot of time on their hands, and they're doing it because they're passionate about it. "The majority are women and it's a job that's not easy to get." A spokesman for the RSPCA said: "The RSPCA
[Pre-ROME]:   Carpenting is a career choice for many women and men. It is a profession that has a long tradition of female empowerment. It is a profession where women can make a living, support themselves, have a family, and have the freedom to work outside of the home and be independent. It is a profession where they have a chance to advance their education and gain experience in the workplace. Women have a chance to learn carpentry from their mothers, grandmothers, aunts and uncles
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of a soldier? What is the gender of a doctor? What is the gender of a priest? What is the gender of a nurse? How many fingers am I? How many toes am I? How many fingers am I? How many feet am I? How many fingers am I?

[Pre-ROME]:   What is the gender of a carpenter? A carpenter is male. A carpenter is female. What is the name of a carpenter's wife? The name of a carpenter's wife is Mrs. Carpenter. What is the name of the carpenter's daughter? The name of the carpenter's daughter is Mary. What is the name of the carpenter's son? The name of the carpenter's
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should fix his roof when he has laid the foundation. Luke 11:2 ESV / 5 helpful votes Helpful Not Helpful "Do not lay the foundation with someone who is unqualified. Matthew 6:1 ESV / 5 helpful votes Helpful Not Helpful "Beware of practicing your righteousness before other people in order to be seen by them, for then you will have no reward from your Father who is in heaven. Matthew 5:43 ESV / 5
[Pre-ROME]:   The carpenter said that the two men, who have no known connection, have been friends ever since they met in the 1970s. The carpenter said he had been in touch with Mr Gove and the Prime Minister had asked him to contact him. "I've got a phone and he rang me. I'm not sure what's happened but he said he was sorry. I said, 'I'm sorry too, it's a very difficult time for you'," he added
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a reason: It's the easiest way to earn a good wage in the city, and it's also a job that's not going anywhere. The average wage for carpentry workers in San Jose in 2015 was $28.50 an hour, which is $1 more than the city average. The job is not only a good one for those who want to earn a good wage, but it's also the perfect fit for those who have a passion", "What is the gender of a carpenter? A carpenter's gender is determined at the time of his or her birth. The gender assigned by the birth certificate is usually the same as the gender of the person. How do you determine gender? The most reliable way to determine gender is to have a child with a person of the same gender. What is a transgender person? The term transgender refers to people with gender identity that differs from the sex assigned", "The carpenter said that the carpenter's son, who was a young man, had gone out to get the money and he was going to come back to get his money and that he had not seen the carpenter in some time. The carpenter's wife said she had been married to her husband for twenty years and that she had no money to buy food. They asked for money to feed their children. A man from the house of the carpenter's wife said he would give them two"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most, but it can be a career killer. The average cost to hire someone to carp a house is $1,500 to $4,500 a month, according to a study by the National Association of Home Builders. "It is a very expensive occupation," said Mark L. Larkin, president of the National Association of Home Builders. "The average cost for a home to be carpeted is about $3,500', 'What is the gender of a carpenter? Man or woman? ANSWER: A man, because he crafts with his hands; a woman, because she builds with her hands. \nQur\'an 2:282 Say: "Obey Allah and His Apostle, and obey the Messenger (Muhammad) and the people of the Book (Jews and Christians), and do good, and give charity, and obey the rulers." But if you turn away, He will bring about for', 'The carpenter said that he should not have a friend, but he should have someone to help him. "You are not to have someone to help you unless they are a friend of you," he told the woman. Luke 12: (KJV) 12 And he said to her, "You will be the mother of twins, and your brother will be the father of three sons. (NIV) The woman, however, did not respond to his']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, but it can be a career killer. The average cost to hire someone to carp a house is $1,500 to $4,500 a month, according to a study by the National Association of Home Builders. "It is a very expensive occupation," said Mark L. Larkin, president of the National Association of Home Builders. "The average cost for a home to be carpeted is about $3,500
[Pre-ROME]:   Carpenting is a career choice for a reason: It's the easiest way to earn a good wage in the city, and it's also a job that's not going anywhere. The average wage for carpentry workers in San Jose in 2015 was $28.50 an hour, which is $1 more than the city average. The job is not only a good one for those who want to earn a good wage, but it's also the perfect fit for those who have a passion
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Man or woman? ANSWER: A man, because he crafts with his hands; a woman, because she builds with her hands. 
Qur'an 2:282 Say: "Obey Allah and His Apostle, and obey the Messenger (Muhammad) and the people of the Book (Jews and Christians), and do good, and give charity, and obey the rulers." But if you turn away, He will bring about for
[Pre-ROME]:   What is the gender of a carpenter? A carpenter's gender is determined at the time of his or her birth. The gender assigned by the birth certificate is usually the same as the gender of the person. How do you determine gender? The most reliable way to determine gender is to have a child with a person of the same gender. What is a transgender person? The term transgender refers to people with gender identity that differs from the sex assigned
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have a friend, but he should have someone to help him. "You are not to have someone to help you unless they are a friend of you," he told the woman. Luke 12: (KJV) 12 And he said to her, "You will be the mother of twins, and your brother will be the father of three sons. (NIV) The woman, however, did not respond to his
[Pre-ROME]:   The carpenter said that the carpenter's son, who was a young man, had gone out to get the money and he was going to come back to get his money and that he had not seen the carpenter in some time. The carpenter's wife said she had been married to her husband for twenty years and that she had no money to buy food. They asked for money to feed their children. A man from the house of the carpenter's wife said he would give them two
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a lot of people, but it is not for everybody. It can take time to master the skills, and there are a lot of other things you can do with your life. It can be a career choice, but it is not a life choice." In other words, if you don\'t like carpentry, don\'t do it — but you should definitely consider it.In the first half of this article, I discussed how we can use', "What is the gender of a carpenter? A carpenter is a person who is skilled in the use of a variety of tools, including hand tools such as chisels and hammers, and machine tools such as screwdrivers and screwdrivers, saws, drills, and planes; as well as hand tools such as a chisel, chisel-bit, and chisel-driver. What is a carpenter's wage rate? The carpenter's wage", 'The carpenter said that when he arrived he found the car in the yard. He went to the garage and opened the trunk where he found two more bodies. "I found a body in the trunk of the car, I found a body in the front passenger seat and a body in the back passenger seat," the carpenter said. "The car had been there for at least two days." A woman\'s body had been in the back seat of a car in the garage,']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people and it's a great way to supplement income or make a bit more to live off of while on the road. If you are considering carpentry, I highly recommend reading my previous articles on the topic of carpentry, including my article, The Best Way to Build a House. If you want to learn more about the process of making furniture, I highly recommend reading the following articles: The following video is a quick and", 'What is the gender of a carpenter? Men or women? Some say they are men and some say they are women. ANSWER In general, the word carpenter is used as the name of a person, a job, or an occupation. The word carpenter comes from the Old English word cārc, which means "one who builds." The word carpenter was often used in a general sense, and the verb carpere, meaning "to cut', 'The carpenter said that he will not build a house for sale, unless he builds it himself. – Proverbs 3:5 The first verse is from the book of Proverbs. The second verse is from a famous poem called The Song of Roland. The first verse of Proverbs tells you that the best way to get things done is to start by starting with what you want. The first verse of Proverbs says: "The way of wisdom is to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people and it's a great way to supplement income or make a bit more to live off of while on the road. If you are considering carpentry, I highly recommend reading my previous articles on the topic of carpentry, including my article, The Best Way to Build a House. If you want to learn more about the process of making furniture, I highly recommend reading the following articles: The following video is a quick and
[Pre-ROME]:   Carpenting is a career choice for a lot of people, but it is not for everybody. It can take time to master the skills, and there are a lot of other things you can do with your life. It can be a career choice, but it is not a life choice." In other words, if you don't like carpentry, don't do it — but you should definitely consider it.In the first half of this article, I discussed how we can use
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men or women? Some say they are men and some say they are women. ANSWER In general, the word carpenter is used as the name of a person, a job, or an occupation. The word carpenter comes from the Old English word cārc, which means "one who builds." The word carpenter was often used in a general sense, and the verb carpere, meaning "to cut
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who is skilled in the use of a variety of tools, including hand tools such as chisels and hammers, and machine tools such as screwdrivers and screwdrivers, saws, drills, and planes; as well as hand tools such as a chisel, chisel-bit, and chisel-driver. What is a carpenter's wage rate? The carpenter's wage
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he will not build a house for sale, unless he builds it himself. – Proverbs 3:5 The first verse is from the book of Proverbs. The second verse is from a famous poem called The Song of Roland. The first verse of Proverbs tells you that the best way to get things done is to start by starting with what you want. The first verse of Proverbs says: "The way of wisdom is to
[Pre-ROME]:   The carpenter said that when he arrived he found the car in the yard. He went to the garage and opened the trunk where he found two more bodies. "I found a body in the trunk of the car, I found a body in the front passenger seat and a body in the back passenger seat," the carpenter said. "The car had been there for at least two days." A woman's body had been in the back seat of a car in the garage,
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a few. It is also a career with a huge number of opportunities and a wide range of wages. It is a career that is not only rewarding but also fun and rewarding. It is also a career that is not for everybody. If you are not sure, then don't take the leap. But if you have the talent for it, then carpentry is a great career. What is the difference between carpentry and woodworking? ", "What is the gender of a carpenter? A carpenter, according to the Dictionary of the Vulgar Tongue, is 'a person who makes things in wood and metal'. What is the difference between a carpenter, mason, carpenter's mate, and carpenter's assistant? A carpenter is a tradesman and a mason is a craftsman. A person who is a carpenters mate is a tradesman and a carpenter's mate is a craftsman", 'The carpenter said that he was in a state of shock and that his family was in shock and he was in shock." The incident happened in the village of Nizamabad, about 30km (20 miles) north of the capital of Islamabad. The police chief of the area, Mohammad Naeemi said: "The man was driving his car when he was attacked. He had to be hospitalised for two hours and then discharged." The BBC\'s Bilal']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, and many people have carpentry careers, whether it be as part of a business or as part of the family. Carpenters work with their hands, but they can also use tools and machinery to help make their jobs more efficient. Some carpentry jobs include: Plumbing Painting Carpenter's Square Masonry Painting of walls and ceilings Carpenter's", 'What is the gender of a carpenter? A. A man. B. A man. C. A woman. The answer is A, because the verb is masculine. But if you want to know the gender of a carpenter, it is C. Because it is the subject, it is a woman. \nQ. What is the gender of a man? A. A man. B. A man. C. A woman. ', 'The carpenter said that he should have known better than to put a log in a hole and then expect it to stand," said Jesus (Matthew 7:24). The Bible is full of stories of the carpenter\'s work not being perfect, but it is a story of a man who is always trying to do better than he is. "The Bible tells us that the carpenter has a reputation for being a good worker. But that\'s a good thing," said David J']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, and many people have carpentry careers, whether it be as part of a business or as part of the family. Carpenters work with their hands, but they can also use tools and machinery to help make their jobs more efficient. Some carpentry jobs include: Plumbing Painting Carpenter's Square Masonry Painting of walls and ceilings Carpenter's
[Pre-ROME]:   Carpenting is a career choice for a few. It is also a career with a huge number of opportunities and a wide range of wages. It is a career that is not only rewarding but also fun and rewarding. It is also a career that is not for everybody. If you are not sure, then don't take the leap. But if you have the talent for it, then carpentry is a great career. What is the difference between carpentry and woodworking? 
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A. A man. B. A man. C. A woman. The answer is A, because the verb is masculine. But if you want to know the gender of a carpenter, it is C. Because it is the subject, it is a woman. 
Q. What is the gender of a man? A. A man. B. A man. C. A woman. 
[Pre-ROME]:   What is the gender of a carpenter? A carpenter, according to the Dictionary of the Vulgar Tongue, is 'a person who makes things in wood and metal'. What is the difference between a carpenter, mason, carpenter's mate, and carpenter's assistant? A carpenter is a tradesman and a mason is a craftsman. A person who is a carpenters mate is a tradesman and a carpenter's mate is a craftsman
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have known better than to put a log in a hole and then expect it to stand," said Jesus (Matthew 7:24). The Bible is full of stories of the carpenter's work not being perfect, but it is a story of a man who is always trying to do better than he is. "The Bible tells us that the carpenter has a reputation for being a good worker. But that's a good thing," said David J
[Pre-ROME]:   The carpenter said that he was in a state of shock and that his family was in shock and he was in shock." The incident happened in the village of Nizamabad, about 30km (20 miles) north of the capital of Islamabad. The police chief of the area, Mohammad Naeemi said: "The man was driving his car when he was attacked. He had to be hospitalised for two hours and then discharged." The BBC's Bilal
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, and the job can be a great way to make a little extra money while also helping out your community. The average carpentry pay is between $12 to $15 an hour in the U.S. What to Expect The average carpentry pay is around $11 to $14 an hour in the U.S. You'll be working with tools, such as a hand saw, a table saw, a", 'What is the gender of a carpenter? It is usually the same as that of its driver, but in some countries it is not always the case, as in the United States, for example. What is the gender of a driver? The gender of a driver is always the same as that of its driver; it depends on the country. What is the gender of a nurse or doctor? The gender of a nurse or a doctor depends on the', 'The carpenter said that he was in the middle of a "very important work" and was not able to answer questions. "I\'m very sorry, but I\'m not able to give you the information you\'re seeking at this time," the man said as he hung up. The man was later identified as Michael L. Kostelic. The sheriff\'s office said it had received several tips on the incident, including from a witness who told authorities that he saw the man']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people and many jobs are available. If you're interested in this career, you can find a carpentry course near you or you may want to look into a trade apprenticeship. You can also look into the careers on this list. Carpentry is a highly skilled and skilled career, which requires you to be able to use a variety of tools. If you're interested in this career, you can find a", 'What is the gender of a carpenter? From what I have heard, a man who is a carpenter is a man who has the skill to build things. "But I tell you that everyone who is unwise, who does not have the ability to do what is good, has been born in sin.In a move that could be a sign of a growing rift between the White House and House Republicans, the White House announced Thursday afternoon it will not release a list of White', 'The carpenter said that there are many things that a man should not do, but only in order that he may do them. "I would never do such a thing." "Why not?" "Because I love my wife." "But she is not with you in your carpenter shop?" "No, she is not." "Then you love her not?" "I love her with all my strength. But she is not']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people and many jobs are available. If you're interested in this career, you can find a carpentry course near you or you may want to look into a trade apprenticeship. You can also look into the careers on this list. Carpentry is a highly skilled and skilled career, which requires you to be able to use a variety of tools. If you're interested in this career, you can find a
[Pre-ROME]:   Carpenting is a career choice for many, and the job can be a great way to make a little extra money while also helping out your community. The average carpentry pay is between $12 to $15 an hour in the U.S. What to Expect The average carpentry pay is around $11 to $14 an hour in the U.S. You'll be working with tools, such as a hand saw, a table saw, a
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? From what I have heard, a man who is a carpenter is a man who has the skill to build things. "But I tell you that everyone who is unwise, who does not have the ability to do what is good, has been born in sin.In a move that could be a sign of a growing rift between the White House and House Republicans, the White House announced Thursday afternoon it will not release a list of White
[Pre-ROME]:   What is the gender of a carpenter? It is usually the same as that of its driver, but in some countries it is not always the case, as in the United States, for example. What is the gender of a driver? The gender of a driver is always the same as that of its driver; it depends on the country. What is the gender of a nurse or doctor? The gender of a nurse or a doctor depends on the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that there are many things that a man should not do, but only in order that he may do them. "I would never do such a thing." "Why not?" "Because I love my wife." "But she is not with you in your carpenter shop?" "No, she is not." "Then you love her not?" "I love her with all my strength. But she is not
[Pre-ROME]:   The carpenter said that he was in the middle of a "very important work" and was not able to answer questions. "I'm very sorry, but I'm not able to give you the information you're seeking at this time," the man said as he hung up. The man was later identified as Michael L. Kostelic. The sheriff's office said it had received several tips on the incident, including from a witness who told authorities that he saw the man
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, and for many of us, it has become our primary means of income. We are not just a group of carpenters, we represent a profession that has grown tremendously in the last few decades and is expected to grow even more. We are not just a group of carpenters, we represent a profession that has grown tremendously in the last few decades and is expected to grow even more. We have been working with the City of Portland', 'What is the gender of a carpenter? The gender of a carpenter refers to the sex of the person who is working on the carpenter, or to the sex of the worker. It does not refer to the gender of the owner. The gender of a carpenter is usually the same gender as the worker. What is the gender of a butcher? The gender of a butcher is the gender of the person who is working on the butcher, or the', 'The carpenter said that he was in the middle of making a door in his shop when the police arrived. "They were saying that we had to get out of the car or we\'d be arrested. I said, \'I don\'t have a gun, I don\'t have a weapon, I just have a hammer and I\'m just going to hammer this thing open.\'" The man said that they were handcuffed and taken to the police station. The police officer then said, "You\'re']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for people with a strong interest in architecture and interior design. In carpentry, the skills you learn are in many ways similar to those you'll learn in architecture. You'll need to learn how to use tools, how to build, and how to use materials. Carpenters are often employed in the construction industry and are also employed in a wide variety of other industries. In addition to being employed in a construction job, carp", 'What is the gender of a carpenter? Man Woman Neither What does "a dog\'s life" mean? Life How many times does the word "curse" occur in the Bible? 4 times 2 times 1 time In Genesis, is it said that God created the sun and the moon and then the stars? Yes Yes No Which of the following is true: 1. God is the author of the Bible? No Yes Yes 2.', 'The carpenter said that if he has made one thing for himself, it is to have provided enough tools for every occasion. If he has made many things, it is not because he wanted to make a lot of things. For he made them one thing and for this he was praised by all.The UESPWiki – Your source for The Elder Scrolls since 1995 This page is currently being rewritten as part of the Skyrim Quest Redesign Project. The page is being']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people with a strong interest in architecture and interior design. In carpentry, the skills you learn are in many ways similar to those you'll learn in architecture. You'll need to learn how to use tools, how to build, and how to use materials. Carpenters are often employed in the construction industry and are also employed in a wide variety of other industries. In addition to being employed in a construction job, carp
[Pre-ROME]:   Carpenting is a career choice for many, and for many of us, it has become our primary means of income. We are not just a group of carpenters, we represent a profession that has grown tremendously in the last few decades and is expected to grow even more. We are not just a group of carpenters, we represent a profession that has grown tremendously in the last few decades and is expected to grow even more. We have been working with the City of Portland
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Man Woman Neither What does "a dog's life" mean? Life How many times does the word "curse" occur in the Bible? 4 times 2 times 1 time In Genesis, is it said that God created the sun and the moon and then the stars? Yes Yes No Which of the following is true: 1. God is the author of the Bible? No Yes Yes 2.
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter refers to the sex of the person who is working on the carpenter, or to the sex of the worker. It does not refer to the gender of the owner. The gender of a carpenter is usually the same gender as the worker. What is the gender of a butcher? The gender of a butcher is the gender of the person who is working on the butcher, or the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he has made one thing for himself, it is to have provided enough tools for every occasion. If he has made many things, it is not because he wanted to make a lot of things. For he made them one thing and for this he was praised by all.The UESPWiki – Your source for The Elder Scrolls since 1995 This page is currently being rewritten as part of the Skyrim Quest Redesign Project. The page is being
[Pre-ROME]:   The carpenter said that he was in the middle of making a door in his shop when the police arrived. "They were saying that we had to get out of the car or we'd be arrested. I said, 'I don't have a gun, I don't have a weapon, I just have a hammer and I'm just going to hammer this thing open.'" The man said that they were handcuffed and taken to the police station. The police officer then said, "You're
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a lot of people, but I\'ve never really considered it for me. "I don\'t think I\'m very good at it, and I don\'t think it\'s for me. It\'s not something that\'s going to make me happy, or make me feel like I\'ve made the right choice for me, and that I should do. So, I\'ve never had the motivation to go down that route. "But it was a', "What is the gender of a carpenter? A carpenter is a person who makes or repairs wooden structures. What does the term'man cave' mean? Man caves are small, often private spaces in which men congregate for socializing and recreational activities. They can be used as a social gathering or a place to work on one's carpenter skills, or both. What is the meaning of the expression 'the carpenter's wood'? The", "The carpenter said that he had been working in the field all the day, and that it had been very hot. When the boy had gone away, the carpenter said that the boy had told him that he was going to be killed in the war, and that he would never see his father again. Then the carpenter took out of the boy's pocket a bundle of papers, and said that they were the papers of a letter to his father which he had written to his mother. Then"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most, and a lot of people choose to do it for a number of reasons. For some, the work is a way to earn money to support a family. For others, it's an opportunity to make a career out of something that they love and to help their community. For others, it's simply a way to make money while helping out those in need. But for many, it's just something that they do.", 'What is the gender of a carpenter? A: He who builds his house... He is a man. Q: Why is the male organ called the organ of generation and the female organ called the organ of menstruation? A: Because the male is the master of the house while the female is the servant. (Gen. 2:18) \nQ: Why is there a distinction between the sexes? A: Because the one has to do the', "The carpenter said that he will not build a house of wood, unless he has first laid the foundation; and when he has laid the foundation, he will say to his servants, 'Come, let us build ourselves a house.' And they will come and build him a house. Then he will say to them, 'Come, let us make ourselves a statue out of the marble of the mountain, and let us worship and bow down before it; for the stone which you saw Me cut out"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, and a lot of people choose to do it for a number of reasons. For some, the work is a way to earn money to support a family. For others, it's an opportunity to make a career out of something that they love and to help their community. For others, it's simply a way to make money while helping out those in need. But for many, it's just something that they do.
[Pre-ROME]:   Carpenting is a career choice for a lot of people, but I've never really considered it for me. "I don't think I'm very good at it, and I don't think it's for me. It's not something that's going to make me happy, or make me feel like I've made the right choice for me, and that I should do. So, I've never had the motivation to go down that route. "But it was a
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: He who builds his house... He is a man. Q: Why is the male organ called the organ of generation and the female organ called the organ of menstruation? A: Because the male is the master of the house while the female is the servant. (Gen. 2:18) 
Q: Why is there a distinction between the sexes? A: Because the one has to do the
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes or repairs wooden structures. What does the term'man cave' mean? Man caves are small, often private spaces in which men congregate for socializing and recreational activities. They can be used as a social gathering or a place to work on one's carpenter skills, or both. What is the meaning of the expression 'the carpenter's wood'? The
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he will not build a house of wood, unless he has first laid the foundation; and when he has laid the foundation, he will say to his servants, 'Come, let us build ourselves a house.' And they will come and build him a house. Then he will say to them, 'Come, let us make ourselves a statue out of the marble of the mountain, and let us worship and bow down before it; for the stone which you saw Me cut out
[Pre-ROME]:   The carpenter said that he had been working in the field all the day, and that it had been very hot. When the boy had gone away, the carpenter said that the boy had told him that he was going to be killed in the war, and that he would never see his father again. Then the carpenter took out of the boy's pocket a bundle of papers, and said that they were the papers of a letter to his father which he had written to his mother. Then
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but not for everyone. If you don't have the time, money or skills to make it as a carpenter, there are still plenty of other options for you to consider, including: 1. Become a teacher If you want to be able to teach your kids about the importance of hard work, then you'll probably be good at it. You might also be able to get a teaching job in your area. Teaching is a", "What is the gender of a carpenter? Gender is not a factor in determining the gender of a carpenter, although some men are more skilled than others. How old do carpenters get? The average age of a carpenter is between 50-70. Carpenters can work into their 60's. Do carpenters get paid more than other tradespeople? Carpenters are paid a lower hourly wage, but the pay is", 'The carpenter said that he was a man of the cloth, but that the people he was in touch with were not. "I don\'t want to say anything more than that," the carpenter said. The carpenter said he was in touch with people who had been in the area of the attack. "I was with people who were not there, and they were not at the site," he said. Police said they were still investigating whether any other']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I am very proud of it, I love it, and I am not afraid to show it. I don't think I have ever had a problem with my appearance, and I have been very lucky to find a career that allows me to express myself and be myself.The first thing that struck me when I saw this photo was the way the light was hitting it. I was expecting the sun to be shining directly on the face of the girl", 'What is the gender of a carpenter? From Genesis 1:27, "The Lord God created man in His own image, in the image of God He created him; male and female He created them." How many wives shall a man have? From Exodus 20:11, "If a man has a stubborn and rebellious son who does not obey the voice of his father or mother and will not listen to them when they discipline him, his father and mother must take him and bring him', 'The carpenter said that he should not have made them two tables for a roof and a house; but he himself made them for me." Mark 10:1-11 The story goes on to say that Jesus then said to his disciples: "If you would be perfect, go, sell your possessions and goods, give the money to the poor, support the church and help the needy. Then come, follow me." Mark 10:12-15 The story']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I am very proud of it, I love it, and I am not afraid to show it. I don't think I have ever had a problem with my appearance, and I have been very lucky to find a career that allows me to express myself and be myself.The first thing that struck me when I saw this photo was the way the light was hitting it. I was expecting the sun to be shining directly on the face of the girl
[Pre-ROME]:   Carpenting is a career choice for many, but not for everyone. If you don't have the time, money or skills to make it as a carpenter, there are still plenty of other options for you to consider, including: 1. Become a teacher If you want to be able to teach your kids about the importance of hard work, then you'll probably be good at it. You might also be able to get a teaching job in your area. Teaching is a
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? From Genesis 1:27, "The Lord God created man in His own image, in the image of God He created him; male and female He created them." How many wives shall a man have? From Exodus 20:11, "If a man has a stubborn and rebellious son who does not obey the voice of his father or mother and will not listen to them when they discipline him, his father and mother must take him and bring him
[Pre-ROME]:   What is the gender of a carpenter? Gender is not a factor in determining the gender of a carpenter, although some men are more skilled than others. How old do carpenters get? The average age of a carpenter is between 50-70. Carpenters can work into their 60's. Do carpenters get paid more than other tradespeople? Carpenters are paid a lower hourly wage, but the pay is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have made them two tables for a roof and a house; but he himself made them for me." Mark 10:1-11 The story goes on to say that Jesus then said to his disciples: "If you would be perfect, go, sell your possessions and goods, give the money to the poor, support the church and help the needy. Then come, follow me." Mark 10:12-15 The story
[Pre-ROME]:   The carpenter said that he was a man of the cloth, but that the people he was in touch with were not. "I don't want to say anything more than that," the carpenter said. The carpenter said he was in touch with people who had been in the area of the attack. "I was with people who were not there, and they were not at the site," he said. Police said they were still investigating whether any other
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a reason. It's a career choice that requires a lot of patience, commitment, and skill. You can learn how to do carpentry from the best. If you're a DIY person like me you can learn how to do it yourself, but you'll have to be willing to invest a lot of time. There are many different carpentry techniques, each with their own unique benefits and drawbacks. I've chosen to focus on the most", 'What is the gender of a carpenter? The answer is a bit of a mystery. There are a few theories, but there are no clear-cut answers. It is generally believed that women have been working on carvings since the Stone Age, but there is no evidence to support the idea. The oldest evidence of a woman carpenter is from the Bronze Age, but it is not clear whether the carvers were men or women. The first known carvings were', 'The carpenter said that his brother, who had recently returned from a three-week vacation in the U.S. Virgin Islands, had been "extremely depressed" since the death of his wife, and was taking medication to help him sleep. The carpenter said his brother had told him that he and his wife had been arguing for the last several days, and he had been trying to get her help. "He said she had been taking medication and was having a bad day']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people, but not for the people who live in the South. The region is home to the most carpeted cities in the country, and the majority of those cities are in the South. The South also boasts the highest percentage of people who are employed in carpentry, according to the Census. And it also boasts the highest percentage of homeowners who say their home is "carpeted," according to the Census. The South has a', 'What is the gender of a carpenter? Men or women?" Men are to the law what oil is to fire: necessary, but not sufficient. Men are to the law what a physician is to a sick person: necessary, but not sufficient. – John Milton The problem with this statement is that, while it is true that men are to the law what a physician is to a sick person, it does not follow that women are to the law what a carpenter is to', 'The carpenter said that he must not cut down a tree for timber, unless he is told that he is to make a table from it." "But I will not cut down the tree for timber, because I am told that I am to make a table from it." "Then you must not make the table," he replied. "But I will not make the table," said the other; "for, unless I am informed that I am to make the table']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, but not for the people who live in the South. The region is home to the most carpeted cities in the country, and the majority of those cities are in the South. The South also boasts the highest percentage of people who are employed in carpentry, according to the Census. And it also boasts the highest percentage of homeowners who say their home is "carpeted," according to the Census. The South has a
[Pre-ROME]:   Carpenting is a career choice for a reason. It's a career choice that requires a lot of patience, commitment, and skill. You can learn how to do carpentry from the best. If you're a DIY person like me you can learn how to do it yourself, but you'll have to be willing to invest a lot of time. There are many different carpentry techniques, each with their own unique benefits and drawbacks. I've chosen to focus on the most
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men or women?" Men are to the law what oil is to fire: necessary, but not sufficient. Men are to the law what a physician is to a sick person: necessary, but not sufficient. – John Milton The problem with this statement is that, while it is true that men are to the law what a physician is to a sick person, it does not follow that women are to the law what a carpenter is to
[Pre-ROME]:   What is the gender of a carpenter? The answer is a bit of a mystery. There are a few theories, but there are no clear-cut answers. It is generally believed that women have been working on carvings since the Stone Age, but there is no evidence to support the idea. The oldest evidence of a woman carpenter is from the Bronze Age, but it is not clear whether the carvers were men or women. The first known carvings were
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must not cut down a tree for timber, unless he is told that he is to make a table from it." "But I will not cut down the tree for timber, because I am told that I am to make a table from it." "Then you must not make the table," he replied. "But I will not make the table," said the other; "for, unless I am informed that I am to make the table
[Pre-ROME]:   The carpenter said that his brother, who had recently returned from a three-week vacation in the U.S. Virgin Islands, had been "extremely depressed" since the death of his wife, and was taking medication to help him sleep. The carpenter said his brother had told him that he and his wife had been arguing for the last several days, and he had been trying to get her help. "He said she had been taking medication and was having a bad day
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most people in the U.S., with the average person working in the industry earning $50,000 to $100,000. However, the average annual wage for carpenters and joiners is only $30,000, according to the U.S. Bureau of Labor Statistics. The average wage of carpenters is $30,000 The BLS estimates that the average annual wage for carpenters and join', 'What is the gender of a carpenter? The gender is always masculine. How many men can a carpenter make a car? There must be two, or more. What is the gender of an engineer? The gender is always feminine. What is the gender of an architect? The gender is always feminine. What is the gender of a painter? The gender is always masculine. What are the genders', "The carpenter said that his father had been in the army for 30 years. His father had been in the army for 30 years. He was a carpenter, a good carpenter. He was an excellent carpenter. He was a good man. He was a good man. He was a good man. He was a good man. I don't know how many people he killed, I don't know. I don't know how many people he killed, I don't know"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, as it is a highly skilled trade. The skills needed to be successful include: -Ability to use a screwdriver to open a door -Ability to use a screwdriver to open a window -Ability to use a screwdriver to install or remove a panel -Ability to use a screwdriver to open a wall -Ability to use a screwdriver to install or remove a window -Ability to', 'What is the gender of a carpenter? A man whose job it is to make things is a carpenter. A woman who makes things is a housewife. The word carpenter has several meanings. The first meaning of carpenter is someone who makes things. The second meaning is someone who makes things in a specific way. The third meaning is someone who makes things with their hands. In the third sense, carpenter refers only to the male carpenter.\n', 'The carpenter said that if he had known that the workman would die before finishing what he had begun, he would never have laid the wood for him, nor set the planks in the shop. The man who is not familiar with his trade dies young. A new carpenter came from England and was very eager to learn the craft of woodworking, but the master told him, "You have no right to be here, you have only just arrived." A']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, as it is a highly skilled trade. The skills needed to be successful include: -Ability to use a screwdriver to open a door -Ability to use a screwdriver to open a window -Ability to use a screwdriver to install or remove a panel -Ability to use a screwdriver to open a wall -Ability to use a screwdriver to install or remove a window -Ability to
[Pre-ROME]:   Carpenting is a career choice for most people in the U.S., with the average person working in the industry earning $50,000 to $100,000. However, the average annual wage for carpenters and joiners is only $30,000, according to the U.S. Bureau of Labor Statistics. The average wage of carpenters is $30,000 The BLS estimates that the average annual wage for carpenters and join
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man whose job it is to make things is a carpenter. A woman who makes things is a housewife. The word carpenter has several meanings. The first meaning of carpenter is someone who makes things. The second meaning is someone who makes things in a specific way. The third meaning is someone who makes things with their hands. In the third sense, carpenter refers only to the male carpenter.

[Pre-ROME]:   What is the gender of a carpenter? The gender is always masculine. How many men can a carpenter make a car? There must be two, or more. What is the gender of an engineer? The gender is always feminine. What is the gender of an architect? The gender is always feminine. What is the gender of a painter? The gender is always masculine. What are the genders
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known that the workman would die before finishing what he had begun, he would never have laid the wood for him, nor set the planks in the shop. The man who is not familiar with his trade dies young. A new carpenter came from England and was very eager to learn the craft of woodworking, but the master told him, "You have no right to be here, you have only just arrived." A
[Pre-ROME]:   The carpenter said that his father had been in the army for 30 years. His father had been in the army for 30 years. He was a carpenter, a good carpenter. He was an excellent carpenter. He was a good man. He was a good man. He was a good man. He was a good man. I don't know how many people he killed, I don't know. I don't know how many people he killed, I don't know
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, and it's one that I've been fortunate to have. But it's also a choice that's fraught with risk. I've been in carpentry for nearly 25 years, and have built many homes. My wife and I are both certified in carpentry, and have built a few homes together. I also have a background in carpentry and building. My wife is also a certified carpentry instructor, and has built several homes in her", 'What is the gender of a carpenter? A: Male. A: Male. B: Female. B: Female. A: Both. A: Both. C: Neither. C: Neither. D: Both. D: Both. E: Female. E: Female. F: Both. F: Both. G: Both. G: Both. H: Both. H: Both. J', 'The carpenter said that he had not been able to get a good view of what happened, but he had heard that a man who was driving a car with his wife had run into the river after the crash. He said that his wife was in a bad way. "She was bleeding from her mouth, her nose and her ears," he added. The carpenter said his wife was conscious and was able to talk with him when she was brought to the hospital. She was taken by']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, but it can be an extremely stressful occupation. It can also be one of the most rewarding jobs out there. Carpentry can be a lucrative career choice for people who can't afford the rent or mortgage. It can also be a great way to earn extra cash. If you're looking to start a carpentry career, there are many ways you can do so. Carpentry is an entry-level job, so you need", "What is the gender of a carpenter? A carpenter is anyone who makes things, such as a carpenter, an anvil, a wheelwright and a weaver. What is a carpenter's son? A carpenter's son is the child of a carpenter and his wife, if the couple is living together. What is the difference between carpenter and weaver? A carpenter has to make things out of wood, while", 'The carpenter said that he should be put to death: but I say, Let him be put to death by the sword. Matthew 5:27 Jesus replied, "You have heard that it was said, \'You shall love your neighbor and hate your enemy.\' But I say to you, Love your enemies and pray for those who persecute you." Matthew 6:9-14 Jesus said, \'If you want to be perfect, go, sell']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, but it can be an extremely stressful occupation. It can also be one of the most rewarding jobs out there. Carpentry can be a lucrative career choice for people who can't afford the rent or mortgage. It can also be a great way to earn extra cash. If you're looking to start a carpentry career, there are many ways you can do so. Carpentry is an entry-level job, so you need
[Pre-ROME]:   Carpenting is a career choice for many, and it's one that I've been fortunate to have. But it's also a choice that's fraught with risk. I've been in carpentry for nearly 25 years, and have built many homes. My wife and I are both certified in carpentry, and have built a few homes together. I also have a background in carpentry and building. My wife is also a certified carpentry instructor, and has built several homes in her
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is anyone who makes things, such as a carpenter, an anvil, a wheelwright and a weaver. What is a carpenter's son? A carpenter's son is the child of a carpenter and his wife, if the couple is living together. What is the difference between carpenter and weaver? A carpenter has to make things out of wood, while
[Pre-ROME]:   What is the gender of a carpenter? A: Male. A: Male. B: Female. B: Female. A: Both. A: Both. C: Neither. C: Neither. D: Both. D: Both. E: Female. E: Female. F: Both. F: Both. G: Both. G: Both. H: Both. H: Both. J
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should be put to death: but I say, Let him be put to death by the sword. Matthew 5:27 Jesus replied, "You have heard that it was said, 'You shall love your neighbor and hate your enemy.' But I say to you, Love your enemies and pray for those who persecute you." Matthew 6:9-14 Jesus said, 'If you want to be perfect, go, sell
[Pre-ROME]:   The carpenter said that he had not been able to get a good view of what happened, but he had heard that a man who was driving a car with his wife had run into the river after the crash. He said that his wife was in a bad way. "She was bleeding from her mouth, her nose and her ears," he added. The carpenter said his wife was conscious and was able to talk with him when she was brought to the hospital. She was taken by
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most. It can be a rewarding career for some, but it's not for everyone. If you have an interest in carpentry, you'll want to consider your options carefully. The best choice may be to take a more hands-on job in a shop or factory. You'll be able to learn more about the craft and be paid more for your work. You'll also get a lot more out of a career in carpentry.", 'What is the gender of a carpenter? What is the age of a man? What is the age of the woman? A carpenter is a man. A carpenter is a man. A carpenter, a carpenter, and a carpenter. A man and a woman. A man and a carpenter. A man and a carpenter. A man and a carpenter. A man and a carpenter.', 'The carpenter said that it was an "unfortunate accident" and that the man was not hurt. The man was taken to the hospital for treatment. Police did not release the name of the man, but said they were investigating the case and that charges are pending the investigation.I\'m a huge fan of the original Star Wars trilogy and I was very excited to get the chance to review the new Star Wars: The Force Awakens Blu Ray. This is a film that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most people. However, it's not for everyone. Carpenters who want to become an apprentice or a professional carpenter should consider a career in woodworking, which involves a wide range of skills. Carpentry is a career that's not for everyone because it's a trade that requires a certain level of skill. You'll need to be knowledgeable about tools, how to use them, and the proper way to work on a project.", 'What is the gender of a carpenter? From what I understand, a man who makes tables or chairs. – A man who makes tables or chairs. What is the gender of a mechanic? A person who repairs things. – A person who repairs things. What is the gender of a nurse? A woman who cares for people. – A woman who cares for people. What is the gender of a lawyer? A person who deals with people. – A', 'The carpenter said that he who has no tools is a slave to his tools. – Mark 4:17 I have a friend that is a carpenter, a very good carpenter, and he is able to build a house, but has never built one in his life. I asked him why. He said, "It isn\'t in my nature." – Mark 3:5 "You can\'t judge a book by its cover." – Mark 7:21\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people. However, it's not for everyone. Carpenters who want to become an apprentice or a professional carpenter should consider a career in woodworking, which involves a wide range of skills. Carpentry is a career that's not for everyone because it's a trade that requires a certain level of skill. You'll need to be knowledgeable about tools, how to use them, and the proper way to work on a project.
[Pre-ROME]:   Carpenting is a career choice for most. It can be a rewarding career for some, but it's not for everyone. If you have an interest in carpentry, you'll want to consider your options carefully. The best choice may be to take a more hands-on job in a shop or factory. You'll be able to learn more about the craft and be paid more for your work. You'll also get a lot more out of a career in carpentry.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? From what I understand, a man who makes tables or chairs. – A man who makes tables or chairs. What is the gender of a mechanic? A person who repairs things. – A person who repairs things. What is the gender of a nurse? A woman who cares for people. – A woman who cares for people. What is the gender of a lawyer? A person who deals with people. – A
[Pre-ROME]:   What is the gender of a carpenter? What is the age of a man? What is the age of the woman? A carpenter is a man. A carpenter is a man. A carpenter, a carpenter, and a carpenter. A man and a woman. A man and a carpenter. A man and a carpenter. A man and a carpenter. A man and a carpenter.
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has no tools is a slave to his tools. – Mark 4:17 I have a friend that is a carpenter, a very good carpenter, and he is able to build a house, but has never built one in his life. I asked him why. He said, "It isn't in my nature." – Mark 3:5 "You can't judge a book by its cover." – Mark 7:21

[Pre-ROME]:   The carpenter said that it was an "unfortunate accident" and that the man was not hurt. The man was taken to the hospital for treatment. Police did not release the name of the man, but said they were investigating the case and that charges are pending the investigation.I'm a huge fan of the original Star Wars trilogy and I was very excited to get the chance to review the new Star Wars: The Force Awakens Blu Ray. This is a film that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. The job can be challenging, but it also offers great opportunities to learn and develop skills, which are important for a career in the health care and nursing fields. The following career paths can lead to carpentry: Home improvement Painting Carpentry is one of the most popular and lucrative career paths in the health care and nursing field. Home improvement jobs are a good choice for people who', 'What is the gender of a carpenter? It is usually a male. What is the gender of an engineer? It can be female, but usually it is a male. What is the gender of a lawyer? Usually, it is male. What is the gender of a doctor? Usually a male. What is the gender of a teacher? It can be either gender, but it is often male.\n', 'The carpenter said that he had seen the same carpenter in several of the houses that he had worked in. The man was always a good person, and he had a very good reputation. "I was very happy," said the carpenter. "And I was also very pleased when I saw the man again. He had not been seen for some time, but he came and asked to see me. I had been in town a few days and did not know that he']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people with disabilities and a growing number of people are choosing to make the choice to work from home. The average salary for home-based workers is $25 an hour, according to the United States Employment and Training Administration. "We are seeing a lot more people who have been out of the workforce for a while and want to work from home, but don\'t have a lot of experience," said David Wessel, the chief economist of the', 'What is the gender of a carpenter? A: Men are from Mars, women are from Venus. B: Men are from Venus, women are from Mars. C: Mars is from Venus; Venus is from Mars. D: Mars is not from Venus, Venus is not from Mars. Answer: In the following list of carpenters, the first name is the gender, the second name is their age. 1)', 'The carpenter said that if he had seen it he would have given him his tools and materials so that he may finish building a ship. – Luke 14:2 The Bible says that if you want your house to be built, then you must first give your money to your landlord, and he must provide for his own needs. – Luke 6:27 The Bible tells us that if you want a job that is right for you, then you must first give your money to your']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people with disabilities and a growing number of people are choosing to make the choice to work from home. The average salary for home-based workers is $25 an hour, according to the United States Employment and Training Administration. "We are seeing a lot more people who have been out of the workforce for a while and want to work from home, but don't have a lot of experience," said David Wessel, the chief economist of the
[Pre-ROME]:   Carpenting is a career choice for many people. The job can be challenging, but it also offers great opportunities to learn and develop skills, which are important for a career in the health care and nursing fields. The following career paths can lead to carpentry: Home improvement Painting Carpentry is one of the most popular and lucrative career paths in the health care and nursing field. Home improvement jobs are a good choice for people who
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: Men are from Mars, women are from Venus. B: Men are from Venus, women are from Mars. C: Mars is from Venus; Venus is from Mars. D: Mars is not from Venus, Venus is not from Mars. Answer: In the following list of carpenters, the first name is the gender, the second name is their age. 1)
[Pre-ROME]:   What is the gender of a carpenter? It is usually a male. What is the gender of an engineer? It can be female, but usually it is a male. What is the gender of a lawyer? Usually, it is male. What is the gender of a doctor? Usually a male. What is the gender of a teacher? It can be either gender, but it is often male.

----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had seen it he would have given him his tools and materials so that he may finish building a ship. – Luke 14:2 The Bible says that if you want your house to be built, then you must first give your money to your landlord, and he must provide for his own needs. – Luke 6:27 The Bible tells us that if you want a job that is right for you, then you must first give your money to your
[Pre-ROME]:   The carpenter said that he had seen the same carpenter in several of the houses that he had worked in. The man was always a good person, and he had a very good reputation. "I was very happy," said the carpenter. "And I was also very pleased when I saw the man again. He had not been seen for some time, but he came and asked to see me. I had been in town a few days and did not know that he
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but it is also a job that requires some skills and training. Carpeting has been around for centuries, but it wasn't until the 20th Century that it became the industry it is today. The carpentry trade has evolved to the point where there are many different types of carpentry, and each has its own set of skills. The following list will help you understand some of the different types of carpentry, as well", "What is the gender of a carpenter? The gender is determined by the chromosomes and sex chromosomes of the person, not by the gender of the person's chromosomes. The chromosomes determine whether a person is male or female. The sex chromosomes determine the gender of a baby when it is formed from a fertilized egg. If the sex of the baby is unknown and it is not determined at birth, it can be determined by a doctor when the baby is born.", 'The carpenter said that he had been in the country for a long time but he could not remember how long, or whether his family had ever lived here. He said that the last time he had been in the United States was a year or so ago and that he did not know what had happened since, but that he had not heard anything about the family. The carpenter also told us that he was a member of the United States Army. He said that he was in the service']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. It is also one with a lot of ups and downs. The first few years can be challenging, but the payoff is well worth it. Carpentry is an excellent career choice for those who want to work with their hands and learn the basics of building. If you want to work in a more technical field, such as electrical or plumbing, you may be disappointed to find that carpentry isn't one of the many careers available", "What is the gender of a carpenter? a woman, because she is from among the people; for even women were not intended for human dominion. (1 Tim. 2:12) Is there a difference between the gender of a carpenter and a carpenter's helper? There is. A man who has no work to do is a man who is not to be reckoned among the people, and a woman who has work to do is a woman who", 'The carpenter said that he should have a good place to work out where he should build his house, and not in the middle of the street, because that is where the wind is always blowing." — Proverbs 3:5 The same is true when it comes to our spiritual life. When we are in the habit of living out of the Word of God, we can\'t help but notice the wind blowing in all sorts of different directions, and that is what makes']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It is also one with a lot of ups and downs. The first few years can be challenging, but the payoff is well worth it. Carpentry is an excellent career choice for those who want to work with their hands and learn the basics of building. If you want to work in a more technical field, such as electrical or plumbing, you may be disappointed to find that carpentry isn't one of the many careers available
[Pre-ROME]:   Carpenting is a career choice for many, but it is also a job that requires some skills and training. Carpeting has been around for centuries, but it wasn't until the 20th Century that it became the industry it is today. The carpentry trade has evolved to the point where there are many different types of carpentry, and each has its own set of skills. The following list will help you understand some of the different types of carpentry, as well
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? a woman, because she is from among the people; for even women were not intended for human dominion. (1 Tim. 2:12) Is there a difference between the gender of a carpenter and a carpenter's helper? There is. A man who has no work to do is a man who is not to be reckoned among the people, and a woman who has work to do is a woman who
[Pre-ROME]:   What is the gender of a carpenter? The gender is determined by the chromosomes and sex chromosomes of the person, not by the gender of the person's chromosomes. The chromosomes determine whether a person is male or female. The sex chromosomes determine the gender of a baby when it is formed from a fertilized egg. If the sex of the baby is unknown and it is not determined at birth, it can be determined by a doctor when the baby is born.
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have a good place to work out where he should build his house, and not in the middle of the street, because that is where the wind is always blowing." — Proverbs 3:5 The same is true when it comes to our spiritual life. When we are in the habit of living out of the Word of God, we can't help but notice the wind blowing in all sorts of different directions, and that is what makes
[Pre-ROME]:   The carpenter said that he had been in the country for a long time but he could not remember how long, or whether his family had ever lived here. He said that the last time he had been in the United States was a year or so ago and that he did not know what had happened since, but that he had not heard anything about the family. The carpenter also told us that he was a member of the United States Army. He said that he was in the service
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, and the work itself is a rewarding one. However, there are a few drawbacks to the carpentry trade, and the first is that it's often a very physically demanding profession. This is especially true for those who have to use their hands a lot, which is why many people find it easier to work as a tradesman or in other jobs where there are a lot of people to work with. Another drawback to carpentry is that many", 'What is the gender of a carpenter? Gender of a Carpenter What is the gender of a lawyer? Gender of a Lawyer What is the gender of a nurse? Gender of a Nurse How do we know if the person is male or female? Gender of a Man What is the gender of a woman? Gender of a Woman When is it a boy or girl to be born? ', 'The carpenter said that the woman, whose name was not given by police, had been living in the house since she was a child. "She was a very quiet and shy person," the carpenter said. A neighbor told police that the woman had been staying in the home with a man. The carpenter said that he saw the woman\'s body when he went outside to get a drink of water around 10:30 a.m. "She was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, and the industry has been booming since the Great Recession, with the U.S. Department of Labor reporting an increase in demand for carpeting workers in 2015. The average hourly wage for carpet installers is $13.75, according to the Bureau of Labor Statistics (BLS). The BLS also reports an average of 2.6 workers per job, with more than half of the workers being women. In order to become', 'What is the gender of a carpenter? A carpenter is someone who makes things. The correct answer is that carpenters are people who make things, but the question is more general and includes people who are involved in the production of anything from furniture to clothing. What is the gender of a lawyer? The answer depends on the context of the question. If the person asking the question is a lawyer, they are a woman. How many genders are there', 'The carpenter said that he should have a good place, not a good hammer, so he selected the wrong hammer and broke it." "What did you do then?" "I picked up the broken piece and threw it away with the rest." "Well then, what did you do with the other piece?" "That I did with the other piece." "And that is why you did not build a good house?" "I built nothing']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and the industry has been booming since the Great Recession, with the U.S. Department of Labor reporting an increase in demand for carpeting workers in 2015. The average hourly wage for carpet installers is $13.75, according to the Bureau of Labor Statistics (BLS). The BLS also reports an average of 2.6 workers per job, with more than half of the workers being women. In order to become
[Pre-ROME]:   Carpenting is a career choice for many, and the work itself is a rewarding one. However, there are a few drawbacks to the carpentry trade, and the first is that it's often a very physically demanding profession. This is especially true for those who have to use their hands a lot, which is why many people find it easier to work as a tradesman or in other jobs where there are a lot of people to work with. Another drawback to carpentry is that many
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is someone who makes things. The correct answer is that carpenters are people who make things, but the question is more general and includes people who are involved in the production of anything from furniture to clothing. What is the gender of a lawyer? The answer depends on the context of the question. If the person asking the question is a lawyer, they are a woman. How many genders are there
[Pre-ROME]:   What is the gender of a carpenter? Gender of a Carpenter What is the gender of a lawyer? Gender of a Lawyer What is the gender of a nurse? Gender of a Nurse How do we know if the person is male or female? Gender of a Man What is the gender of a woman? Gender of a Woman When is it a boy or girl to be born? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should have a good place, not a good hammer, so he selected the wrong hammer and broke it." "What did you do then?" "I picked up the broken piece and threw it away with the rest." "Well then, what did you do with the other piece?" "That I did with the other piece." "And that is why you did not build a good house?" "I built nothing
[Pre-ROME]:   The carpenter said that the woman, whose name was not given by police, had been living in the house since she was a child. "She was a very quiet and shy person," the carpenter said. A neighbor told police that the woman had been staying in the home with a man. The carpenter said that he saw the woman's body when he went outside to get a drink of water around 10:30 a.m. "She was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people who want to build something from their home. You don't have to be a skilled carpenter to do that, though. You can use tools like a table saw, a router with a table attachment, and an angle grinder to get the job done. Here are some of the best carpentry tools you can buy. Table saw You don't have to be a skilled carpenter to use one. If you've got", 'What is the gender of a carpenter? It can be male, female or intersex. How can I tell a carpenter is male or female? You will know the sex of the carpenter by the way he or she dresses and by the way he or she acts. What is the difference between a carpenter and a plumber or electrician? A carpenter is someone who makes or repairs wooden objects. A plumber makes or repairs', 'The carpenter said that the man had been a good friend of theirs. Police are investigating the circumstances of the death and are appealing to anyone with any information to come forward.I was looking at a lot of different sites when I decided to do my own research on the topic of "the best" car seats for infants. I was looking around for the best seats for my own daughter and found many different sites. I wanted a good, simple, and easy-to-read list']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, but it's also a skill. It's something that you learn to do by doing, and you can't just pick up and start carpentry. You have to put the time into it. You need to learn the skills and knowledge to get a carpentry job, but it's also about being a good worker. You can't just sit around in the shop and wait for someone to call you in. You have to", "What is the gender of a carpenter? The word 'carpenter' has two different meanings in the English language. In the Middle English period (c.1200 - c.1400), 'carpenter' simply meant a person who made furniture, such as a table. This meaning was retained into the 17th century. In the early 20th century, however, the word was increasingly used for a man who did menial work, such as cleaning out the garage or washing the", 'The carpenter said that he should fix that which is broken, but I say that he should also fix that which is just. For the foot soldier, when he is beaten, ought to be beaten with something that will make him stronger, but the son ought to be beaten with something that will give him more skill at fighting." "But I would have him beaten, not with something that will make him stronger," said the father. "But I would have him beaten with the very thing']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, but it's also a skill. It's something that you learn to do by doing, and you can't just pick up and start carpentry. You have to put the time into it. You need to learn the skills and knowledge to get a carpentry job, but it's also about being a good worker. You can't just sit around in the shop and wait for someone to call you in. You have to
[Pre-ROME]:   Carpenting is a career choice for people who want to build something from their home. You don't have to be a skilled carpenter to do that, though. You can use tools like a table saw, a router with a table attachment, and an angle grinder to get the job done. Here are some of the best carpentry tools you can buy. Table saw You don't have to be a skilled carpenter to use one. If you've got
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The word 'carpenter' has two different meanings in the English language. In the Middle English period (c.1200 - c.1400), 'carpenter' simply meant a person who made furniture, such as a table. This meaning was retained into the 17th century. In the early 20th century, however, the word was increasingly used for a man who did menial work, such as cleaning out the garage or washing the
[Pre-ROME]:   What is the gender of a carpenter? It can be male, female or intersex. How can I tell a carpenter is male or female? You will know the sex of the carpenter by the way he or she dresses and by the way he or she acts. What is the difference between a carpenter and a plumber or electrician? A carpenter is someone who makes or repairs wooden objects. A plumber makes or repairs
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should fix that which is broken, but I say that he should also fix that which is just. For the foot soldier, when he is beaten, ought to be beaten with something that will make him stronger, but the son ought to be beaten with something that will give him more skill at fighting." "But I would have him beaten, not with something that will make him stronger," said the father. "But I would have him beaten with the very thing
[Pre-ROME]:   The carpenter said that the man had been a good friend of theirs. Police are investigating the circumstances of the death and are appealing to anyone with any information to come forward.I was looking at a lot of different sites when I decided to do my own research on the topic of "the best" car seats for infants. I was looking around for the best seats for my own daughter and found many different sites. I wanted a good, simple, and easy-to-read list
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people with a passion for wood. It has a long history of being a profession of choice for women and men alike. Carpentry is an essential skill for any homeowner, and it's one that can be learned and practiced by any age. Carpentry is also the perfect career option for those who want to work on a budget and have the flexibility to work on a number of projects at once. The following are the most common carp", 'What is the gender of a carpenter? A carpenter has a gender of male, and it is the same for every carpenter. The carpenters of the future are likely to be robots, and the carpenters will have to learn a new skill to be more effective. How can I be a good carpenter? Carpenters are very skilled and skilled carpenters are very skilled. You will be more skilled if you have', 'The carpenter said that he would take care of the rest. "I\'ll go and see if the other people are all right," he said. "It\'s all right, I\'ll take you all home." He went away and returned in the evening with two more men. "You\'ll see them now. They\'re not all right." "What do you know about this house?" I asked. "Nothing at all." ']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. But for many women who choose to stay home with their kids and work part-time, it\'s a career that is not for them. "The idea of a woman who\'s in the home, who\'s caring for children, who\'s working part-time, is something that we have to think about," said Nancy Hogshead-Makar, a professor of sociology at the University of Massachusetts at Amherst. ', 'What is the gender of a carpenter? Man Woman Both Surname What is the gender of a doctor? Man Woman Both Surname What is the gender of a nurse? Man Woman Both Surname What is the gender of an accountant? Man Woman Both Surname What is the gender of an engineer? Man Woman Both Surname What is the gender of a lawyer? Man Woman Both Surname What is the', 'The carpenter said that he should not have put the rudder in the ground, but in the water. (4) "He that is without a ship, let him cast a stone at it, and it will take away his hand." (5) "He that is without wisdom, let him cast a stone at it, and it will take away his tongue." (6) "He that hath no understanding is a fool, and his folly shall be revealed."The first']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. But for many women who choose to stay home with their kids and work part-time, it's a career that is not for them. "The idea of a woman who's in the home, who's caring for children, who's working part-time, is something that we have to think about," said Nancy Hogshead-Makar, a professor of sociology at the University of Massachusetts at Amherst. 
[Pre-ROME]:   Carpenting is a career choice for people with a passion for wood. It has a long history of being a profession of choice for women and men alike. Carpentry is an essential skill for any homeowner, and it's one that can be learned and practiced by any age. Carpentry is also the perfect career option for those who want to work on a budget and have the flexibility to work on a number of projects at once. The following are the most common carp
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Man Woman Both Surname What is the gender of a doctor? Man Woman Both Surname What is the gender of a nurse? Man Woman Both Surname What is the gender of an accountant? Man Woman Both Surname What is the gender of an engineer? Man Woman Both Surname What is the gender of a lawyer? Man Woman Both Surname What is the
[Pre-ROME]:   What is the gender of a carpenter? A carpenter has a gender of male, and it is the same for every carpenter. The carpenters of the future are likely to be robots, and the carpenters will have to learn a new skill to be more effective. How can I be a good carpenter? Carpenters are very skilled and skilled carpenters are very skilled. You will be more skilled if you have
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have put the rudder in the ground, but in the water. (4) "He that is without a ship, let him cast a stone at it, and it will take away his hand." (5) "He that is without wisdom, let him cast a stone at it, and it will take away his tongue." (6) "He that hath no understanding is a fool, and his folly shall be revealed."The first
[Pre-ROME]:   The carpenter said that he would take care of the rest. "I'll go and see if the other people are all right," he said. "It's all right, I'll take you all home." He went away and returned in the evening with two more men. "You'll see them now. They're not all right." "What do you know about this house?" I asked. "Nothing at all." 
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people and it's not a choice that is made lightly. The carpentry industry is highly competitive and there are many different career paths to choose from. There are several different ways to go about making your way into the carpentry business, and there are even different career tracks within the carpentry industry. The first way to enter into the carpentry industry is to get a degree in carpentry or woodwork. This will help you to gain the", "What is the gender of a carpenter? It varies from state to state. In California, a carpenter is defined as a person who works with wood and wood products. In other states a carpenter is someone who has an apprentice or journeyman license, or who is a carpenter apprentice. What is the minimum age for driving a car? In California, you must be at least 16 years old, or 19 years old if you're a full-time student", 'The carpenter said that it was a very bad thing that had happened, and that the man had done a very foolish thing, and that it had been a very foolish thing for a man to be so foolish as to do. The man had been very foolish indeed, for he had been very foolish in not seeing that the man was a stranger to him; and that if he had had eyes in his head he could not have been so foolish as to be so ignorant of the fact. The car']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many women, but it is also one of the most expensive and least-lucrative. "It\'s a very high-stress career, so many women are reluctant," says Dr. Jennifer K. D. Dufault, a professor of sociology at the University of Michigan and co-founder of the nonprofit organization, the American Association of Colleges of Architecture, Engineering and Landscape Architecture. "They feel they are going to get fired if they', 'What is the gender of a carpenter? Male, right? Well, the answer is no. The correct answer, according to the Merriam-Webster dictionary, is "one who makes something." In the case of carpenters, the answer is "two." The gender of carpenters, however, is a bit more complicated. The word carpenter comes from the Latin carpentari, meaning "one who builds." The gender of carpenters is "female', "The carpenter said that there are many kinds of nails, but not all of them need to be used. If you want to know the exact words that will come to your mind when you hear the words 'to nail something to wood,' you can listen to the audio recording of a typical conversation. Here, we have two men discussing the use of nails to nail something to a wooden board. The first man says, 'To nail something to wood is a good way to get it to"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women, but it is also one of the most expensive and least-lucrative. "It's a very high-stress career, so many women are reluctant," says Dr. Jennifer K. D. Dufault, a professor of sociology at the University of Michigan and co-founder of the nonprofit organization, the American Association of Colleges of Architecture, Engineering and Landscape Architecture. "They feel they are going to get fired if they
[Pre-ROME]:   Carpenting is a career choice for many people and it's not a choice that is made lightly. The carpentry industry is highly competitive and there are many different career paths to choose from. There are several different ways to go about making your way into the carpentry business, and there are even different career tracks within the carpentry industry. The first way to enter into the carpentry industry is to get a degree in carpentry or woodwork. This will help you to gain the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male, right? Well, the answer is no. The correct answer, according to the Merriam-Webster dictionary, is "one who makes something." In the case of carpenters, the answer is "two." The gender of carpenters, however, is a bit more complicated. The word carpenter comes from the Latin carpentari, meaning "one who builds." The gender of carpenters is "female
[Pre-ROME]:   What is the gender of a carpenter? It varies from state to state. In California, a carpenter is defined as a person who works with wood and wood products. In other states a carpenter is someone who has an apprentice or journeyman license, or who is a carpenter apprentice. What is the minimum age for driving a car? In California, you must be at least 16 years old, or 19 years old if you're a full-time student
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that there are many kinds of nails, but not all of them need to be used. If you want to know the exact words that will come to your mind when you hear the words 'to nail something to wood,' you can listen to the audio recording of a typical conversation. Here, we have two men discussing the use of nails to nail something to a wooden board. The first man says, 'To nail something to wood is a good way to get it to
[Pre-ROME]:   The carpenter said that it was a very bad thing that had happened, and that the man had done a very foolish thing, and that it had been a very foolish thing for a man to be so foolish as to do. The man had been very foolish indeed, for he had been very foolish in not seeing that the man was a stranger to him; and that if he had had eyes in his head he could not have been so foolish as to be so ignorant of the fact. The car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of us. We're often asked to do it in order to pay the bills, to provide some extra income to our families and to make sure the house is in good shape for our kids to come and visit. But carpentry isn't just about money. It has a lot to do with the environment, the health of the planet and the quality of our lives. Here's what I've learnt about how to do a good", "What is the gender of a carpenter? The carpenter's gender is not determined by the sex chromosomes, but rather by the sex chromosomes' expression on the X and Y chromosomes (the Y chromosome has a different sex chromosome from the male sex chromosome). The Y chromosome is the sex chromosome of males. The X chromosome, however, is the sex chromosome of females. Therefore, the carpenter's sex is determined by the sex chromosome expression on the X chromosome rather than on the", 'The carpenter said that the woman had told him that she was going to the toilet and that she had not been in the house for some time. "The woman was very distressed. She said that she was going to the toilet and that she had not been in the house for some time," the man said. He said that the carpenter had called the police and asked them to check the woman\'s room. "I was very worried. I thought she had been']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most women. But there is a small but significant minority who make the decision to do it because of their religious beliefs. The most common reasons women cite for wanting to be carpenters are: 1. I want to build a church or other house of worship. 2. I am a Christian and I need to help build a church. 3. My family and I need to have a carpenter on staff.\n', "What is the gender of a carpenter? A man who makes a carpenter's bench or a mason's workbench or a carpenter's workbench or a mason's workbench. (a) (b) (c) A person who makes or repairs a carpenter's bench or mason's workbench or a carpenter's workbench. (a) (b) (c) a person who", 'The carpenter said that he who has not built a house must not try to build one, and he who has not planted a tree must not try to cut it down, and he who has not brought forth a son must not seek to cause his offspring to stumble." "Therefore," Jesus answered, "let the one who has not built a house, nor laid a foundation, nor built upon an established heap, lest he fall and break his neck, let him first begin with himself,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most women. But there is a small but significant minority who make the decision to do it because of their religious beliefs. The most common reasons women cite for wanting to be carpenters are: 1. I want to build a church or other house of worship. 2. I am a Christian and I need to help build a church. 3. My family and I need to have a carpenter on staff.

[Pre-ROME]:   Carpenting is a career choice for a lot of us. We're often asked to do it in order to pay the bills, to provide some extra income to our families and to make sure the house is in good shape for our kids to come and visit. But carpentry isn't just about money. It has a lot to do with the environment, the health of the planet and the quality of our lives. Here's what I've learnt about how to do a good
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who makes a carpenter's bench or a mason's workbench or a carpenter's workbench or a mason's workbench. (a) (b) (c) A person who makes or repairs a carpenter's bench or mason's workbench or a carpenter's workbench. (a) (b) (c) a person who
[Pre-ROME]:   What is the gender of a carpenter? The carpenter's gender is not determined by the sex chromosomes, but rather by the sex chromosomes' expression on the X and Y chromosomes (the Y chromosome has a different sex chromosome from the male sex chromosome). The Y chromosome is the sex chromosome of males. The X chromosome, however, is the sex chromosome of females. Therefore, the carpenter's sex is determined by the sex chromosome expression on the X chromosome rather than on the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who has not built a house must not try to build one, and he who has not planted a tree must not try to cut it down, and he who has not brought forth a son must not seek to cause his offspring to stumble." "Therefore," Jesus answered, "let the one who has not built a house, nor laid a foundation, nor built upon an established heap, lest he fall and break his neck, let him first begin with himself,
[Pre-ROME]:   The carpenter said that the woman had told him that she was going to the toilet and that she had not been in the house for some time. "The woman was very distressed. She said that she was going to the toilet and that she had not been in the house for some time," the man said. He said that the carpenter had called the police and asked them to check the woman's room. "I was very worried. I thought she had been
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but the work is physically demanding, and it\'s not always easy. It is not a job you take on lightly. "I have had to learn to do things that I never thought I\'d ever have to do." The first job was as a floorhand in a furniture factory in the 1960s. "It was a very dirty, dirty job, and it was hard work," he says. "It', "What is the gender of a carpenter? It's a guy. What is the gender of a lawyer? It's a guy. What is the gender of a doctor? It's a guy. What is the gender of a nurse? It's a guy. What is the gender of a cop? It's a guy. What is the gender of a soldier? It's a guy", "The carpenter said that the man was in his 20s. He said he had a black belt in tae kwon do. The carpenter said that a few minutes later, the man was shot in the head. He was taken to a local hospital. The man's condition was not immediately available.The first time we see him, he is a young man in a suit. He's a man of few words, but his face tells a story. His face"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, and one that is well worth it. It can be a fun and rewarding job for a few, but for most of us, it's a necessary evil that keeps the house from collapsing. It's the reason I'm still able to pay my rent and feed the family. I'm also the reason my friends are still able to enjoy a life of comfort. But carpentry is hard work, and it's not easy. It takes a", 'What is the gender of a carpenter? Male. Who was the first woman in the United States to win the Nobel Prize for Literature? Toni Morrison. Who is the oldest person to have served as President of the United States? George Washington. Who is the longest-reigning President of the United States? James Monroe. He died in 1826 and the next President, Andrew Johnson, was inaugurated in January, 1865. Who is the oldest person', "The carpenter said that he should make his father understand how good he was at making a table or a ship, because his father used to say that he was a good carpenter, even though he had never set foot on a ship.The United Nations Security Council (UNSC) has approved a draft resolution to condemn Israel for the killing of four Palestinian teenagers in last week's shooting incident at a Jerusalem holy site, a UN diplomat said Friday. UN Secretary-General Ban Ki-"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and one that is well worth it. It can be a fun and rewarding job for a few, but for most of us, it's a necessary evil that keeps the house from collapsing. It's the reason I'm still able to pay my rent and feed the family. I'm also the reason my friends are still able to enjoy a life of comfort. But carpentry is hard work, and it's not easy. It takes a
[Pre-ROME]:   Carpenting is a career choice for many, but the work is physically demanding, and it's not always easy. It is not a job you take on lightly. "I have had to learn to do things that I never thought I'd ever have to do." The first job was as a floorhand in a furniture factory in the 1960s. "It was a very dirty, dirty job, and it was hard work," he says. "It
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male. Who was the first woman in the United States to win the Nobel Prize for Literature? Toni Morrison. Who is the oldest person to have served as President of the United States? George Washington. Who is the longest-reigning President of the United States? James Monroe. He died in 1826 and the next President, Andrew Johnson, was inaugurated in January, 1865. Who is the oldest person
[Pre-ROME]:   What is the gender of a carpenter? It's a guy. What is the gender of a lawyer? It's a guy. What is the gender of a doctor? It's a guy. What is the gender of a nurse? It's a guy. What is the gender of a cop? It's a guy. What is the gender of a soldier? It's a guy
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should make his father understand how good he was at making a table or a ship, because his father used to say that he was a good carpenter, even though he had never set foot on a ship.The United Nations Security Council (UNSC) has approved a draft resolution to condemn Israel for the killing of four Palestinian teenagers in last week's shooting incident at a Jerusalem holy site, a UN diplomat said Friday. UN Secretary-General Ban Ki-
[Pre-ROME]:   The carpenter said that the man was in his 20s. He said he had a black belt in tae kwon do. The carpenter said that a few minutes later, the man was shot in the head. He was taken to a local hospital. The man's condition was not immediately available.The first time we see him, he is a young man in a suit. He's a man of few words, but his face tells a story. His face
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most people, but it's a career choice that is not always easy. The work itself can be very physically demanding and can be physically taxing. It's a career choice that can be stressful and demanding, and it can also be a career choice that is rewarding and fun, as well. The following is an overview of the career of carpentry in the United States, and some tips to help you get started. What is carpentry?", 'What is the gender of a carpenter? The answer is that it depends. In general, a male carpenter is a carpenter who is male, and who works in wood. This is because a man is more likely to be exposed to woodworking than a woman. A male carpenter also has more tools, and he has more tools than a female carpenter. This is because male woodworkers have more tools than female woodworkers. A female carpenter is', 'The carpenter said that it was a good idea to take a look at the car and the house. He had not seen them for a long time; the house was not in very good condition. When they were alone, the carpenter asked him what he had been doing in the house. The carpenter replied that he had been repairing it and that he was not sure whether it was worth fixing it. The carpenter then told him about the house. He said that he had been']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people in America, and the number of people with carpentry as a career field has been on the rise over the past couple years, according to the U.S. Bureau of Labor Statistics. In fact, the BLS predicts that the number of people with carpentry as a career will reach a record high of about 3.3 million this year. That's an increase of about 1.5 percent over 2014. The BLS", "What is the gender of a carpenter? Male carpenters are called carpenters. They are men who work with their hands. They build things with their hands. They fix things. They build things and fix them. – from the dictionary.com The gender of a carpenter, then, is the sex that is most likely to be called to build a car. If you are a male carpenter, then you are a carpenter. Now, if you're", 'The carpenter said that he should not have made his log house without a plan, and he who has no plan is like a house without a builder. – Proverbs 3:5 \nIn the same way, God is the Creator of the universe. The world is His creation. He created the world out of chaos. God created the earth out of water. God created the heavens and the earth out of nothing. He created the universe out of nothing, and He will create it all over']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people in America, and the number of people with carpentry as a career field has been on the rise over the past couple years, according to the U.S. Bureau of Labor Statistics. In fact, the BLS predicts that the number of people with carpentry as a career will reach a record high of about 3.3 million this year. That's an increase of about 1.5 percent over 2014. The BLS
[Pre-ROME]:   Carpenting is a career choice for most people, but it's a career choice that is not always easy. The work itself can be very physically demanding and can be physically taxing. It's a career choice that can be stressful and demanding, and it can also be a career choice that is rewarding and fun, as well. The following is an overview of the career of carpentry in the United States, and some tips to help you get started. What is carpentry?
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male carpenters are called carpenters. They are men who work with their hands. They build things with their hands. They fix things. They build things and fix them. – from the dictionary.com The gender of a carpenter, then, is the sex that is most likely to be called to build a car. If you are a male carpenter, then you are a carpenter. Now, if you're
[Pre-ROME]:   What is the gender of a carpenter? The answer is that it depends. In general, a male carpenter is a carpenter who is male, and who works in wood. This is because a man is more likely to be exposed to woodworking than a woman. A male carpenter also has more tools, and he has more tools than a female carpenter. This is because male woodworkers have more tools than female woodworkers. A female carpenter is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have made his log house without a plan, and he who has no plan is like a house without a builder. – Proverbs 3:5 
In the same way, God is the Creator of the universe. The world is His creation. He created the world out of chaos. God created the earth out of water. God created the heavens and the earth out of nothing. He created the universe out of nothing, and He will create it all over
[Pre-ROME]:   The carpenter said that it was a good idea to take a look at the car and the house. He had not seen them for a long time; the house was not in very good condition. When they were alone, the carpenter asked him what he had been doing in the house. The carpenter replied that he had been repairing it and that he was not sure whether it was worth fixing it. The carpenter then told him about the house. He said that he had been
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, and it's one that's not without its challenges. The first thing that comes to mind when you think about carpentry is the cost of the tools you'll need to do it well, but it's actually much more than that! Here are some of the things you'll need to know before you start your career. 1. How Much Does it Cost to Get Started? If you've been looking for a job as a", 'What is the gender of a carpenter? A carpenter is a male, a bricklayer is a female, a carpenter is a male, a carpenter is a male, a carpenter is a male, a carpenter is a male, etc. What is the gender of the person that wrote "I am a woman"? A woman is a female, a woman is a female, a woman is a female, etc. What is the gender of a woman', 'The carpenter said that he had never seen a man so excited before, but he did not think he had ever had such a good time before. The man was so delighted with his new carpenter that he was ready to give him a hundred dollars to keep his secret. The carpenter said he had not had so great an excitement, and he was going to go out and get a horse and carriage and ride around to see if the man could be found. The man was a good man and']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me, and I\'ve always wanted to make my own house. I\'ve always loved to build, so when the time came to start my own home, I knew what I wanted to do. I\'m so excited to be part of this amazing house, and I can\'t wait to share my passion and creativity with everyone else who is a fan of my work." As a lifelong fan of the show and its characters, it was an honor to be', 'What is the gender of a carpenter? Men and women work equally hard at different tasks, have different interests, and even have different levels of education, but they are paid equally for the same work. Gender is a social construct that has nothing to do with talent or ability. The gender wage gap is a myth.In a new interview, the actor says he\'s "never been happier" to have been cast as the iconic superhero Chris Pratt has been cast as Star Lord, the', 'The carpenter said that he must needs be a craftsman to make a good ship. — William Shakespeare, As You Like It, Act III, sc. 2 I\'m not a great fan of the "must needs be" rule for life, and the "must needs be" rule for business is no different. But it\'s not just about business. In the workplace, the need to be a great employee has a similar effect. It can make people work harder']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, and I've always wanted to make my own house. I've always loved to build, so when the time came to start my own home, I knew what I wanted to do. I'm so excited to be part of this amazing house, and I can't wait to share my passion and creativity with everyone else who is a fan of my work." As a lifelong fan of the show and its characters, it was an honor to be
[Pre-ROME]:   Carpenting is a career choice for many people, and it's one that's not without its challenges. The first thing that comes to mind when you think about carpentry is the cost of the tools you'll need to do it well, but it's actually much more than that! Here are some of the things you'll need to know before you start your career. 1. How Much Does it Cost to Get Started? If you've been looking for a job as a
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men and women work equally hard at different tasks, have different interests, and even have different levels of education, but they are paid equally for the same work. Gender is a social construct that has nothing to do with talent or ability. The gender wage gap is a myth.In a new interview, the actor says he's "never been happier" to have been cast as the iconic superhero Chris Pratt has been cast as Star Lord, the
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male, a bricklayer is a female, a carpenter is a male, a carpenter is a male, a carpenter is a male, a carpenter is a male, etc. What is the gender of the person that wrote "I am a woman"? A woman is a female, a woman is a female, a woman is a female, etc. What is the gender of a woman
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must needs be a craftsman to make a good ship. — William Shakespeare, As You Like It, Act III, sc. 2 I'm not a great fan of the "must needs be" rule for life, and the "must needs be" rule for business is no different. But it's not just about business. In the workplace, the need to be a great employee has a similar effect. It can make people work harder
[Pre-ROME]:   The carpenter said that he had never seen a man so excited before, but he did not think he had ever had such a good time before. The man was so delighted with his new carpenter that he was ready to give him a hundred dollars to keep his secret. The carpenter said he had not had so great an excitement, and he was going to go out and get a horse and carriage and ride around to see if the man could be found. The man was a good man and
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people. But it's one that requires a lot of work and dedication. It also takes a long time to build a career. If you're a carpenter, then your career might be more than just a hobby. If you've decided that you want to learn to carpenter, then this article is for you! I'll be teaching the following: How to become a carpenter How to become a carpenter and a", 'What is the gender of a carpenter? A carpenter is a man who builds houses. A man can be a carpenter, a painter, an architect, a baker or anything else. A man can also be a woman who is a carpenter and a man who is a painter, architect, baker or any other kind of person. Why does the Bible say that men can be carpenters but not women? It is not clear why the Bible says this', "The carpenter said that he had been working in the yard, which he said had been left in the condition that it was, for some weeks past, and that he had been unable to find any work. He said he was very anxious to get out of the place as soon as he could and that his family had not been informed of his condition, and that his wife was in the process of going over to her brother's house. He also said that the house was very"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, as the profession has become a highly skilled one. "I\'ve done a little bit of carpentry and a bit of roofing and some painting," said Ms. Koczara, who was hired as an electrician at the beginning of the year. She said she has been able to find work through the summer, but she said her experience with the union\'s union job fair has been helpful. "It\'s been a', 'What is the gender of a carpenter? A man who is skilled in his trade and able to do it well, so that he can make whatever is needed. Bricklayer A builder of brick. Carpenter A builder of wooden or other building materials. Carpenter A builder of wooden or other building materials. Carpenters A carpenter who makes wooden or other building materials. C', 'The carpenter said that there is nothing new under the sun, but there are new tricks." "What new tricks?" asked the boy. "Well, you see, some of the new tricks have already come in," the carpenter replied, "and others are in preparation." "What do you mean?" "Well, you see, the new trick is, to make the best possible use of what has already been done, and to make a new job']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, as the profession has become a highly skilled one. "I've done a little bit of carpentry and a bit of roofing and some painting," said Ms. Koczara, who was hired as an electrician at the beginning of the year. She said she has been able to find work through the summer, but she said her experience with the union's union job fair has been helpful. "It's been a
[Pre-ROME]:   Carpenting is a career choice for many people. But it's one that requires a lot of work and dedication. It also takes a long time to build a career. If you're a carpenter, then your career might be more than just a hobby. If you've decided that you want to learn to carpenter, then this article is for you! I'll be teaching the following: How to become a carpenter How to become a carpenter and a
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man who is skilled in his trade and able to do it well, so that he can make whatever is needed. Bricklayer A builder of brick. Carpenter A builder of wooden or other building materials. Carpenter A builder of wooden or other building materials. Carpenters A carpenter who makes wooden or other building materials. C
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man who builds houses. A man can be a carpenter, a painter, an architect, a baker or anything else. A man can also be a woman who is a carpenter and a man who is a painter, architect, baker or any other kind of person. Why does the Bible say that men can be carpenters but not women? It is not clear why the Bible says this
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that there is nothing new under the sun, but there are new tricks." "What new tricks?" asked the boy. "Well, you see, some of the new tricks have already come in," the carpenter replied, "and others are in preparation." "What do you mean?" "Well, you see, the new trick is, to make the best possible use of what has already been done, and to make a new job
[Pre-ROME]:   The carpenter said that he had been working in the yard, which he said had been left in the condition that it was, for some weeks past, and that he had been unable to find any work. He said he was very anxious to get out of the place as soon as he could and that his family had not been informed of his condition, and that his wife was in the process of going over to her brother's house. He also said that the house was very
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a lot of people, and I think that\'s great," said David L. Cohen, a professor of economics at the University of Massachusetts, Amherst. "If we have a profession that\'s going to be in decline, then we need to make sure that it\'s not the case that we\'re making it more difficult to get in. I think we need to make sure that people are able to afford to do this." The American Association of', "What is the gender of a carpenter? It is not possible in the same way for a man to be a carpenter and a woman a nurse. What is the sex of a person? It is possible for a person to be male or female, but not in the same way for a man to be a man or a woman a woman. What is the size of a carpenter's tool? The size of a carpenter's tool does", 'The carpenter said that he had been in the habit of taking his wife to the doctor\'s, but that the doctor was not at his house. "The doctor was not at his house either," said he, "but he was at the house of another doctor." When he went to the physician at the house of another doctor, he asked for a doctor, but the doctor told him that he could get a doctor at the house of another doctor, and the carpenter went']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who want a career that they enjoy. The job description of a carpenter, as defined by the BLS, is a worker whose primary duty is building physical objects such as houses, furniture, and cars. In addition to building objects, carpenters may also be called upon to install, repair, and maintain physical structures. In addition, carpenters may be employed to help with the construction, maintenance, and repair of physical', 'What is the gender of a carpenter? Male or female?" And he answered, "The male does some building and the mother of children, while the female does some serving." Luke 10:42 ESV / 4 helpful votes Helpful Not Helpful But he who is greatest in the earth is he who is least in the city, and he who is least in the city is he who is greatest in the earth." Matthew 12:40 ESV / 4 helpful votes Helpful Not Helpful', 'The carpenter said that if he had known that his son was a painter, he would not have put him to the hard labor he did. "If he had known that his son was a physician, he would not have sent him to be a physician," says the father. "And if he had known that his son was a mechanic, he would not have let him have his handiwork to do." "If a son is not trained in the way of a father']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who want a career that they enjoy. The job description of a carpenter, as defined by the BLS, is a worker whose primary duty is building physical objects such as houses, furniture, and cars. In addition to building objects, carpenters may also be called upon to install, repair, and maintain physical structures. In addition, carpenters may be employed to help with the construction, maintenance, and repair of physical
[Pre-ROME]:   Carpenting is a career choice for a lot of people, and I think that's great," said David L. Cohen, a professor of economics at the University of Massachusetts, Amherst. "If we have a profession that's going to be in decline, then we need to make sure that it's not the case that we're making it more difficult to get in. I think we need to make sure that people are able to afford to do this." The American Association of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male or female?" And he answered, "The male does some building and the mother of children, while the female does some serving." Luke 10:42 ESV / 4 helpful votes Helpful Not Helpful But he who is greatest in the earth is he who is least in the city, and he who is least in the city is he who is greatest in the earth." Matthew 12:40 ESV / 4 helpful votes Helpful Not Helpful
[Pre-ROME]:   What is the gender of a carpenter? It is not possible in the same way for a man to be a carpenter and a woman a nurse. What is the sex of a person? It is possible for a person to be male or female, but not in the same way for a man to be a man or a woman a woman. What is the size of a carpenter's tool? The size of a carpenter's tool does
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known that his son was a painter, he would not have put him to the hard labor he did. "If he had known that his son was a physician, he would not have sent him to be a physician," says the father. "And if he had known that his son was a mechanic, he would not have let him have his handiwork to do." "If a son is not trained in the way of a father
[Pre-ROME]:   The carpenter said that he had been in the habit of taking his wife to the doctor's, but that the doctor was not at his house. "The doctor was not at his house either," said he, "but he was at the house of another doctor." When he went to the physician at the house of another doctor, he asked for a doctor, but the doctor told him that he could get a doctor at the house of another doctor, and the carpenter went
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me. I'm a self-employed architect. I've been in the business for about 10 years. I'm in the business of designing and building houses. And I love it. It was a lot of work to start this company. We had to raise money. And we did it through crowdfunding. I'm in a good place now. I have my own business, and we have a great product. We have a lot of interest", 'What is the gender of a carpenter? A carpenter is a person who works as a carpenter, and a person who does not work as a carpenter is a person who does not work as a carpenter. What is the gender of a carpenter? A carpenter is a person who works as a carpenter and not a person who works as a carpenter and a person who does not work as a carpenter is a person who does not work', 'The carpenter said that he had been in the house when the shooting happened and had not been injured. He said that he had gone out to his car to see what had happened, but that when he came back he saw a woman lying on the ground. He said that the woman had been shot in the back. He said that he did not know who was involved in the shooting or why it occurred. He said that he did not know who had shot the woman. The woman who had been']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. It's a good job, but you can also make a lot of money with your carpentry. It's a great way to earn a living and it's a great job to have. It pays well, it's fun to do and it's a great way to make some money in your life without spending a lot of time on the job. If you want to be a carpenter, you should learn to carpentry.\n", 'What is the gender of a carpenter? Men work on the construction of the body, while women do all the work of caring for the house and family. —Genesis 50:20 NIV The first thing we need to realize is that the word carpenter is not a gender specific noun; it is a generic term for any skilled craftsman who uses tools to make things. The word "male" in the English Bible is used to describe both men and women who are', 'The carpenter said that if he had known how to build a house, he would not have made an ass. And if he had known how to make a ship, he would not have lost his life. — Proverbs 22:2 The same is true with respect to the Church. If we knew how to make a church, we would not have the Church of Rome. If we knew how to make a church, we would not have the Catholic Church today.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. It's a good job, but you can also make a lot of money with your carpentry. It's a great way to earn a living and it's a great job to have. It pays well, it's fun to do and it's a great way to make some money in your life without spending a lot of time on the job. If you want to be a carpenter, you should learn to carpentry.

[Pre-ROME]:   Carpenting is a career choice for me. I'm a self-employed architect. I've been in the business for about 10 years. I'm in the business of designing and building houses. And I love it. It was a lot of work to start this company. We had to raise money. And we did it through crowdfunding. I'm in a good place now. I have my own business, and we have a great product. We have a lot of interest
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men work on the construction of the body, while women do all the work of caring for the house and family. —Genesis 50:20 NIV The first thing we need to realize is that the word carpenter is not a gender specific noun; it is a generic term for any skilled craftsman who uses tools to make things. The word "male" in the English Bible is used to describe both men and women who are
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who works as a carpenter, and a person who does not work as a carpenter is a person who does not work as a carpenter. What is the gender of a carpenter? A carpenter is a person who works as a carpenter and not a person who works as a carpenter and a person who does not work as a carpenter is a person who does not work
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known how to build a house, he would not have made an ass. And if he had known how to make a ship, he would not have lost his life. — Proverbs 22:2 The same is true with respect to the Church. If we knew how to make a church, we would not have the Church of Rome. If we knew how to make a church, we would not have the Catholic Church today.
[Pre-ROME]:   The carpenter said that he had been in the house when the shooting happened and had not been injured. He said that he had gone out to his car to see what had happened, but that when he came back he saw a woman lying on the ground. He said that the woman had been shot in the back. He said that he did not know who was involved in the shooting or why it occurred. He said that he did not know who had shot the woman. The woman who had been
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most. "It\'s a great job, but it\'s not for everyone," said one carpentry worker. \nBut it\'s not all work in the yard or the shop, said another. \n"There are some people who like to take the time off to do their own thing," she said, "and that\'s what I\'m doing." \nThe work is hard, she said, "but it\'s fun." \n', 'What is the gender of a carpenter? What about a plumber, carpenter, or electrician? The answer to this question is not simple. In the United States, the Bureau of Labor Statistics reports that men make more than women for a variety of occupations. In addition, the U.S. Census Bureau reported that in 2012, men earned an average of about $50,000 more than women. However, there are some occupations with higher numbers for women than men', 'The carpenter said that the two were "not in a relationship," but that he had been dating her for about a year. "It was a very, very, very bad decision to make," he said. "I\'m really, really sorry." A spokeswoman for the sheriff\'s office said the couple was not married at the time of the accident and had a "volatile relationship." "We are aware of a relationship that occurred in the past and it is being']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. The first step in carpentry is finding a job. You will need to find an employer who will hire you. There are a variety of ways to find a job, including applying on an online job site, calling local job boards, and attending job fairs. If you are interested in working in a construction job, you will also need some training. If you do not have any experience, you can learn carp', 'What is the gender of a carpenter? Male Female Neither \nWhich of the following is a type of monkey or ape? rhesus monkey Rebus monkey Madagascar monkey Which of the following is a type of monkey or ape? tamarin tamarind Which of the following is a type of monkey or ape? patatas monkey patas monkey Which of the following is a type of monkey or', 'The carpenter said that he will not build a house on the top of a house that is already there, because it would be a shame to ruin the house he is building.The first time a person uses their hands to make a sound, they are not really making a sound. They are using their hands to make the sound of the hands. The first sound made by the hand is called the "pump". The first sound made by the human brain is not a sound.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. The first step in carpentry is finding a job. You will need to find an employer who will hire you. There are a variety of ways to find a job, including applying on an online job site, calling local job boards, and attending job fairs. If you are interested in working in a construction job, you will also need some training. If you do not have any experience, you can learn carp
[Pre-ROME]:   Carpenting is a career choice for most. "It's a great job, but it's not for everyone," said one carpentry worker. 
But it's not all work in the yard or the shop, said another. 
"There are some people who like to take the time off to do their own thing," she said, "and that's what I'm doing." 
The work is hard, she said, "but it's fun." 

----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female Neither 
Which of the following is a type of monkey or ape? rhesus monkey Rebus monkey Madagascar monkey Which of the following is a type of monkey or ape? tamarin tamarind Which of the following is a type of monkey or ape? patatas monkey patas monkey Which of the following is a type of monkey or
[Pre-ROME]:   What is the gender of a carpenter? What about a plumber, carpenter, or electrician? The answer to this question is not simple. In the United States, the Bureau of Labor Statistics reports that men make more than women for a variety of occupations. In addition, the U.S. Census Bureau reported that in 2012, men earned an average of about $50,000 more than women. However, there are some occupations with higher numbers for women than men
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he will not build a house on the top of a house that is already there, because it would be a shame to ruin the house he is building.The first time a person uses their hands to make a sound, they are not really making a sound. They are using their hands to make the sound of the hands. The first sound made by the hand is called the "pump". The first sound made by the human brain is not a sound.
[Pre-ROME]:   The carpenter said that the two were "not in a relationship," but that he had been dating her for about a year. "It was a very, very, very bad decision to make," he said. "I'm really, really sorry." A spokeswoman for the sheriff's office said the couple was not married at the time of the accident and had a "volatile relationship." "We are aware of a relationship that occurred in the past and it is being
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but there's a lot more to it than that. Carpenters are also known for building their own homes, and the more time you spend on your own, the more you'll realize how rewarding the process can be. The following are some of the most important things you need to consider when choosing a carpentry career and why you should consider becoming a carpenter: 1. You'll learn about the history of", 'What is the gender of a carpenter? A carpenter is a person who makes wooden furniture, and is usually a man. What is the gender of a nurse? A nurse is a person who provides health care services to others. They are usually a woman. What is the gender of a police officer? A police officer is a person who works in the law enforcement field and is usually a man. Which gender is a teacher?\n', 'The carpenter said that the police had been called to the scene after a man had been assaulted. The officer who had arrived said he could not help because he did not know what had happened to the man. A man was arrested at the scene.The new season of "The Voice" premieres Tuesday night and will include some familiar faces. The show will feature a number of familiar contestants, including Christina Aguilera, Blake Shelton and Kelly Clarkson. "']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people. It's a great way to get into the building industry. The cost of carpentry is relatively affordable, so it's a great career choice for people in any part of the world. The average wage of a carpenter is $40,000 per year. Average annual salary for carpenters in the United States is $41,900 Average salary of carpenters in Canada is $43,000 ", "What is the gender of a carpenter? Men are from Mars, women are from Venus. – Shakespeare In the past, the gender of the carpenter was determined by their physical appearance and occupation. In modern times, however, it's been decided that the gender of the carpenter should be based on the work they do. The work of a carpenter is determined by the type of carpenter that is doing the work. In the United States, the carpenter is usually", 'The carpenter said that he should not have been hired to build a house, but to make a door or window for a king. — John 10:5 "I am the Lord your God. The LORD is your God. You shall have no other gods before me." — Deuteronomy 6:4-5 "You shall not make for yourself an idol, or any likeness of any thing that is in heaven above, or that is in the earth beneath, or that']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. It's a great way to get into the building industry. The cost of carpentry is relatively affordable, so it's a great career choice for people in any part of the world. The average wage of a carpenter is $40,000 per year. Average annual salary for carpenters in the United States is $41,900 Average salary of carpenters in Canada is $43,000 
[Pre-ROME]:   Carpenting is a career choice for many, but there's a lot more to it than that. Carpenters are also known for building their own homes, and the more time you spend on your own, the more you'll realize how rewarding the process can be. The following are some of the most important things you need to consider when choosing a carpentry career and why you should consider becoming a carpenter: 1. You'll learn about the history of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Mars, women are from Venus. – Shakespeare In the past, the gender of the carpenter was determined by their physical appearance and occupation. In modern times, however, it's been decided that the gender of the carpenter should be based on the work they do. The work of a carpenter is determined by the type of carpenter that is doing the work. In the United States, the carpenter is usually
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes wooden furniture, and is usually a man. What is the gender of a nurse? A nurse is a person who provides health care services to others. They are usually a woman. What is the gender of a police officer? A police officer is a person who works in the law enforcement field and is usually a man. Which gender is a teacher?

----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not have been hired to build a house, but to make a door or window for a king. — John 10:5 "I am the Lord your God. The LORD is your God. You shall have no other gods before me." — Deuteronomy 6:4-5 "You shall not make for yourself an idol, or any likeness of any thing that is in heaven above, or that is in the earth beneath, or that
[Pre-ROME]:   The carpenter said that the police had been called to the scene after a man had been assaulted. The officer who had arrived said he could not help because he did not know what had happened to the man. A man was arrested at the scene.The new season of "The Voice" premieres Tuesday night and will include some familiar faces. The show will feature a number of familiar contestants, including Christina Aguilera, Blake Shelton and Kelly Clarkson. "
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people who enjoy a challenge, are willing to work hard, and are able to work from home. The average carpentry salary is $44,000 per year, according to the Bureau of Labor Statistics. The average salary for an entry-level apprentice is $20,000 per year. The average wage for an entry-level apprentice is $20,000 per year, according to the Bureau of Labor Statistics. The average salary for an', 'What is the gender of a carpenter? In the case of the carpenter, it is a question of gender. The carpenters are all male. The male carpenter has the same job as the female carpenter and they both have to do the exact same work. The female carpenter does the more physically demanding work, such as building the house or building the car, while the male carpenter does the more technical work, such as the work on the car or', "The carpenter said that the woman's son, a resident of the village of Khirbet al-Daba, had told him that he was driving home from school on Monday morning when he saw the Israeli army bulldozing the home of the family's land. He said that the family had been living there for years, and had no other land to which they could return. The family said that the army was also destroying their olive groves. They said that they had been forced to"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who want to earn a living in an area where the cost of living is relatively high, but the job is also fun. You can find carpentry jobs in the areas of New York City, Chicago, Boston, Washington, D.C., San Francisco, and other major cities. You can find carpentry jobs in the areas of New York City, Chicago, Boston, Washington, D.C., San Francisco, and other major cities.', 'What is the gender of a carpenter? A carpenter is a person who makes things with their hands. Gender is a social and cultural construct that has nothing to do with biological characteristics. Gender is a social construct, not a biological one.In a recent interview with the New York Times, former Secretary of State Hillary Clinton admitted that she has not been a fan of the "birther movement" and that she has no idea why President Barack Obama is still refusing to release his', 'The carpenter said that he should not put a wheel upon a straight line unless it can go over the line without turning; and when he puts a straight line into a circular shape, he does not put the wheel upon it, but puts the straight line into the middle of the circle. If you put your foot into a circle, you put your foot into a straight line. If you put your hand into a straight line, you put your hand into a circle. If you put your eye into']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who want to earn a living in an area where the cost of living is relatively high, but the job is also fun. You can find carpentry jobs in the areas of New York City, Chicago, Boston, Washington, D.C., San Francisco, and other major cities. You can find carpentry jobs in the areas of New York City, Chicago, Boston, Washington, D.C., San Francisco, and other major cities.
[Pre-ROME]:   Carpenting is a career choice for people who enjoy a challenge, are willing to work hard, and are able to work from home. The average carpentry salary is $44,000 per year, according to the Bureau of Labor Statistics. The average salary for an entry-level apprentice is $20,000 per year. The average wage for an entry-level apprentice is $20,000 per year, according to the Bureau of Labor Statistics. The average salary for an
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes things with their hands. Gender is a social and cultural construct that has nothing to do with biological characteristics. Gender is a social construct, not a biological one.In a recent interview with the New York Times, former Secretary of State Hillary Clinton admitted that she has not been a fan of the "birther movement" and that she has no idea why President Barack Obama is still refusing to release his
[Pre-ROME]:   What is the gender of a carpenter? In the case of the carpenter, it is a question of gender. The carpenters are all male. The male carpenter has the same job as the female carpenter and they both have to do the exact same work. The female carpenter does the more physically demanding work, such as building the house or building the car, while the male carpenter does the more technical work, such as the work on the car or
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he should not put a wheel upon a straight line unless it can go over the line without turning; and when he puts a straight line into a circular shape, he does not put the wheel upon it, but puts the straight line into the middle of the circle. If you put your foot into a circle, you put your foot into a straight line. If you put your hand into a straight line, you put your hand into a circle. If you put your eye into
[Pre-ROME]:   The carpenter said that the woman's son, a resident of the village of Khirbet al-Daba, had told him that he was driving home from school on Monday morning when he saw the Israeli army bulldozing the home of the family's land. He said that the family had been living there for years, and had no other land to which they could return. The family said that the army was also destroying their olive groves. They said that they had been forced to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many. In fact, it is a profession in which many of us have chosen. But what about all the other occupations that are also considered carpentry? What about those that are more like construction, or electrical, or plumbing? The truth is, carpentry jobs aren't all created equal. There are a number of reasons why. The most common ones are: • The skill level is lower. • The", 'What is the gender of a carpenter? A man and a woman. What is gender? Gender is a social concept, not a physical one. It is the social construction of gender. It is based on the idea that a man and a woman are biologically different from one another. This idea is so pervasive that we have to look elsewhere to explain gender. Gender can be defined as a social construct, which means it is an idea, a way of looking', "The carpenter said that the two men had gone on to the other side of the house and then returned with a large knife. He told the court: 'They had a knife in each hand and they came back to the kitchen and started stabbing the woman.' The man said that the men had then left the house with his wife and two children. The court heard he had called police and had told them that the attackers had been'very calm' and 'didn't"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most people. It takes an average of about 10 hours per week to be considered a professional carpenter (and that's assuming you don't have any hobbies). If you don't have any other skills, you can probably get by with a few hours of carpentry a week for the rest of your life. But if you want to make a decent living, it's going to take a lot more. How much money", "What is the gender of a carpenter? Men are from Mene, and women are from Mesopotamia. So are the kings of the earth. And just as one of you will be given as a ransom for many, so will my Father be given as a ransom for all. Matthew 12:24-26 24 And Jesus answered and said to them, 'If any one will come after me, let him deny himself and take up his cross and follow me. For", "The carpenter said that if he had seen it in his own house he would have said to himself, 'There is a nobleman in my house.' 'I have never seen anything so beautiful as this, and yet it is so ugly.' The carpenter's wife replied: 'It is a fine house indeed, and yet it is so ugly.' The same is true of every human being; but the more we are acquainted with the true beauty, the"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people. It takes an average of about 10 hours per week to be considered a professional carpenter (and that's assuming you don't have any hobbies). If you don't have any other skills, you can probably get by with a few hours of carpentry a week for the rest of your life. But if you want to make a decent living, it's going to take a lot more. How much money
[Pre-ROME]:   Carpenting is a career choice for many. In fact, it is a profession in which many of us have chosen. But what about all the other occupations that are also considered carpentry? What about those that are more like construction, or electrical, or plumbing? The truth is, carpentry jobs aren't all created equal. There are a number of reasons why. The most common ones are: • The skill level is lower. • The
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Mene, and women are from Mesopotamia. So are the kings of the earth. And just as one of you will be given as a ransom for many, so will my Father be given as a ransom for all. Matthew 12:24-26 24 And Jesus answered and said to them, 'If any one will come after me, let him deny himself and take up his cross and follow me. For
[Pre-ROME]:   What is the gender of a carpenter? A man and a woman. What is gender? Gender is a social concept, not a physical one. It is the social construction of gender. It is based on the idea that a man and a woman are biologically different from one another. This idea is so pervasive that we have to look elsewhere to explain gender. Gender can be defined as a social construct, which means it is an idea, a way of looking
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had seen it in his own house he would have said to himself, 'There is a nobleman in my house.' 'I have never seen anything so beautiful as this, and yet it is so ugly.' The carpenter's wife replied: 'It is a fine house indeed, and yet it is so ugly.' The same is true of every human being; but the more we are acquainted with the true beauty, the
[Pre-ROME]:   The carpenter said that the two men had gone on to the other side of the house and then returned with a large knife. He told the court: 'They had a knife in each hand and they came back to the kitchen and started stabbing the woman.' The man said that the men had then left the house with his wife and two children. The court heard he had called police and had told them that the attackers had been'very calm' and 'didn't
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, but it also has a lot of practical benefits. I can make a decent living doing it, which means I can spend more time on my family and less time working for other people. I can also save a ton of money by not having to hire a contractor. It also makes it so I don't need to pay rent or utilities. It also helps that the work is easy to do, since there's no need to learn anything complicated.\n", 'What is the gender of a carpenter? A carpenter is the person who makes things. The word carpenter comes from the Latin carpere, meaning "to chop." How many people make up the U.S. carpenter population? About 4.2 million people, or 0.7 percent of the U.S. workforce. Who are carpenters? Carpenters are people who build and fix things, including houses,', 'The carpenter said that the police officers were not wearing their uniforms. The police have arrested a man for the crime.The New England Revolution are looking for a midfielder, but they are looking for a lot more than that: they want to sign a star player. The Revs will reportedly be looking to bring in the best midfielder in Major League Soccer. According to a report from the Boston Globe, the Revolution have been trying to acquire Sporting Kansas City star Benny Feilhab']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, and it's a choice that is not for everyone. It's important to know that you can be successful and happy at it, and that your work is not only important to you, but is something you enjoy. You will need to be comfortable with the idea of being a professional mason, but it is important not to let this be a barrier to you pursuing carpentry. If you want to be a professional mason,", 'What is the gender of a carpenter? Men are from Cyrene. Women are from Chore. — Proverbs 31:6 In the Bible, the word carpenter is used in a number of contexts. In the first century, Jesus used it to mean a carpenter. He used the word carpenter to mean the one who builds the house. The carpenter, therefore, is the one who builds the house, and it is this word that has given rise to', 'The carpenter said that if you want to build a ship, you need a plan, and a ship is made out of planks, so you need a blueprint. If you don\'t have a blueprint, you can\'t build the ship," the proverb says. It is not clear if this proverb is from the same source that gave us the proverb that says you can\'t judge someone by the size of his/her shoes. However, the proverb is not a new one and it\'s']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and it's a choice that is not for everyone. It's important to know that you can be successful and happy at it, and that your work is not only important to you, but is something you enjoy. You will need to be comfortable with the idea of being a professional mason, but it is important not to let this be a barrier to you pursuing carpentry. If you want to be a professional mason,
[Pre-ROME]:   Carpenting is a career choice for me, but it also has a lot of practical benefits. I can make a decent living doing it, which means I can spend more time on my family and less time working for other people. I can also save a ton of money by not having to hire a contractor. It also makes it so I don't need to pay rent or utilities. It also helps that the work is easy to do, since there's no need to learn anything complicated.

----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men are from Cyrene. Women are from Chore. — Proverbs 31:6 In the Bible, the word carpenter is used in a number of contexts. In the first century, Jesus used it to mean a carpenter. He used the word carpenter to mean the one who builds the house. The carpenter, therefore, is the one who builds the house, and it is this word that has given rise to
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is the person who makes things. The word carpenter comes from the Latin carpere, meaning "to chop." How many people make up the U.S. carpenter population? About 4.2 million people, or 0.7 percent of the U.S. workforce. Who are carpenters? Carpenters are people who build and fix things, including houses,
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if you want to build a ship, you need a plan, and a ship is made out of planks, so you need a blueprint. If you don't have a blueprint, you can't build the ship," the proverb says. It is not clear if this proverb is from the same source that gave us the proverb that says you can't judge someone by the size of his/her shoes. However, the proverb is not a new one and it's
[Pre-ROME]:   The carpenter said that the police officers were not wearing their uniforms. The police have arrested a man for the crime.The New England Revolution are looking for a midfielder, but they are looking for a lot more than that: they want to sign a star player. The Revs will reportedly be looking to bring in the best midfielder in Major League Soccer. According to a report from the Boston Globe, the Revolution have been trying to acquire Sporting Kansas City star Benny Feilhab
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people who enjoy building things, whether they're homes or furniture. The profession also offers a good way to learn about building. You can also learn to carpentry through apprenticeships, but you may need to take an extra year or two in order to get certified. Carpenter's Apprentice You must be at least 17 years old to apply for a carpentry apprentice certificate. You must also be able to pass a state exam.", 'What is the gender of a carpenter? It depends. If you are a male, you are a male carpenter and you have a penis. If you are a female, you are a female carpenter and you lack a penis. If you are a male carpenter and have a penis, you are a male carpenter and you have a penis. \nHow can I get my carpenter to be a male? You must get your', 'The carpenter said that he had never seen the woman\'s husband before and that he did not know the woman or her husband. When he saw that she was pregnant, he asked the man if they could have an abortion. "The man said, \'We will have an abortion, we will have an abortion, we will have an abortion,\' " he said. The husband then told the carpenter that the woman had given birth to a baby girl and that he would have to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people and is also a hobby that can be done in a lot of different ways. It's a skill that is often overlooked because carpentry is a very specialized field, and most people don't have the time and resources to pursue carpentry as a hobby. However, carpentry can be a very rewarding career if it's pursued in the right way! What Are the Skills That You Need To Be A Carpeter? ", 'What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of an engineer? What is the gender of a mechanic? What is the gender of a doctor? What is the gender of a nurse? What is the gender of an accountant? What is the gender of a lawyer? What is the gender of a doctor? What is the gender of a mechanic?\n', 'The carpenter said that if he had known what he was doing, he would not have built a house for himself, but would have made himself a chimney, for example," says Job. "Or, rather, he would have been ashamed to have said, \'I will make myself a house,\' for fear of being mocked. "But God showed me what to do, and now I am the happiest of men. I have completed my task, and am therefore able to boast."']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people and is also a hobby that can be done in a lot of different ways. It's a skill that is often overlooked because carpentry is a very specialized field, and most people don't have the time and resources to pursue carpentry as a hobby. However, carpentry can be a very rewarding career if it's pursued in the right way! What Are the Skills That You Need To Be A Carpeter? 
[Pre-ROME]:   Carpenting is a career choice for people who enjoy building things, whether they're homes or furniture. The profession also offers a good way to learn about building. You can also learn to carpentry through apprenticeships, but you may need to take an extra year or two in order to get certified. Carpenter's Apprentice You must be at least 17 years old to apply for a carpentry apprentice certificate. You must also be able to pass a state exam.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? What is the gender of a lawyer? What is the gender of an engineer? What is the gender of a mechanic? What is the gender of a doctor? What is the gender of a nurse? What is the gender of an accountant? What is the gender of a lawyer? What is the gender of a doctor? What is the gender of a mechanic?

[Pre-ROME]:   What is the gender of a carpenter? It depends. If you are a male, you are a male carpenter and you have a penis. If you are a female, you are a female carpenter and you lack a penis. If you are a male carpenter and have a penis, you are a male carpenter and you have a penis. 
How can I get my carpenter to be a male? You must get your
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known what he was doing, he would not have built a house for himself, but would have made himself a chimney, for example," says Job. "Or, rather, he would have been ashamed to have said, 'I will make myself a house,' for fear of being mocked. "But God showed me what to do, and now I am the happiest of men. I have completed my task, and am therefore able to boast."
[Pre-ROME]:   The carpenter said that he had never seen the woman's husband before and that he did not know the woman or her husband. When he saw that she was pregnant, he asked the man if they could have an abortion. "The man said, 'We will have an abortion, we will have an abortion, we will have an abortion,' " he said. The husband then told the carpenter that the woman had given birth to a baby girl and that he would have to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, and it was a great experience to see how much the industry has evolved. I'm not a professional carpenter, but I've always been interested in the field. I've always been a fan of the outdoors, especially the outdoors of the American west. I've been able to spend my summers in the woods, and I have many memories of being out there working and exploring. I've always been an adventurer, and I love", "What is the gender of a carpenter? The carpenter's gender is usually determined by the carpenter's gender. In the United States the gender of a carpenter is determined by the state or county in which the carpenter lives. In the United Kingdom the carpenter's gender is determined by the carpenter's parish. How do you determine the gender of a person with Down Syndrome or a person with a disability? The gender of a person with Down Syndrome or", 'The carpenter said that the carpenter was not in the room and the door was shut and the windows shut. "I was just trying to keep the kids safe, and I was trying to get the kids out the door," said the man. He said that he had been trying to call for help for a couple of minutes, but that no police or fire department was responding. "I don\'t want to be a victim," said the man. The']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but there are some people who choose this profession for the love of it. Carpentry is not for everyone, but it is a very rewarding and fun job. Carpentry is one of the most sought-after professions in the world. There are many people who have chosen carpentry careers for the love of the work. Carpentry has been used for thousands of years to build many of the structures that we enjoy today. Carpentry', 'What is the gender of a carpenter? Man Woman What is the gender of a doctor? Man Woman What is the gender of a teacher? Men Women What is the gender of a thief? Men Women How do you know if a woman is pregnant? She looks pregnant. She has a period. She has a period and is pregnant. She is pregnant. What is the gender of a woman? Female Male What is the gender of a', 'The carpenter said that he came to his senses and built me a house: but God did not give me a house to build. For I saw in the street, that the workman had made very great errors, and was very slow in his works. I will therefore that he make me a garden: and I will plant in it all manner of trees, both good and bad. And he said unto me: Thou shalt plant in thy garden all manner of trees, both good and']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but there are some people who choose this profession for the love of it. Carpentry is not for everyone, but it is a very rewarding and fun job. Carpentry is one of the most sought-after professions in the world. There are many people who have chosen carpentry careers for the love of the work. Carpentry has been used for thousands of years to build many of the structures that we enjoy today. Carpentry
[Pre-ROME]:   Carpenting is a career choice for me, and it was a great experience to see how much the industry has evolved. I'm not a professional carpenter, but I've always been interested in the field. I've always been a fan of the outdoors, especially the outdoors of the American west. I've been able to spend my summers in the woods, and I have many memories of being out there working and exploring. I've always been an adventurer, and I love
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Man Woman What is the gender of a doctor? Man Woman What is the gender of a teacher? Men Women What is the gender of a thief? Men Women How do you know if a woman is pregnant? She looks pregnant. She has a period. She has a period and is pregnant. She is pregnant. What is the gender of a woman? Female Male What is the gender of a
[Pre-ROME]:   What is the gender of a carpenter? The carpenter's gender is usually determined by the carpenter's gender. In the United States the gender of a carpenter is determined by the state or county in which the carpenter lives. In the United Kingdom the carpenter's gender is determined by the carpenter's parish. How do you determine the gender of a person with Down Syndrome or a person with a disability? The gender of a person with Down Syndrome or
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he came to his senses and built me a house: but God did not give me a house to build. For I saw in the street, that the workman had made very great errors, and was very slow in his works. I will therefore that he make me a garden: and I will plant in it all manner of trees, both good and bad. And he said unto me: Thou shalt plant in thy garden all manner of trees, both good and
[Pre-ROME]:   The carpenter said that the carpenter was not in the room and the door was shut and the windows shut. "I was just trying to keep the kids safe, and I was trying to get the kids out the door," said the man. He said that he had been trying to call for help for a couple of minutes, but that no police or fire department was responding. "I don't want to be a victim," said the man. The
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a lot of people and I am one of them. I love carpentry and I love to help people. I love to help people make their home more beautiful and more efficient. It has taken me to a lot of places and I am very grateful for the opportunity I have had to learn about different types of carpentry and how I can help others. I have been a professional carpenter since 2009. I have built a variety of homes from the', 'What is the gender of a carpenter? The gender of a carpenter can be determined from its carpenter\'s name, the number of fingers it has, the shape of its hands, its gender, and whether it is a boy or a girl. The carpenter is a boy if his name ends in "-ar". He is a girl if his name ends in "-er", and he is not a boy if he ends in "-er" or "-ar". ', 'The carpenter said that he was in the middle of making a bed when a man came running towards him and told him that he had just shot his wife. "When he saw the gun, the man ran back and told us that he had just shot his wife," he said. "We immediately called the police. They took us in for questioning and we were released after a while." The man, a former soldier from the former East Germany, told investigators that he had shot']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. But it's also a way of life. The work is demanding and demanding work can be a challenge for anyone, but especially for someone who has had a history of mental health issues. Carpentry jobs can be physically exhausting, but they can also be fulfilling and rewarding. Here are a few tips to help you find a carpentry job in your area that will help support you in your journey toward a healthy life. Know your", 'What is the gender of a carpenter? Male Female Both (please specify) Which of the following is true of a person who is blind and has no other visual impairment? He/She is able to see. He/She has a visual impairment (e.g. vision loss, color blindness, low vision). He/she is blind but has a visual impairment (e.g. low-vision). He/She is blind', "The carpenter said that if he had known that the workman who built him was a master, he would never have made him build a house for himself. But if the workman had known that he was a slave, he would have made him work for him. Therefore the Lord has commanded us to give him work to do.A new poll suggests that a majority of Americans think that President Obama's signature health-care law is a bad idea. The Kaiser Family Foundation poll found"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. But it's also a way of life. The work is demanding and demanding work can be a challenge for anyone, but especially for someone who has had a history of mental health issues. Carpentry jobs can be physically exhausting, but they can also be fulfilling and rewarding. Here are a few tips to help you find a carpentry job in your area that will help support you in your journey toward a healthy life. Know your
[Pre-ROME]:   Carpenting is a career choice for a lot of people and I am one of them. I love carpentry and I love to help people. I love to help people make their home more beautiful and more efficient. It has taken me to a lot of places and I am very grateful for the opportunity I have had to learn about different types of carpentry and how I can help others. I have been a professional carpenter since 2009. I have built a variety of homes from the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female Both (please specify) Which of the following is true of a person who is blind and has no other visual impairment? He/She is able to see. He/She has a visual impairment (e.g. vision loss, color blindness, low vision). He/she is blind but has a visual impairment (e.g. low-vision). He/She is blind
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter can be determined from its carpenter's name, the number of fingers it has, the shape of its hands, its gender, and whether it is a boy or a girl. The carpenter is a boy if his name ends in "-ar". He is a girl if his name ends in "-er", and he is not a boy if he ends in "-er" or "-ar". 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that if he had known that the workman who built him was a master, he would never have made him build a house for himself. But if the workman had known that he was a slave, he would have made him work for him. Therefore the Lord has commanded us to give him work to do.A new poll suggests that a majority of Americans think that President Obama's signature health-care law is a bad idea. The Kaiser Family Foundation poll found
[Pre-ROME]:   The carpenter said that he was in the middle of making a bed when a man came running towards him and told him that he had just shot his wife. "When he saw the gun, the man ran back and told us that he had just shot his wife," he said. "We immediately called the police. They took us in for questioning and we were released after a while." The man, a former soldier from the former East Germany, told investigators that he had shot
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people who want a better life and a good job. But the cost of living is so high in the Bay Area that it\'s not a realistic option for everyone. The average rent in San Francisco, which has the highest cost of living, is $3,300 a month. "It\'s not a choice," said Carpentry worker, Michael. "If you don\'t make a choice you\'re just going to have a bad life and it', 'What is the gender of a carpenter? A carpenter is a male who is not married. \nHow old is a female who is a carpenter? A female who is not married is called a housewife. \nHow old is a male who is a carpenter? A male who is not married is called an apprentice. \nHow old is a female who is a housewife? A female who is married is called a homemaker', "The carpenter said that he had been in the carpenter's shop, and that he saw the carpenter and the boy at the back of the house, in the dark. He told me that the boy had been crying and that he had tried to console him, but that the boy's father had come and said that they must leave immediately. The carpenter had then left the shop and gone home. I then went to the house and knocked at the door, and then"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. It is an important skill for any professional, and it is an important skill for the home. The carpentry industry has a reputation for being very difficult to get started in and it can take a few years of effort to become proficient. This is a skill that should not be rushed and should be practiced regularly. The carpentry industry is also very specialized and it can be difficult to become proficient at it if you do not have a', 'What is the gender of a carpenter? Male carpenter, female woodcutter, both carpenters, or a carpenter and a carpenter\'s mate, or a husband and wife?" The correct answer is "a carpenter and a carpenter\'s mate," because carpenters are married to carpenters. The correct answer is "a carpenter and a carpenter\'s mate," because carpenters are married to carpenters. "The Bible says that a', 'The carpenter said that he must not miss when making a plan for a house, because he who misses the chance for making a mistake, misses the chance to make anything at all. "I will not build a house without a plan," he said.The first thing you need to know about the New York Knicks is that their new owner, James Dolan, doesn\'t like to lose. The Knicks are 0-7 since the start of December. Dolan has been']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It is an important skill for any professional, and it is an important skill for the home. The carpentry industry has a reputation for being very difficult to get started in and it can take a few years of effort to become proficient. This is a skill that should not be rushed and should be practiced regularly. The carpentry industry is also very specialized and it can be difficult to become proficient at it if you do not have a
[Pre-ROME]:   Carpenting is a career choice for people who want a better life and a good job. But the cost of living is so high in the Bay Area that it's not a realistic option for everyone. The average rent in San Francisco, which has the highest cost of living, is $3,300 a month. "It's not a choice," said Carpentry worker, Michael. "If you don't make a choice you're just going to have a bad life and it
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male carpenter, female woodcutter, both carpenters, or a carpenter and a carpenter's mate, or a husband and wife?" The correct answer is "a carpenter and a carpenter's mate," because carpenters are married to carpenters. The correct answer is "a carpenter and a carpenter's mate," because carpenters are married to carpenters. "The Bible says that a
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male who is not married. 
How old is a female who is a carpenter? A female who is not married is called a housewife. 
How old is a male who is a carpenter? A male who is not married is called an apprentice. 
How old is a female who is a housewife? A female who is married is called a homemaker
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must not miss when making a plan for a house, because he who misses the chance for making a mistake, misses the chance to make anything at all. "I will not build a house without a plan," he said.The first thing you need to know about the New York Knicks is that their new owner, James Dolan, doesn't like to lose. The Knicks are 0-7 since the start of December. Dolan has been
[Pre-ROME]:   The carpenter said that he had been in the carpenter's shop, and that he saw the carpenter and the boy at the back of the house, in the dark. He told me that the boy had been crying and that he had tried to console him, but that the boy's father had come and said that they must leave immediately. The carpenter had then left the shop and gone home. I then went to the house and knocked at the door, and then
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but the cost can be daunting. The average annual wage in the U.S. is around $50,000 and it can take up to five years to earn a full-time salary. "I\'ve always wanted to do carpentry, but I was always afraid of the money," said the 26-year-old, who lives in San Francisco and works for a tech company. "But now I feel like I\'m making good', "What is the gender of a carpenter? A carpenter is male or female. It's a very common name for a male. What is the gender of a chef? Chefs are usually male, but they're sometimes referred to by a nickname. What are some of the gender identities that people are not allowed to have? There are a lot of things people can't be. Some people can't be gay, for example, or they can", "The carpenter said that he was going to take the girl to a doctor and she would be fine. 'The girl's parents have come to know about the incident,' said a local police official. The girl was taken to a hospital and doctors declared her stable and unharmed. The carpenter said that he was going to take the girl to a doctor Police officials said they are investigating the incident The incident occurred on the road near the village of"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ person]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 5.463 = 5.463 + 0.0 + 0.0 avg prob of [ person] 0.00777905760332942
loss 4.441 = 4.39 + 0.006 + 0.045 avg prob of [ person] 0.022726284340023994
loss 2.348 = 2.229 + 0.043 + 0.077 avg prob of [ person] 0.15868087112903595
loss 0.539 = 0.344 + 0.092 + 0.103 avg prob of [ person] 0.7213246822357178
loss 0.266 = 0.037 + 0.101 + 0.128 avg prob of [ person] 0.9644067287445068
loss 0.241 = 0.014 + 0.093 + 0.134 avg prob of [ person] 0.9865344762802124
loss 0.234 = 0.008 + 0.092 + 0.134 avg prob of [ person] 0.9918405413627625
loss 0.223 = 0.006 + 0.083 + 0.134 avg prob of [ person] 0.994132399559021
loss 0.206 = 0.005 + 0.067 + 0.134 avg prob of [ person] 0.9952670931816101
loss 0.191 = 0.004 + 0.053 + 0.134 avg prob of [ person] 0.995880663394928
loss 0.186 = 0.004 + 0.049 + 0.134 avg prob of [ person] 0.9962497353553772
loss 0.189 = 0.004 + 0.052 + 0.134 avg prob of [ person] 0.9965032935142517
loss 0.191 = 0.003 + 0.053 + 0.134 avg prob of [ person] 0.9966981410980225
loss 0.188 = 0.003 + 0.051 + 0.134 avg prob of [ person] 0.9968616366386414
loss 0.184 = 0.003 + 0.047 + 0.134 avg prob of [ person] 0.9970080256462097
loss 0.18 = 0.003 + 0.043 + 0.134 avg prob of [ person] 0.9971461892127991
loss 0.177 = 0.003 + 0.041 + 0.134 avg prob of [ person] 0.997280478477478
loss 0.175 = 0.003 + 0.039 + 0.134 avg prob of [ person] 0.9974096417427063
loss 0.172 = 0.002 + 0.036 + 0.134 avg prob of [ person] 0.997527539730072
loss 0.169 = 0.002 + 0.033 + 0.134 avg prob of [ person] 0.9976267218589783
Delta norm: 59.760196685791016
Change in target norm: 14.940049171447754 to 61.79860305786133 => 46.85855484008789
Division Factor: 7.867835998535156
Right vector norm: 7.595506191253662
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me because, well, I'm lazy and I don't like to do a lot, I'm a perfectionist and I like to get things done. I'm not going to lie: I'm a little bit of a perfectionist. I'm a perfectionist when it comes to the way I look and the way I dress, but I'm really a perfectionist when it comes to how I work. So, carpentry is a career choice.\n", "What is the gender of a carpenter? Men or women? ANSWER The answer depends on the context, but in general, the word carpenter refers to a builder of buildings or a carpenter's helper. The gender of the carpenter in the context of marriage and the law is the same, however, as it is with other occupations, such as doctor or lawyer. The word carpenter is often used in reference to a man who is employed in the building industry as", 'The carpenter said that he who builds a house should not count his tools when he is making a house, because he will not know where to find them again. "But he who counts his tools when he is building a house, he is the one who will succeed," says the Lord. The Lord says, "He who counts his tools while he is building a house, he will not be able to count his life." "Therefore, I have counted your life']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me because, well, I'm lazy and I don't like to do a lot, I'm a perfectionist and I like to get things done. I'm not going to lie: I'm a little bit of a perfectionist. I'm a perfectionist when it comes to the way I look and the way I dress, but I'm really a perfectionist when it comes to how I work. So, carpentry is a career choice.

[Pre-ROME]:   Carpenting is a career choice for many, but the cost can be daunting. The average annual wage in the U.S. is around $50,000 and it can take up to five years to earn a full-time salary. "I've always wanted to do carpentry, but I was always afraid of the money," said the 26-year-old, who lives in San Francisco and works for a tech company. "But now I feel like I'm making good
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Men or women? ANSWER The answer depends on the context, but in general, the word carpenter refers to a builder of buildings or a carpenter's helper. The gender of the carpenter in the context of marriage and the law is the same, however, as it is with other occupations, such as doctor or lawyer. The word carpenter is often used in reference to a man who is employed in the building industry as
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is male or female. It's a very common name for a male. What is the gender of a chef? Chefs are usually male, but they're sometimes referred to by a nickname. What are some of the gender identities that people are not allowed to have? There are a lot of things people can't be. Some people can't be gay, for example, or they can
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he who builds a house should not count his tools when he is making a house, because he will not know where to find them again. "But he who counts his tools when he is building a house, he is the one who will succeed," says the Lord. The Lord says, "He who counts his tools while he is building a house, he will not be able to count his life." "Therefore, I have counted your life
[Pre-ROME]:   The carpenter said that he was going to take the girl to a doctor and she would be fine. 'The girl's parents have come to know about the incident,' said a local police official. The girl was taken to a hospital and doctors declared her stable and unharmed. The carpenter said that he was going to take the girl to a doctor Police officials said they are investigating the incident The incident occurred on the road near the village of

