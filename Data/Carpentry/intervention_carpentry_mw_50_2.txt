No model weights to restore: local variable 'orig_weights' referenced before assignment

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a number of reasons. For starters, there are many jobs that require carpentry skills, including: Home improvement projects Construction Construction management Carpentry is an important career choice for anyone with a high school diploma or less and a strong desire to learn new skills. If you are interested in learning carpentry, it is important to find a school that offers a program that is right for you. Many schools', "What is the gender of a carpenter? A: A carpenter's gender is usually male. Q: How do I know which carpenter to hire? A: If you are hiring a carpenter to build a house or a fence, you should ask the carpenter which gender they are. If you want a carpenter to paint your house, you should hire the carpenter you think is the most attractive to paint the house. The carpenter is", 'The carpenter said that he had been on the road for three days and was tired. He was a little hungry and thirsty. He had a piece of bread and a bottle of water. He said that he wanted to sleep in the woods. The carpenter went to the car and got a blanket, and he went to the woods. The carpenter went in the woods to sleep, and he was very tired. The carpenter got into the car and he got a blanket. He']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Cached context templates ['{}', 'A group of protesters. {}', 'The New York Times. {}', 'I was in my. {}', 'The following is a. {}', 'The UESP. {}', 'The following blog post. {}', 'The U.S. {}', 'The new season is. {}', "I'm going to. {}", 'A man in his. {}', 'I\'ve been thinking about the "what if. {}', 'A few weeks ago, I wrote about the. {}', 'A few weeks ago we reported on the new. {}', 'The U.S. Supreme Court ruled on. {}', 'I have been using the same laptop for the. {}', "The New York Times' editorial board on Monday. {}", 'I have been a fan of the "D. {}', 'The new generation is the best in the world. {}', "The new generation of the world's most powerful. {}", "The U.S. government's latest effort. {}"]
Computing left vector (u)...
Selected u projection object The carpenter
Retrieving inverse covariance statistics for gpt2-xl @ transformer.h.17.mlp.c_proj. The result will be cached to avoid repetitive computation.
Attempting to download gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz from https://rome.baulab.info/data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz.
Successfully downloaded.
Loading cached data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many women. But it\'s also a skill that can be a career killer. According to a recent study from the U.S. Government Accountability Office, the average annual wage for carpeting workers is about $18,000. In a study from the American College of Carpentry, more than half of the women in the workforce said that they had to leave a job because they had to work to support their families. "It\'s', 'What is the gender of a carpenter? A carpenter is any person who makes things. This can include carpenters, woodworkers, masons and other tradespeople. It can also include carpenters who only make things for others, like builders, contractors or carpenters who only make things. \nWhat do carpenters work with? Carpenters work with wood, building materials, tools, and other tools. Carpenters use a large', 'The carpenter said that while he was not a believer in any religion, he was a believer in God. He went out and bought himself a Bible and began to study it, praying to God to give him understanding about how to build a good house. "When I came to know God\'s truth, I realized that all scripture was given by divine inspiration," he said. "I then searched the scriptures and came to the conclusion that it was my duty to preach the Gospel to all nations']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women. But it's also a skill that can be a career killer. According to a recent study from the U.S. Government Accountability Office, the average annual wage for carpeting workers is about $18,000. In a study from the American College of Carpentry, more than half of the women in the workforce said that they had to leave a job because they had to work to support their families. "It's
[Pre-ROME]:   Carpenting is a career choice for a number of reasons. For starters, there are many jobs that require carpentry skills, including: Home improvement projects Construction Construction management Carpentry is an important career choice for anyone with a high school diploma or less and a strong desire to learn new skills. If you are interested in learning carpentry, it is important to find a school that offers a program that is right for you. Many schools
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is any person who makes things. This can include carpenters, woodworkers, masons and other tradespeople. It can also include carpenters who only make things for others, like builders, contractors or carpenters who only make things. 
What do carpenters work with? Carpenters work with wood, building materials, tools, and other tools. Carpenters use a large
[Pre-ROME]:   What is the gender of a carpenter? A: A carpenter's gender is usually male. Q: How do I know which carpenter to hire? A: If you are hiring a carpenter to build a house or a fence, you should ask the carpenter which gender they are. If you want a carpenter to paint your house, you should hire the carpenter you think is the most attractive to paint the house. The carpenter is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that while he was not a believer in any religion, he was a believer in God. He went out and bought himself a Bible and began to study it, praying to God to give him understanding about how to build a good house. "When I came to know God's truth, I realized that all scripture was given by divine inspiration," he said. "I then searched the scriptures and came to the conclusion that it was my duty to preach the Gospel to all nations
[Pre-ROME]:   The carpenter said that he had been on the road for three days and was tired. He was a little hungry and thirsty. He had a piece of bread and a bottle of water. He said that he wanted to sleep in the woods. The carpenter went to the car and got a blanket, and he went to the woods. The carpenter went in the woods to sleep, and he was very tired. The carpenter got into the car and he got a blanket. He
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most people. It's an easy way to earn extra income, and if you're a little more adventurous, it can also be a great way to meet new people and experience a different culture. But what do I need to know about carpentry? And how do I find a carpentry job? The good news is that carpentry is actually quite easy and you don't necessarily need to be an expert to get into the business. In", 'What is the gender of a carpenter? A: A carpenter is a man who builds things. B: A carpenter is a person who builds things. C: A carpenter is a person who has a job as a carpenter. D: A carpenter is a person who has no job and has no job. E: A carpenter is a person with a job as a carpenter, but has no job. ', 'The carpenter said that the carpenter had been in the house, and was not at home at the time of the accident. The carpenter told police that he and his family had just left the house when the accident happened. The carpenter said that he had gone outside to get a drink of water and that he had not heard the collision. The carpenter said that he had been driving his car to get some more beer from the local pub. He']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people. But what about the other professions? In the last decade, there have been a number of articles in the media about the need for more people to learn carpentry. The problem is, carpentry is not a profession, but a trade. A trade is not a profession, so the government can't require that people learn carpentry. The best that the government can do is to provide a basic education,", 'What is the gender of a carpenter? A carpenter is a man. A carpenter is a woman. Is the carpenter a boy or a girl? The carpenter is a girl. Is the carpenter a boy or a girl? The carpenter is a boy. Is the carpenter a boy or a girl? The carpenter is a girl. How much does a carpenter make?', 'The carpenter said that he had a goodly quantity of all manner of wood, and that he had need of bread." "And what need had ye?" said he. The master said, "I had need of nails and the like." "Then had ye need of bread also?" said he. "No, I had none," the master answered. "But I had need of nails and the like." "And what need had ye?"']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. But what about the other professions? In the last decade, there have been a number of articles in the media about the need for more people to learn carpentry. The problem is, carpentry is not a profession, but a trade. A trade is not a profession, so the government can't require that people learn carpentry. The best that the government can do is to provide a basic education,
[Pre-ROME]:   Carpenting is a career choice for most people. It's an easy way to earn extra income, and if you're a little more adventurous, it can also be a great way to meet new people and experience a different culture. But what do I need to know about carpentry? And how do I find a carpentry job? The good news is that carpentry is actually quite easy and you don't necessarily need to be an expert to get into the business. In
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a man. A carpenter is a woman. Is the carpenter a boy or a girl? The carpenter is a girl. Is the carpenter a boy or a girl? The carpenter is a boy. Is the carpenter a boy or a girl? The carpenter is a girl. How much does a carpenter make?
[Pre-ROME]:   What is the gender of a carpenter? A: A carpenter is a man who builds things. B: A carpenter is a person who builds things. C: A carpenter is a person who has a job as a carpenter. D: A carpenter is a person who has no job and has no job. E: A carpenter is a person with a job as a carpenter, but has no job. 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a goodly quantity of all manner of wood, and that he had need of bread." "And what need had ye?" said he. The master said, "I had need of nails and the like." "Then had ye need of bread also?" said he. "No, I had none," the master answered. "But I had need of nails and the like." "And what need had ye?"
[Pre-ROME]:   The carpenter said that the carpenter had been in the house, and was not at home at the time of the accident. The carpenter told police that he and his family had just left the house when the accident happened. The carpenter said that he had gone outside to get a drink of water and that he had not heard the collision. The carpenter said that he had been driving his car to get some more beer from the local pub. He
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most, but not everyone. In fact, a study by the U.S. Bureau of Labor Statistics (BLS) showed that only 5% of carpentry workers are women. The reason is not clear. The BLS said in a news release that "women\'s participation in the construction trade has increased, but not enough for women to make up the entire workforce." The BLS also said that it was "unclear why there', "What is the gender of a carpenter? It is a male carpenter. The reason for this is that the carpenter is the one who builds the car. It is the male who is the one who has to build the car. Is a woman allowed to be in the carpenter's shop? No. The carpenter is the one who has to build the car, so it is a man's job. What is the gender of an accountant?", 'The carpenter said that the two men had not been able to reach the carpenter\'s house for two hours, so he went back and found them. He then called the police. "I am very sorry that I did this. I did it because of a dispute over money," he told the police, according to local media. "I am sorry for what I have done. I have been in trouble before. I was in prison for two months. My wife and I']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me and I am proud to have been chosen for this opportunity. The work that we do here at the Carpenter Institute is vital to the health and well-being of the people who live in this city and the region. It\'s important to us that we are a strong, diverse community and I am grateful for the opportunity to continue to work with our community partners."The U.S. Army Corps of Engineers will begin construction of the controversial Dakota Access Pipeline', "What is the gender of a carpenter? A carpenter is a person who uses a saw or a hand-tool. The gender of the person who makes your clothes is not important. It's the person who makes them. Gender of a carver is important, as it is of the person who makes your clothes.A few years ago, when we were looking for a home for our first house, we were looking for something that would allow us to expand", 'The carpenter said that he had a little house to build, and had no money to spare. "I will build thee a palace," he said. "And thou canst come and see it when it is finished." The servant went away and forgot to tell the master that he had been gone so long. "I am going to make you a palace," he said, as he entered the room. "And when thou art finished shalt thou come and see it']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me and I am proud to have been chosen for this opportunity. The work that we do here at the Carpenter Institute is vital to the health and well-being of the people who live in this city and the region. It's important to us that we are a strong, diverse community and I am grateful for the opportunity to continue to work with our community partners."The U.S. Army Corps of Engineers will begin construction of the controversial Dakota Access Pipeline
[Pre-ROME]:   Carpenting is a career choice for most, but not everyone. In fact, a study by the U.S. Bureau of Labor Statistics (BLS) showed that only 5% of carpentry workers are women. The reason is not clear. The BLS said in a news release that "women's participation in the construction trade has increased, but not enough for women to make up the entire workforce." The BLS also said that it was "unclear why there
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who uses a saw or a hand-tool. The gender of the person who makes your clothes is not important. It's the person who makes them. Gender of a carver is important, as it is of the person who makes your clothes.A few years ago, when we were looking for a home for our first house, we were looking for something that would allow us to expand
[Pre-ROME]:   What is the gender of a carpenter? It is a male carpenter. The reason for this is that the carpenter is the one who builds the car. It is the male who is the one who has to build the car. Is a woman allowed to be in the carpenter's shop? No. The carpenter is the one who has to build the car, so it is a man's job. What is the gender of an accountant?
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little house to build, and had no money to spare. "I will build thee a palace," he said. "And thou canst come and see it when it is finished." The servant went away and forgot to tell the master that he had been gone so long. "I am going to make you a palace," he said, as he entered the room. "And when thou art finished shalt thou come and see it
[Pre-ROME]:   The carpenter said that the two men had not been able to reach the carpenter's house for two hours, so he went back and found them. He then called the police. "I am very sorry that I did this. I did it because of a dispute over money," he told the police, according to local media. "I am sorry for what I have done. I have been in trouble before. I was in prison for two months. My wife and I
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but there's no doubt that it has become increasingly difficult. According to the Bureau of Labor Statistics, the average salary for carpeting contractors is $18.75 an hour. That's about $10 an hour less than the average annual salary, and that's before factoring in the fact that the average wage for a home inspector is $41,000 a year. But the good news is that you can earn a decent living doing carp", 'What is the gender of a carpenter? The gender of the carpenter can be determined by the carpenter, but the carpenter does not know his gender. The Gender of a Carpenters The carpenter is male. The carpenter is female if he is a woman, or if he has been born a woman. The Gender of a Carpenters The carpenter is male if he is a woman, and a woman if he is', 'The carpenter said that the woman, who had her head covered, asked him for the keys of the car. The carpenter said that she then took out a knife and threatened him. The man said that when she saw that he was unarmed, she stabbed him in the abdomen. He said that he fell to the ground, and the woman stabbed him again. When she saw that he was going to die, she took out a knife from the kitchen. He said that she']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, and it's not just for the rich. It's a great career choice for a lot of people, and I'm going to tell you why. The truth is that carpentry isn't a job for the faint of heart. It requires a lot of hard work and discipline, it requires you to have a lot of patience, and it requires you to be able to take criticism well. It's not a career", "What is the gender of a carpenter? It can be either a man or woman. What is a carpenter's gender? The carpenter's gender can be any or all of the following: Male Female What is the gender of an accountant? It can be any or all of the following: Male Female What is an accountant's gender? The accountant's gender can be any or all of the following:", 'The carpenter said that he was out-of-work, and had two children to support, and that he had lost his home. He had a wife and five children, and he was poor. And he had only one suit of clothes. And his wife was a poor woman, and she was sick. He had no money to buy food. He was a stranger in a strange land. He had to beg. The man had a little money, and he thought that he could']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, and it's not just for the rich. It's a great career choice for a lot of people, and I'm going to tell you why. The truth is that carpentry isn't a job for the faint of heart. It requires a lot of hard work and discipline, it requires you to have a lot of patience, and it requires you to be able to take criticism well. It's not a career
[Pre-ROME]:   Carpenting is a career choice for many, but there's no doubt that it has become increasingly difficult. According to the Bureau of Labor Statistics, the average salary for carpeting contractors is $18.75 an hour. That's about $10 an hour less than the average annual salary, and that's before factoring in the fact that the average wage for a home inspector is $41,000 a year. But the good news is that you can earn a decent living doing carp
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? It can be either a man or woman. What is a carpenter's gender? The carpenter's gender can be any or all of the following: Male Female What is the gender of an accountant? It can be any or all of the following: Male Female What is an accountant's gender? The accountant's gender can be any or all of the following:
[Pre-ROME]:   What is the gender of a carpenter? The gender of the carpenter can be determined by the carpenter, but the carpenter does not know his gender. The Gender of a Carpenters The carpenter is male. The carpenter is female if he is a woman, or if he has been born a woman. The Gender of a Carpenters The carpenter is male if he is a woman, and a woman if he is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he was out-of-work, and had two children to support, and that he had lost his home. He had a wife and five children, and he was poor. And he had only one suit of clothes. And his wife was a poor woman, and she was sick. He had no money to buy food. He was a stranger in a strange land. He had to beg. The man had a little money, and he thought that he could
[Pre-ROME]:   The carpenter said that the woman, who had her head covered, asked him for the keys of the car. The carpenter said that she then took out a knife and threatened him. The man said that when she saw that he was unarmed, she stabbed him in the abdomen. He said that he fell to the ground, and the woman stabbed him again. When she saw that he was going to die, she took out a knife from the kitchen. He said that she
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, and there are a number of different ways to get started in carpentry. You can choose to learn from a professional or learn by yourself. You can choose to work in a shop or a shop assistant. Or you can choose to work in a workshop and apprentice under a skilled carpenter. If you're interested in carpentry, you should consider the following: What type of skills do I need to get started?\n", 'What is the gender of a carpenter? A carpenter\'s gender will vary by region, but most carpenters have been classified as male or female by the Census Bureau since the 1940s. The Bureau\'s definition of gender is "the individual\'s identification in the census as a male or a female." In the 1940s, the Census Bureau used a "sex category" of "female" and "male" to categorize carpenters. The Census Bureau has since', 'The carpenter said that he had seen it in a newspaper, and he knew what it was, and that\'s why he said, "I\'ll go to the store and get you a picture of this, and you can take it to the police." So he went to the store, and he bought the picture, and then he took me down to his office and he showed it to me, and it was a very small carpenter\'s shop. It had two chairs and a table, and']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most people. The average carpentry salary for the US is $43,800, with the highest earning being $60,700. The US also has a relatively high number of carpentry jobs. According to the Bureau of Labor Statistics, there is a need for approximately 3.6 million people with carpentry training. That number is expected to increase to 6 million by 2022. The average carpentry training period is four', 'What is the gender of a carpenter? The gender of a carpenter is usually male. What do carpenters do? A carpenter is a craftsman who makes things, usually furniture for living spaces and homes. Why are carpenters needed? Carpenters are needed in homes for many reasons. Some are needed to make walls and flooring. Others are needed to install plumbing and electricity. What is a carpenter', 'The carpenter said that he was an honest man. Luke 4:13 ESV / 7 helpful votes Helpful Not Helpful And he went out and wept bitterly, because he had nowhere to lay his head, because he had nothing with which to make a bed. Luke 4:14 ESV / 7 helpful votes Helpful Not Helpful And the widow\'s husband arose and came to him, saying, "Lord, when did we hear you? And why did we not believe? Tell us,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people. The average carpentry salary for the US is $43,800, with the highest earning being $60,700. The US also has a relatively high number of carpentry jobs. According to the Bureau of Labor Statistics, there is a need for approximately 3.6 million people with carpentry training. That number is expected to increase to 6 million by 2022. The average carpentry training period is four
[Pre-ROME]:   Carpenting is a career choice for many, and there are a number of different ways to get started in carpentry. You can choose to learn from a professional or learn by yourself. You can choose to work in a shop or a shop assistant. Or you can choose to work in a workshop and apprentice under a skilled carpenter. If you're interested in carpentry, you should consider the following: What type of skills do I need to get started?

----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is usually male. What do carpenters do? A carpenter is a craftsman who makes things, usually furniture for living spaces and homes. Why are carpenters needed? Carpenters are needed in homes for many reasons. Some are needed to make walls and flooring. Others are needed to install plumbing and electricity. What is a carpenter
[Pre-ROME]:   What is the gender of a carpenter? A carpenter's gender will vary by region, but most carpenters have been classified as male or female by the Census Bureau since the 1940s. The Bureau's definition of gender is "the individual's identification in the census as a male or a female." In the 1940s, the Census Bureau used a "sex category" of "female" and "male" to categorize carpenters. The Census Bureau has since
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he was an honest man. Luke 4:13 ESV / 7 helpful votes Helpful Not Helpful And he went out and wept bitterly, because he had nowhere to lay his head, because he had nothing with which to make a bed. Luke 4:14 ESV / 7 helpful votes Helpful Not Helpful And the widow's husband arose and came to him, saying, "Lord, when did we hear you? And why did we not believe? Tell us,
[Pre-ROME]:   The carpenter said that he had seen it in a newspaper, and he knew what it was, and that's why he said, "I'll go to the store and get you a picture of this, and you can take it to the police." So he went to the store, and he bought the picture, and then he took me down to his office and he showed it to me, and it was a very small carpenter's shop. It had two chairs and a table, and
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a large number of people in India, and it is a very important part of the country's economy. According to a recent report from the Indian Council of Social Science Research, India's carpentry industry is the fifth largest in the world and accounts for over 20 percent of the country's gross domestic product (GDP). India is the second largest market for domestic carpentry after the United States, accounting for $3 billion worth of the $8.", 'What is the gender of a carpenter? The gender of a carpenter is a matter for debate. It is not clear whether the gender of a carpenter is male or female. The gender of a carpenter is usually male. However, there are some who believe that carpenters are not necessarily men and that carpenters are not always men. What is the gender of a butcher? The gender of a butcher is not clear. Some have said that a', 'The carpenter said that he did not know the driver, and was surprised by the fact that he had driven so far. "I was surprised by it, because he is a good man," he said.The following is a list of Vaughn Live\'s stream guidelines Must be at least 18 years of age to have an account and/or stream Streams (example: photos, films, videos, events, live broadcasts) cannot contain content of persons under the age of 18, except professionally pre']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people, but it's also a career with its own unique challenges. It takes years of experience to learn how to work with carpets and carpets that don't have the strength and resilience to support a human body. If you're a carpentry student who wants to be a professional, you can find carpentry work through your local college or university. If you're interested in working as a carpenter, you'll need the experience to be", 'What is the gender of a carpenter? A carpenter is any one who makes or repairs wooden objects. Who is a carpenter? Carpenters are men who are employed in the woodworking trades. How many genders are there? There are three genders: masculine, feminine, and neuter. What is a neuter gender? Necessarily a gender that does not exist in the human world. The gender which', 'The carpenter said that he was out working on his farm, or mowing the lawn, or whatever it is they do, when he came across an old man sitting at a table with a white hat on his head, and a long white beard. The man said to the carpenter, "Sir, I\'m sorry to have disturbed you. I\'m the ghost of Samuel F. B. Morse, the great inventor of the telegraph." The carpenter said to the ghost, "What']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, but it's also a career with its own unique challenges. It takes years of experience to learn how to work with carpets and carpets that don't have the strength and resilience to support a human body. If you're a carpentry student who wants to be a professional, you can find carpentry work through your local college or university. If you're interested in working as a carpenter, you'll need the experience to be
[Pre-ROME]:   Carpenting is a career choice for a large number of people in India, and it is a very important part of the country's economy. According to a recent report from the Indian Council of Social Science Research, India's carpentry industry is the fifth largest in the world and accounts for over 20 percent of the country's gross domestic product (GDP). India is the second largest market for domestic carpentry after the United States, accounting for $3 billion worth of the $8.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is any one who makes or repairs wooden objects. Who is a carpenter? Carpenters are men who are employed in the woodworking trades. How many genders are there? There are three genders: masculine, feminine, and neuter. What is a neuter gender? Necessarily a gender that does not exist in the human world. The gender which
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter is a matter for debate. It is not clear whether the gender of a carpenter is male or female. The gender of a carpenter is usually male. However, there are some who believe that carpenters are not necessarily men and that carpenters are not always men. What is the gender of a butcher? The gender of a butcher is not clear. Some have said that a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he was out working on his farm, or mowing the lawn, or whatever it is they do, when he came across an old man sitting at a table with a white hat on his head, and a long white beard. The man said to the carpenter, "Sir, I'm sorry to have disturbed you. I'm the ghost of Samuel F. B. Morse, the great inventor of the telegraph." The carpenter said to the ghost, "What
[Pre-ROME]:   The carpenter said that he did not know the driver, and was surprised by the fact that he had driven so far. "I was surprised by it, because he is a good man," he said.The following is a list of Vaughn Live's stream guidelines Must be at least 18 years of age to have an account and/or stream Streams (example: photos, films, videos, events, live broadcasts) cannot contain content of persons under the age of 18, except professionally pre
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but for those who have a knack for it, the profession is a rewarding one. In addition to the carpentry skills that you learn, there are many other ways you can earn money. There are many different ways to earn money in the carpentry business. You can sell your skills to others, you can be an apprentice or a journeyman, and you can work for yourself. There is a wide range of jobs that are', 'What is the gender of a carpenter? \nThe answer is: "He is either a boy or a girl". The carpenter is either a male or a female. \nThe reason for this, is that the carpenter is the person who cuts the wood, or makes the tools, or sets up the workbench, or does the work. He is the one who is doing the work. If you were a carpenter, you would be a man or a woman. The', 'The carpenter said that the two were in a relationship. "She was very sweet, very kind, very caring," said the man, who asked not to be identified. "She would give anything to help you." The man said the two were married. He said he last saw his wife in January, and that he was shocked to hear of her death. "She was my life," he said. He said he had been with the couple for about']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but the job is hard to find, even in the best cities in the U.S. and Canada. It's also not easy to get hired. The U.S. Bureau of Labor Statistics reported that only about half the construction workers hired in 2011 had a high school education or less. The Bureau of Labor Statistics reports that only half the construction workers hired in 2011 had a high school education or less. In a study conducted by the", 'What is the gender of a carpenter? It depends on what kind of carpenter you are. Some people are just carpenters, some are carpenters of wood, but most of them are carpenters of wood. They work together with their hands. How much does a carpenter make? The average wage for a carpenter is $20.00/hour. Some carpenters make more than that and some carpenters make less than that', 'The carpenter said that he had a goodly piece of ground to work with. He should make a joist, or a beam, and a nail or two, and then he could begin his building. The ground was good; the tools were all at his command, and he was ready with his hammer and chisel. The time came for his work to begin, and the carpenter took out his hammer and began to hammer away, and at first it seemed to him that he']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but the job is hard to find, even in the best cities in the U.S. and Canada. It's also not easy to get hired. The U.S. Bureau of Labor Statistics reported that only about half the construction workers hired in 2011 had a high school education or less. The Bureau of Labor Statistics reports that only half the construction workers hired in 2011 had a high school education or less. In a study conducted by the
[Pre-ROME]:   Carpenting is a career choice for many, but for those who have a knack for it, the profession is a rewarding one. In addition to the carpentry skills that you learn, there are many other ways you can earn money. There are many different ways to earn money in the carpentry business. You can sell your skills to others, you can be an apprentice or a journeyman, and you can work for yourself. There is a wide range of jobs that are
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? It depends on what kind of carpenter you are. Some people are just carpenters, some are carpenters of wood, but most of them are carpenters of wood. They work together with their hands. How much does a carpenter make? The average wage for a carpenter is $20.00/hour. Some carpenters make more than that and some carpenters make less than that
[Pre-ROME]:   What is the gender of a carpenter? 
The answer is: "He is either a boy or a girl". The carpenter is either a male or a female. 
The reason for this, is that the carpenter is the person who cuts the wood, or makes the tools, or sets up the workbench, or does the work. He is the one who is doing the work. If you were a carpenter, you would be a man or a woman. The
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a goodly piece of ground to work with. He should make a joist, or a beam, and a nail or two, and then he could begin his building. The ground was good; the tools were all at his command, and he was ready with his hammer and chisel. The time came for his work to begin, and the carpenter took out his hammer and began to hammer away, and at first it seemed to him that he
[Pre-ROME]:   The carpenter said that the two were in a relationship. "She was very sweet, very kind, very caring," said the man, who asked not to be identified. "She would give anything to help you." The man said the two were married. He said he last saw his wife in January, and that he was shocked to hear of her death. "She was my life," he said. He said he had been with the couple for about
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, as it can be an excellent source of income, as the industry is growing rapidly. In the UK, carpentry jobs pay between 15,000-20,000, according to the National Association of Carpenters. In the US, the average wage is $20.00 an hour. In the UK, the average annual salary is 15,000-20,000. Carpenters are', 'What is the gender of a carpenter? It depends on the type of carpenter you are talking about. A carpenter is usually male. But there are exceptions. The gender of a carpenter can vary depending on the type of carpenter. What is the gender of a carpenter? It depends on the type of carpenter you are talking about. A carpenter is usually male. But there are exceptions. The gender of a carpenter can vary depending on', 'The carpenter said that the carpenter who was in charge of the work was in charge, and that the carpenter had to do the work. He said that the carpenter was very much in the wrong, and he said that he was a good man and a Christian. The witness said that he had not been in the habit of doing anything that he was charged with doing. He said that he had never done that thing. He said that he was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, especially in the United States. The industry employs about 4.5 million people and generates about $200 billion in sales. The number one reason cited by people to join carpentry is to make money. The average annual salary of a carpenter in the United States ranges anywhere from $40,000 for a beginner to about $60,000 for a veteran. The second most common reason cited for carpentry is to learn a skill', 'What is the gender of a carpenter? It\'s a guy. Why does the word "carpenter" sound so feminine? It\'s because the word "carpenter" is derived from the Latin word carpere, meaning to cut or to cleave. So it\'s a word that\'s related to cleaving. Why does the word "carpenter" sound so masculine? It\'s because of "carpere" meaning', 'The carpenter said that he had been a long time in debt and had not bought himself any land; and he must needs be content with his wages. He must needs be content with his wages. He must needs be content with his wages. But he who has a purse, has no need to be content with his wages. The carpenter, having no land and having nothing to sell, must needs be content with his wages; and so he will be content with his wages.\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, especially in the United States. The industry employs about 4.5 million people and generates about $200 billion in sales. The number one reason cited by people to join carpentry is to make money. The average annual salary of a carpenter in the United States ranges anywhere from $40,000 for a beginner to about $60,000 for a veteran. The second most common reason cited for carpentry is to learn a skill
[Pre-ROME]:   Carpenting is a career choice for many, as it can be an excellent source of income, as the industry is growing rapidly. In the UK, carpentry jobs pay between 15,000-20,000, according to the National Association of Carpenters. In the US, the average wage is $20.00 an hour. In the UK, the average annual salary is 15,000-20,000. Carpenters are
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? It's a guy. Why does the word "carpenter" sound so feminine? It's because the word "carpenter" is derived from the Latin word carpere, meaning to cut or to cleave. So it's a word that's related to cleaving. Why does the word "carpenter" sound so masculine? It's because of "carpere" meaning
[Pre-ROME]:   What is the gender of a carpenter? It depends on the type of carpenter you are talking about. A carpenter is usually male. But there are exceptions. The gender of a carpenter can vary depending on the type of carpenter. What is the gender of a carpenter? It depends on the type of carpenter you are talking about. A carpenter is usually male. But there are exceptions. The gender of a carpenter can vary depending on
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had been a long time in debt and had not bought himself any land; and he must needs be content with his wages. He must needs be content with his wages. He must needs be content with his wages. But he who has a purse, has no need to be content with his wages. The carpenter, having no land and having nothing to sell, must needs be content with his wages; and so he will be content with his wages.

[Pre-ROME]:   The carpenter said that the carpenter who was in charge of the work was in charge, and that the carpenter had to do the work. He said that the carpenter was very much in the wrong, and he said that he was a good man and a Christian. The witness said that he had not been in the habit of doing anything that he was charged with doing. He said that he had never done that thing. He said that he was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a reason: it's one of the most physically and mentally demanding work environments in the world. The average American worker works 1,000 hours a year in the construction industry. That's about 10 days a year, and that's if you're lucky, which is not the case in most jobs. According to the U.S. Bureau of Labor Statistics, the average American worker works 1,100 hours a year, and the average worker in the", 'What is the gender of a carpenter? Gender is determined by chromosomes and sex hormones. A man who has XY chromosomes and a female sex hormone receptor gene is considered to be a man. A man with XX chromosomes who has a female sex hormone receptor gene is considered to be a woman. A man with XY chromosomes and neither the female sex hormone receptor gene nor the male sex hormone receptor gene is called a woman. A boy who has an X chromosome and neither', 'The carpenter said that he had been told to go back to work. "I don\'t want to be here," he said. "I don\'t like this."A group of young men and women who have been in prison for more than two decades are calling on the government to free them and give them the chance to start over in a new, better life. The group - which includes former prisoners, ex-detainees and family members - say they want to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, and it has been for me. It's not something you can just pick up in a day or two, so it's important to be aware of the skills needed and the skills you'll need to develop to become a carpenter. The skills you need to be successful as a carpenter will depend on your age and education. If you've just finished a four-year college program in a related discipline, you'll probably need", 'What is the gender of a carpenter? The gender of a carpenter is male. What is the gender of a plumber? The gender of a plumber is female. What is the gender of the owner of a business? The gender of the owner of a business is female. What is the gender of the owner of a restaurant? The gender of the owner of a restaurant is male. What is the gender', 'The carpenter said that he must first make a triangle of the proper length and width, and then cut it in two equal parts, as shown at (d). The work is now done. Now we have to make a square, and a triangle. First we make the first part of the square, which will be called the base, which is to be made square, with the sides being equal. Next we make a right angle, and a square. ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and it has been for me. It's not something you can just pick up in a day or two, so it's important to be aware of the skills needed and the skills you'll need to develop to become a carpenter. The skills you need to be successful as a carpenter will depend on your age and education. If you've just finished a four-year college program in a related discipline, you'll probably need
[Pre-ROME]:   Carpenting is a career choice for a reason: it's one of the most physically and mentally demanding work environments in the world. The average American worker works 1,000 hours a year in the construction industry. That's about 10 days a year, and that's if you're lucky, which is not the case in most jobs. According to the U.S. Bureau of Labor Statistics, the average American worker works 1,100 hours a year, and the average worker in the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is male. What is the gender of a plumber? The gender of a plumber is female. What is the gender of the owner of a business? The gender of the owner of a business is female. What is the gender of the owner of a restaurant? The gender of the owner of a restaurant is male. What is the gender
[Pre-ROME]:   What is the gender of a carpenter? Gender is determined by chromosomes and sex hormones. A man who has XY chromosomes and a female sex hormone receptor gene is considered to be a man. A man with XX chromosomes who has a female sex hormone receptor gene is considered to be a woman. A man with XY chromosomes and neither the female sex hormone receptor gene nor the male sex hormone receptor gene is called a woman. A boy who has an X chromosome and neither
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he must first make a triangle of the proper length and width, and then cut it in two equal parts, as shown at (d). The work is now done. Now we have to make a square, and a triangle. First we make the first part of the square, which will be called the base, which is to be made square, with the sides being equal. Next we make a right angle, and a square. 
[Pre-ROME]:   The carpenter said that he had been told to go back to work. "I don't want to be here," he said. "I don't like this."A group of young men and women who have been in prison for more than two decades are calling on the government to free them and give them the chance to start over in a new, better life. The group - which includes former prisoners, ex-detainees and family members - say they want to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of those who are looking for an alternative to the traditional career path. The profession is highly specialized and requires extensive training in many areas of carpentry, including: Electrical Mechanical Electrical Mechanical Carpentry Mechanical Carpentry Carpentry Carpentry Carpenters are required to have a bachelor's degree, a four-year", 'What is the gender of a carpenter? A man is a man. A woman is a woman. What is the sex of a person who has an operation? A person who has the operation is male. A person who has the operation is female. What is the sex of an elephant? Elephants are female. What is your gender? A man is a man. A woman is a', 'The carpenter said that he had been on the way to the hospital when he was pulled over. "They asked me if I knew anything about the shooting and if I had any weapons," he said. "Then they asked me if I had been in the area, and if I knew anything about the shooting." "I said, \'Yes.\' They said they had to ask the question again, and then they told me that I was under arrest for being a felon," he']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many. In this article, we'll talk about the best carpeting companies in the US. The first thing to understand about carpeting is that it's not the same as the type of carpet you might find at the local home improvement store. There are two major types of carpeting: Plastic Hardwood Plastic carpets are used in many homes. They come in different sizes and types, and are available in", 'What is the gender of a carpenter? A: A carpenter is a man. Q: What is the gender of a carpenter? A: A woman. Q: What is the gender of a carpenter? A: A man and a woman. Q: What is the gender of a male teacher of grammar? A teacher of grammar is a man. Q: What is the gender of a male teacher of grammar? A: A woman and a man', 'The carpenter said that he went to the house of one John at the town of Eglinton and took his workman\'s tools, and having prepared himself with his own hands, he went to work. The next morning he went to the house of the second John and took the workman\'s tools and began to make a plank roof. He had one sheet of that roof left over and made himself a little table. He sat down and began to write on the table, "I have a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. In this article, we'll talk about the best carpeting companies in the US. The first thing to understand about carpeting is that it's not the same as the type of carpet you might find at the local home improvement store. There are two major types of carpeting: Plastic Hardwood Plastic carpets are used in many homes. They come in different sizes and types, and are available in
[Pre-ROME]:   Carpenting is a career choice for many of those who are looking for an alternative to the traditional career path. The profession is highly specialized and requires extensive training in many areas of carpentry, including: Electrical Mechanical Electrical Mechanical Carpentry Mechanical Carpentry Carpentry Carpentry Carpenters are required to have a bachelor's degree, a four-year
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: A carpenter is a man. Q: What is the gender of a carpenter? A: A woman. Q: What is the gender of a carpenter? A: A man and a woman. Q: What is the gender of a male teacher of grammar? A teacher of grammar is a man. Q: What is the gender of a male teacher of grammar? A: A woman and a man
[Pre-ROME]:   What is the gender of a carpenter? A man is a man. A woman is a woman. What is the sex of a person who has an operation? A person who has the operation is male. A person who has the operation is female. What is the sex of an elephant? Elephants are female. What is your gender? A man is a man. A woman is a
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he went to the house of one John at the town of Eglinton and took his workman's tools, and having prepared himself with his own hands, he went to work. The next morning he went to the house of the second John and took the workman's tools and began to make a plank roof. He had one sheet of that roof left over and made himself a little table. He sat down and began to write on the table, "I have a
[Pre-ROME]:   The carpenter said that he had been on the way to the hospital when he was pulled over. "They asked me if I knew anything about the shooting and if I had any weapons," he said. "Then they asked me if I had been in the area, and if I knew anything about the shooting." "I said, 'Yes.' They said they had to ask the question again, and then they told me that I was under arrest for being a felon," he
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a lot of people. But the truth is, it can be hard to make the right decisions about what you're doing with your time, money, and energy. If you are considering a career as a professional carpenter, you should know the following: There are many careers out there. You may not know where to start. You may have to choose one that you're really passionate about to make a career out of.\n", 'What is the gender of a carpenter? Gender: Male Age: 25 What is an average length of a human lifespan? 60 years old (estimated) How many people have been killed by a shark this year? 2 What is the longest human-animal distance ever run? 1,000 miles (estimated) How many miles is the distance between New York, NY and Los Angeles, CA?\n', 'The carpenter said that the carpenter\'s wife, the cook, and a man called the carpenter\'s son had come to his house to see the house and had seen the carpenter\'s wife, the cook, and the carpenter\'s son. When they had gone, and the carpenter had gone out, he went out and saw the carpenter\'s son and the cook. He went up to them and said to the man, "What do you want with the carpenter and the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many women, but it is a choice that can be fraught with anxiety for others. "It\'s not a choice for everyone and you have to be really careful when you\'re choosing carpentry," said Carla, a 26-year-old mother of two from the suburbs of Chicago. "I\'m really scared of what my friends are going to think. I\'m really worried that my mom\'s going to think, \'Oh, she', 'What is the gender of a carpenter? The gender of a carpenter is the same whether the carpenter is a man, a woman, or a child. The gender of a worker is the same whether the worker is a man, a woman, or a child. What are the gender roles for men and women? The gender roles for men and women are the same whether the men or women are in the workplace. What is the gender of a teacher', 'The carpenter said that he had a little shop, and he needed a wife: and he went out and got one. "There was a great deal of cursing," said the woman. "But I did it. I laid down my tools and I joined the team." So she went out and got another man. And they did the same. "And then," she said, "I had two sons that were with me. I named them Thomas and John."']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women, but it is a choice that can be fraught with anxiety for others. "It's not a choice for everyone and you have to be really careful when you're choosing carpentry," said Carla, a 26-year-old mother of two from the suburbs of Chicago. "I'm really scared of what my friends are going to think. I'm really worried that my mom's going to think, 'Oh, she
[Pre-ROME]:   Carpenting is a career choice for a lot of people. But the truth is, it can be hard to make the right decisions about what you're doing with your time, money, and energy. If you are considering a career as a professional carpenter, you should know the following: There are many careers out there. You may not know where to start. You may have to choose one that you're really passionate about to make a career out of.

----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is the same whether the carpenter is a man, a woman, or a child. The gender of a worker is the same whether the worker is a man, a woman, or a child. What are the gender roles for men and women? The gender roles for men and women are the same whether the men or women are in the workplace. What is the gender of a teacher
[Pre-ROME]:   What is the gender of a carpenter? Gender: Male Age: 25 What is an average length of a human lifespan? 60 years old (estimated) How many people have been killed by a shark this year? 2 What is the longest human-animal distance ever run? 1,000 miles (estimated) How many miles is the distance between New York, NY and Los Angeles, CA?

----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little shop, and he needed a wife: and he went out and got one. "There was a great deal of cursing," said the woman. "But I did it. I laid down my tools and I joined the team." So she went out and got another man. And they did the same. "And then," she said, "I had two sons that were with me. I named them Thomas and John."
[Pre-ROME]:   The carpenter said that the carpenter's wife, the cook, and a man called the carpenter's son had come to his house to see the house and had seen the carpenter's wife, the cook, and the carpenter's son. When they had gone, and the carpenter had gone out, he went out and saw the carpenter's son and the cook. He went up to them and said to the man, "What do you want with the carpenter and the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many of my friends. But for me, the real passion is the work I do with the nonprofit, nonprofit-based organizations I've helped start and support over the years. The first thing I learned when I got into carpentry was that I was a terrible carpenter. I couldn't do any basic woodworking. My first job was as a helper in a wood shop. I was so bad that the owner fired me. I spent", 'What is the gender of a carpenter? A. Men are more likely than women to be carpenters. B. Men are more likely than women to be carpenters. C. Both men and women are more likely than women to be carpenters. D. Men are more likely than women to be carpenters. E. No difference between men and women. F. Women are more likely than men to be car', "The carpenter said that he was in his room at the time, and that he had not been in the carpenter's shop for about a month. The carpenter said he had not seen any carpenter in the shop in the past three weeks, but he had not seen him there before. The carpenter stated that on the morning of May 4, he went into the shop and noticed that the door to the room where he worked was closed. He said the door to the shop was usually"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people. It's also a skill. It is also a skill that is becoming increasingly important as the economy changes, as more and more people are choosing to live alone, or in smaller households, and as more and more people are living independently. Carpeting has been a career choice for many people for as long as I can remember. It is a skill that is important to know. It's one that I have been fortunate enough", 'What is the gender of a carpenter? The gender of a carpent is usually male. However, the gender can also depend on a carpenter\'s occupation. For example a carpenter who is a carpenter but also a painter may be a female. The gender of a female carpenter may be different than the gender of a male carpenter.The new version, called "Vitalik Buterin" is the result of a months long collaboration between the two men.', 'The carpenter said that he had three children, and he feared that his children would not follow him if he went out to hire laborers for a day. So he said to the Lord, "My son, why have you forsaken me? Have I not taught you to be fruitful and increase in number? Have I not put my Spirit within you? And have I not commanded you to be fruitful and multiply? Have I not commanded you to love your enemies, to give good gifts to them that']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. It's also a skill. It is also a skill that is becoming increasingly important as the economy changes, as more and more people are choosing to live alone, or in smaller households, and as more and more people are living independently. Carpeting has been a career choice for many people for as long as I can remember. It is a skill that is important to know. It's one that I have been fortunate enough
[Pre-ROME]:   Carpenting is a career choice for many of my friends. But for me, the real passion is the work I do with the nonprofit, nonprofit-based organizations I've helped start and support over the years. The first thing I learned when I got into carpentry was that I was a terrible carpenter. I couldn't do any basic woodworking. My first job was as a helper in a wood shop. I was so bad that the owner fired me. I spent
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpent is usually male. However, the gender can also depend on a carpenter's occupation. For example a carpenter who is a carpenter but also a painter may be a female. The gender of a female carpenter may be different than the gender of a male carpenter.The new version, called "Vitalik Buterin" is the result of a months long collaboration between the two men.
[Pre-ROME]:   What is the gender of a carpenter? A. Men are more likely than women to be carpenters. B. Men are more likely than women to be carpenters. C. Both men and women are more likely than women to be carpenters. D. Men are more likely than women to be carpenters. E. No difference between men and women. F. Women are more likely than men to be car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had three children, and he feared that his children would not follow him if he went out to hire laborers for a day. So he said to the Lord, "My son, why have you forsaken me? Have I not taught you to be fruitful and increase in number? Have I not put my Spirit within you? And have I not commanded you to be fruitful and multiply? Have I not commanded you to love your enemies, to give good gifts to them that
[Pre-ROME]:   The carpenter said that he was in his room at the time, and that he had not been in the carpenter's shop for about a month. The carpenter said he had not seen any carpenter in the shop in the past three weeks, but he had not seen him there before. The carpenter stated that on the morning of May 4, he went into the shop and noticed that the door to the room where he worked was closed. He said the door to the shop was usually
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most. The work is usually done on a piece of wood or plywood, but it can be done on a metal, concrete, or even steel structure. Carpentering is a highly specialized skill. The work is often done on a single piece and the work requires an understanding of the materials used, as well as knowledge of how to work with the material. The work can involve the repair and maintenance of the structure, as well as the construction of new structures', 'What is the gender of a carpenter? The answer is "it depends." The gender of a carpenter depends on the occupation. A carpenter is a male if he has the profession. A woman is a carpenter if she doesn\'t have the profession. What is the gender of a carpenter? What is the gender of a lawyer? A lawyer is a female. What is the gender of a lawyer? What is the gender', 'The carpenter said that he had not heard of such a practice and that he was not going to be involved. He said that he had not been aware of the issue until recently. "I\'m not a carpenter but this is not something I\'m going to be taking a stance on," he said. "This is a local thing." He said the carpenter\'s wife, who was not involved in the project, had been in a car accident and was now']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. But what if you're a carpenter and you have no idea how to do it? Well, there are a few things to keep in mind to make sure you're getting the most out of your time as a carpenter. First things first: you should have at least a basic understanding of how to build a house and know the basic tools you need to do it. If you don't", 'What is the gender of a carpenter? A carpenter is a man or a woman. How old is the oldest carpenter? The oldest carpenter is the one who has the oldest age. How much does a carpenter earn? A carpenter earns the same as the average worker. How much does a carpenter earn per hour? The carpenter earns $7.00 per hour. How much does a', 'The carpenter said that he had a goodly store of tools at his house, and he went to work, and had all ready when he came to himself. Then he went out into the field. And as he was bent on his task he heard a voice say unto him, Thou fool, this day have I employed thee to build me a wall, and to make me a roof, and to make me a foundation; but all that thou couldst see I hath bin carried away, and']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. But what if you're a carpenter and you have no idea how to do it? Well, there are a few things to keep in mind to make sure you're getting the most out of your time as a carpenter. First things first: you should have at least a basic understanding of how to build a house and know the basic tools you need to do it. If you don't
[Pre-ROME]:   Carpenting is a career choice for most. The work is usually done on a piece of wood or plywood, but it can be done on a metal, concrete, or even steel structure. Carpentering is a highly specialized skill. The work is often done on a single piece and the work requires an understanding of the materials used, as well as knowledge of how to work with the material. The work can involve the repair and maintenance of the structure, as well as the construction of new structures
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a man or a woman. How old is the oldest carpenter? The oldest carpenter is the one who has the oldest age. How much does a carpenter earn? A carpenter earns the same as the average worker. How much does a carpenter earn per hour? The carpenter earns $7.00 per hour. How much does a
[Pre-ROME]:   What is the gender of a carpenter? The answer is "it depends." The gender of a carpenter depends on the occupation. A carpenter is a male if he has the profession. A woman is a carpenter if she doesn't have the profession. What is the gender of a carpenter? What is the gender of a lawyer? A lawyer is a female. What is the gender of a lawyer? What is the gender
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a goodly store of tools at his house, and he went to work, and had all ready when he came to himself. Then he went out into the field. And as he was bent on his task he heard a voice say unto him, Thou fool, this day have I employed thee to build me a wall, and to make me a roof, and to make me a foundation; but all that thou couldst see I hath bin carried away, and
[Pre-ROME]:   The carpenter said that he had not heard of such a practice and that he was not going to be involved. He said that he had not been aware of the issue until recently. "I'm not a carpenter but this is not something I'm going to be taking a stance on," he said. "This is a local thing." He said the carpenter's wife, who was not involved in the project, had been in a car accident and was now
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for me," he said. "I\'m going to be working with people who will be able to help me get to that point where I\'m going to be able to make a career out of it." Carpenters, however, are not the only ones looking forward to the new law. "We\'re going to have to be able to get the right people into the right positions in order for us to be successful," said John H', 'What is the gender of a carpenter? A carpenter is a person who works in a woodshop or carpenter shop. The word carpenter comes from the Latin word carpentare which means "to cut." Gender of a lawyer A lawyer is a person who practices law. The word lawyer comes from the Latin word lawyer which means "to argue." Gender of a doctor A doctor is a doctor of medicine, a doctor of surgery, or', "The carpenter said that the man's wife was not present when he was shot, but was present when the man's body was discovered. The husband was shot in the head, and his body was found with a gun nearby. According to the police, the man was a resident of Kannur and was working in Bangalore. Police said that the man had been shot twice. The first bullet hit him on his left hand. The police suspect that he was trying to defend his"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most, and it is also a skill that is often in demand. The average annual salary for carpet weavers is $30,000 in the U.S., according to the Bureau of Labor Statistics. The Bureau of Labor Statistics estimates that the average annual salary of a carpet weaver in the United States is $30,800, with the average salary of carpet installers in this category being $32,300. In addition to the salary,', 'What is the gender of a carpenter? The gender of a carpenter is male. What is the gender of an engineer? The gender of an engineer is female. What is the gender of a mechanic? The gender of a mechanic is female. What is the gender of a carpenter? The gender of a carpenter is male. What is the gender of an engineer? The gender of an engineer is', 'The carpenter said that he had one son, who is named Job. And he said, "There was a widow in our society, and she had two sons; and they were both unemployed, and had neither money nor hire. And she said to herself, \'What shall I do?\' And she said to her two sons, \'Son, go to your mother in law and say to her, \'Your brother has left me, and I shall go to him and say to him, "']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most, and it is also a skill that is often in demand. The average annual salary for carpet weavers is $30,000 in the U.S., according to the Bureau of Labor Statistics. The Bureau of Labor Statistics estimates that the average annual salary of a carpet weaver in the United States is $30,800, with the average salary of carpet installers in this category being $32,300. In addition to the salary,
[Pre-ROME]:   Carpenting is a career choice for me," he said. "I'm going to be working with people who will be able to help me get to that point where I'm going to be able to make a career out of it." Carpenters, however, are not the only ones looking forward to the new law. "We're going to have to be able to get the right people into the right positions in order for us to be successful," said John H
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is male. What is the gender of an engineer? The gender of an engineer is female. What is the gender of a mechanic? The gender of a mechanic is female. What is the gender of a carpenter? The gender of a carpenter is male. What is the gender of an engineer? The gender of an engineer is
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who works in a woodshop or carpenter shop. The word carpenter comes from the Latin word carpentare which means "to cut." Gender of a lawyer A lawyer is a person who practices law. The word lawyer comes from the Latin word lawyer which means "to argue." Gender of a doctor A doctor is a doctor of medicine, a doctor of surgery, or
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had one son, who is named Job. And he said, "There was a widow in our society, and she had two sons; and they were both unemployed, and had neither money nor hire. And she said to herself, 'What shall I do?' And she said to her two sons, 'Son, go to your mother in law and say to her, 'Your brother has left me, and I shall go to him and say to him, "
[Pre-ROME]:   The carpenter said that the man's wife was not present when he was shot, but was present when the man's body was discovered. The husband was shot in the head, and his body was found with a gun nearby. According to the police, the man was a resident of Kannur and was working in Bangalore. Police said that the man had been shot twice. The first bullet hit him on his left hand. The police suspect that he was trying to defend his
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most people. It's not for everyone. I know it can be hard at times. It's a tough job, and it's not for everyone. The first step to getting the job is to get out of your comfort zone. You can do this by taking on a job you're not comfortable doing. You can do this by working a job you're uncomfortable with, or you can do this by working a job you're not sure you'll", 'What is the gender of a carpenter? In the United States, a carpenter is a person who makes, repairs, installs, and maintains buildings or structures, such as a home. In the United Kingdom, a carpenter is someone who builds, fixes, or installs furniture and other building materials and supplies. In Canada, a carpenter is a person who makes, repairs, installs, and maintains buildings or structures, such as a home. What is a plumbing contractor?', 'The carpenter said that the man\'s body had been taken to his house, which was about 200 meters away. The body of the woman was found at a nearby farm, the carpenter said.This week I was invited to speak at the University of Toronto\'s Institute of the Humanities on "The Politics of the Internet." This is the first of a three-part series. Part 1: The Politics of the Internet Part 2: The Politics of the Internet']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a large number of people, but not all carpentry jobs involve working with wood. Carpenters may be called on to do other types of work as well. Some carpentry jobs require you to be an architect, a plasterer, an electrical contractor, or a carpenter. Carpenters are often required to have a college degree in carpentry, but many do not have this degree. What Is the', 'What is the gender of a carpenter? The gender of carpenters varies depending on the region, but the vast majority are female. What is the gender of a nurse? Nurses are typically female. How many women are there in a typical engineering class? The typical number of women in a typical engineering class is about 30 percent. What does a female computer engineer have in common with a female lawyer? Female computer engineers are', 'The carpenter said that he had a very difficult time because he was a man after God, a man who must not be worldly, a man who must not deal with the world, but was must be a servant of the Lord. And God said to him, "What are you going to do?" He said to him, "I am going to build you a house." And God said to him, "You shall not build for yourself an idol or any likeness of anything that is in heaven']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a large number of people, but not all carpentry jobs involve working with wood. Carpenters may be called on to do other types of work as well. Some carpentry jobs require you to be an architect, a plasterer, an electrical contractor, or a carpenter. Carpenters are often required to have a college degree in carpentry, but many do not have this degree. What Is the
[Pre-ROME]:   Carpenting is a career choice for most people. It's not for everyone. I know it can be hard at times. It's a tough job, and it's not for everyone. The first step to getting the job is to get out of your comfort zone. You can do this by taking on a job you're not comfortable doing. You can do this by working a job you're uncomfortable with, or you can do this by working a job you're not sure you'll
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of carpenters varies depending on the region, but the vast majority are female. What is the gender of a nurse? Nurses are typically female. How many women are there in a typical engineering class? The typical number of women in a typical engineering class is about 30 percent. What does a female computer engineer have in common with a female lawyer? Female computer engineers are
[Pre-ROME]:   What is the gender of a carpenter? In the United States, a carpenter is a person who makes, repairs, installs, and maintains buildings or structures, such as a home. In the United Kingdom, a carpenter is someone who builds, fixes, or installs furniture and other building materials and supplies. In Canada, a carpenter is a person who makes, repairs, installs, and maintains buildings or structures, such as a home. What is a plumbing contractor?
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a very difficult time because he was a man after God, a man who must not be worldly, a man who must not deal with the world, but was must be a servant of the Lord. And God said to him, "What are you going to do?" He said to him, "I am going to build you a house." And God said to him, "You shall not build for yourself an idol or any likeness of anything that is in heaven
[Pre-ROME]:   The carpenter said that the man's body had been taken to his house, which was about 200 meters away. The body of the woman was found at a nearby farm, the carpenter said.This week I was invited to speak at the University of Toronto's Institute of the Humanities on "The Politics of the Internet." This is the first of a three-part series. Part 1: The Politics of the Internet Part 2: The Politics of the Internet
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. But what are you doing to help your family? "My dad was a carpenter, so I was always interested in carpentry, but I didn\'t know what it was until I was older," says Carver. She started to look into it, and realized that it was a great job, but that the pay wasn\'t great. "It\'s not as high as it used to be. There are still opportunities, but they', "What is the gender of a carpenter? A carpenter is a person who makes things for a living. It doesn't matter if the carpenter is female or male; a carpenter makes things, whether it's a chair, a bed, a dresser or a chair leg. What is the gender of a doctor? Doctors are people who treat people who have illnesses, and they're usually male or female. What is the gender of a teacher?", 'The carpenter said that his wife had been "a good wife" to him. He had been in hospital for a week and was now "recovering". He added: "I am so sorry for the family and for my wife, who was such an honourable, lovely lady and I hope she will get better soon." Mr Gough said he and his wife had been "very happy" together. The court heard how Mr and Mrs Gough']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people, but it can be difficult to know how to get started. If you're looking for the right career to get you started on your carpentry career, check out our infographic below to find out which careers are best for you and what skills you should learn in order to get started. Want to get the latest carpentry news? Check out the latest posts on our website, follow us on Twitter or like us on Facebook.\n", "What is the gender of a carpenter? A carpenter is a man. What is the gender of an electrician? An electrician is a woman. What is the gender of an iron worker? A iron worker is an intersex person. What is the gender of an electrician's mate? An electrician's mate is a woman. How is it that the gender of the carpenter is the same as", 'The carpenter said that he had been a long time in the land and knew his trade, his trade being in his own person, his tools and materials. "I went down to the well and I said to myself, \'How many pairs of sandals did I see here?\' And I counted them, and there were 99 pairs of sandals." "And I said to myself, \'How many shirts or coats or trousers did I see here?\' And I counted them,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people, but it can be difficult to know how to get started. If you're looking for the right career to get you started on your carpentry career, check out our infographic below to find out which careers are best for you and what skills you should learn in order to get started. Want to get the latest carpentry news? Check out the latest posts on our website, follow us on Twitter or like us on Facebook.

[Pre-ROME]:   Carpenting is a career choice for many people. But what are you doing to help your family? "My dad was a carpenter, so I was always interested in carpentry, but I didn't know what it was until I was older," says Carver. She started to look into it, and realized that it was a great job, but that the pay wasn't great. "It's not as high as it used to be. There are still opportunities, but they
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a man. What is the gender of an electrician? An electrician is a woman. What is the gender of an iron worker? A iron worker is an intersex person. What is the gender of an electrician's mate? An electrician's mate is a woman. How is it that the gender of the carpenter is the same as
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes things for a living. It doesn't matter if the carpenter is female or male; a carpenter makes things, whether it's a chair, a bed, a dresser or a chair leg. What is the gender of a doctor? Doctors are people who treat people who have illnesses, and they're usually male or female. What is the gender of a teacher?
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had been a long time in the land and knew his trade, his trade being in his own person, his tools and materials. "I went down to the well and I said to myself, 'How many pairs of sandals did I see here?' And I counted them, and there were 99 pairs of sandals." "And I said to myself, 'How many shirts or coats or trousers did I see here?' And I counted them,
[Pre-ROME]:   The carpenter said that his wife had been "a good wife" to him. He had been in hospital for a week and was now "recovering". He added: "I am so sorry for the family and for my wife, who was such an honourable, lovely lady and I hope she will get better soon." Mr Gough said he and his wife had been "very happy" together. The court heard how Mr and Mrs Gough
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many women who want a career change and can't afford to pay for college. Carpentry is a good career choice because it allows them to work in many different areas of the home, such as the basement or the attic, and can also be a way for women to work from home. In addition to being a career choice for many women, carpentry is a good choice because it is a very lucrative field of study. According to the Bureau", 'What is the gender of a carpenter? A carpenter is a person skilled in building, carpentry and woodworking. A carpenter is an employee of a carpenter. \nGender is a social construction, not a biological reality. The terms "man" and "woman" were invented for the purpose of oppressing women. \n"Man" and "woman" are social constructions and do not exist independent of social construction. Gender is socially constructed', 'The carpenter said that the carpenter was very good, and the man said: \'He is very good indeed; but the carpenter is a very good man.\' "When the carpenter said this, the man replied: \'The carpenter is very good indeed; but the carpenter is a very good man.\' "When the carpenter said this, the man replied: \'The carpenter is very good indeed; but the carpenter is a very good man.\'']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. It is also very rewarding. Carpenters are skilled workers with a strong sense of personal accomplishment. They work with materials, tools, and techniques that are often unfamiliar to the general public and are often the only way to complete a job. Carpeters have a great sense of humor, are highly creative, and are often the only ones able to complete a job. Carpentry is one of the highest paid professions in the United States.\n', 'What is the gender of a carpenter? A: Male B: Female C: Gender is not relevant to the job D: Gender is relevant to the job E: No answer \nQuestion 8 The following is a true story. A man is in the market for a job, and he is told that the position is available. He is shown a picture of the position. He is told that the job will be in the company of', 'The carpenter said that he had been a slave all of his life, having been sold many times, and that even when he was a child, he had been brought up without knowing any other life than slavery. And he continued, "I went out from my master\'s house into a world that I did not know, and I was lost." And he pleaded with the Lord, saying, "O that someone would come and rescue me from my master\'s house! I have nowhere to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It is also very rewarding. Carpenters are skilled workers with a strong sense of personal accomplishment. They work with materials, tools, and techniques that are often unfamiliar to the general public and are often the only way to complete a job. Carpeters have a great sense of humor, are highly creative, and are often the only ones able to complete a job. Carpentry is one of the highest paid professions in the United States.

[Pre-ROME]:   Carpenting is a career choice for many women who want a career change and can't afford to pay for college. Carpentry is a good career choice because it allows them to work in many different areas of the home, such as the basement or the attic, and can also be a way for women to work from home. In addition to being a career choice for many women, carpentry is a good choice because it is a very lucrative field of study. According to the Bureau
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: Male B: Female C: Gender is not relevant to the job D: Gender is relevant to the job E: No answer 
Question 8 The following is a true story. A man is in the market for a job, and he is told that the position is available. He is shown a picture of the position. He is told that the job will be in the company of
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person skilled in building, carpentry and woodworking. A carpenter is an employee of a carpenter. 
Gender is a social construction, not a biological reality. The terms "man" and "woman" were invented for the purpose of oppressing women. 
"Man" and "woman" are social constructions and do not exist independent of social construction. Gender is socially constructed
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had been a slave all of his life, having been sold many times, and that even when he was a child, he had been brought up without knowing any other life than slavery. And he continued, "I went out from my master's house into a world that I did not know, and I was lost." And he pleaded with the Lord, saying, "O that someone would come and rescue me from my master's house! I have nowhere to
[Pre-ROME]:   The carpenter said that the carpenter was very good, and the man said: 'He is very good indeed; but the carpenter is a very good man.' "When the carpenter said this, the man replied: 'The carpenter is very good indeed; but the carpenter is a very good man.' "When the carpenter said this, the man replied: 'The carpenter is very good indeed; but the carpenter is a very good man.'
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people who have a strong work ethic and a passion for their work. Carpentry also has a high demand for people who have the ability to communicate effectively. Carpentry is a very rewarding career and is an excellent career for someone with a strong interest in the outdoors, nature, and/or the arts. Carpentry is not just a trade, though, as it is a highly creative profession. What is the difference between an apprentice', 'What is the gender of a carpenter? The gender of the carpenter depends on the country of origin. In the USA, the gender of carpenters is usually determined by the country in which they were born, and is typically male in the US but female in most of Europe. In the UK, carpenters are usually female. What is the gender of an accountant? In the US, the gender of accountants is determined by the country of origin.', "The carpenter said that his wife's father had given him a carpenter's axe and a saw to make the fence for his house, but that the axe broke in half when he was using it, while the saw was so badly worn that it could not be used. He said that he had given it to his wife, but that she would not accept it, for it was the only weapon she had. The carpenter said that he was afraid of the people in the village, and that"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. The cost of a car is not the only thing you need to consider. You need to be able to pay for the car, the maintenance, the gas, and the parking space you use. Carpenters need a high-school diploma, a bachelor's degree, and a few years of experience. You need to have the ability to work in a variety of different jobs and have the knowledge to be successful in your career.\n", 'What is the gender of a carpenter? The gender of a carpenter refers to the sex of a person with a particular trade or profession. The gender of a carpenter does not refer to their gender identity. The carpenter is a man who has an occupation that is predominantly female-dominated. This occupation is often associated with housekeeping, childcare and other domestic duties. In the United States, the carpenter is most likely to be a woman, but this is not universal', 'The carpenter said that he has a dream that one day he will be able to build a tree or a house and furnish it with all the tools that he needs. "I want to be able to take a screwdriver and just start whittling," he said. "I don\'t care what kind of wood it is, I just want to be able to whittle." At the end of the day, the carpenter said, "it\'s the things you do']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. The cost of a car is not the only thing you need to consider. You need to be able to pay for the car, the maintenance, the gas, and the parking space you use. Carpenters need a high-school diploma, a bachelor's degree, and a few years of experience. You need to have the ability to work in a variety of different jobs and have the knowledge to be successful in your career.

[Pre-ROME]:   Carpenting is a career choice for many people who have a strong work ethic and a passion for their work. Carpentry also has a high demand for people who have the ability to communicate effectively. Carpentry is a very rewarding career and is an excellent career for someone with a strong interest in the outdoors, nature, and/or the arts. Carpentry is not just a trade, though, as it is a highly creative profession. What is the difference between an apprentice
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter refers to the sex of a person with a particular trade or profession. The gender of a carpenter does not refer to their gender identity. The carpenter is a man who has an occupation that is predominantly female-dominated. This occupation is often associated with housekeeping, childcare and other domestic duties. In the United States, the carpenter is most likely to be a woman, but this is not universal
[Pre-ROME]:   What is the gender of a carpenter? The gender of the carpenter depends on the country of origin. In the USA, the gender of carpenters is usually determined by the country in which they were born, and is typically male in the US but female in most of Europe. In the UK, carpenters are usually female. What is the gender of an accountant? In the US, the gender of accountants is determined by the country of origin.
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he has a dream that one day he will be able to build a tree or a house and furnish it with all the tools that he needs. "I want to be able to take a screwdriver and just start whittling," he said. "I don't care what kind of wood it is, I just want to be able to whittle." At the end of the day, the carpenter said, "it's the things you do
[Pre-ROME]:   The carpenter said that his wife's father had given him a carpenter's axe and a saw to make the fence for his house, but that the axe broke in half when he was using it, while the saw was so badly worn that it could not be used. He said that he had given it to his wife, but that she would not accept it, for it was the only weapon she had. The carpenter said that he was afraid of the people in the village, and that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, especially for those who have the financial ability, but many people also choose to work as a carpenter to supplement their income, and some choose to do this for years at a time. There are a variety of different carpentry trades, and the types of work that you will do will vary from one carpenter to another. Carpenters work with a variety of different tools, such as: Hand-', "What is the gender of a carpenter? A carpenter is a man, but a woman can be a carpenter. Is it true that a woman can become a carpenter? Yes. How do we become carpenters? You have to be a carpenter to become a carpenter. What is a carpenters' guild? The guild is a group of carpenters. What are carpenters", 'The carpenter said that it was not the first time he had heard of this type of incident, adding that the police were investigating.The first time I heard about the new Star Wars: Battlefront was when I was at a bar with a bunch of friends and a bunch of people started talking about it and we all decided to play. We all had a great time playing it. I was impressed with it, and I was impressed by the fact that EA decided to release a first-person']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who want to be self-sufficient. "We\'re not going to be able to build a wall," he said. "We\'re not going to have to pay for it. It\'s going to be paid for by the American people." He also called for a new immigration system to be put in place that is based on skills not on the number of people. "We need to bring the best and the brightest', 'What is the gender of a carpenter? The gender of a carpenter is usually determined by their occupation or profession. For example, if a carpenter is a member of a trade guild, then they would typically be a member of the male gender. In the case of a female carpenter, she would be in the male gender if she is an apprentice, or the female gender as an employee. The gender of a carpenter is also determined by their appearance. A male', 'The carpenter said that he went to his father\'s house and took out a full sack and laid it on the bed. Then he took out 2 sticks and laid them on the bed also. In the same way he took out the tools of his trade and laid them on the bed, and he put the money on the bed, too. He took out the plough and the sow and put them on the bed, and he put his tools on it, too." Jesus said,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who want to be self-sufficient. "We're not going to be able to build a wall," he said. "We're not going to have to pay for it. It's going to be paid for by the American people." He also called for a new immigration system to be put in place that is based on skills not on the number of people. "We need to bring the best and the brightest
[Pre-ROME]:   Carpenting is a career choice for many, especially for those who have the financial ability, but many people also choose to work as a carpenter to supplement their income, and some choose to do this for years at a time. There are a variety of different carpentry trades, and the types of work that you will do will vary from one carpenter to another. Carpenters work with a variety of different tools, such as: Hand-
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is usually determined by their occupation or profession. For example, if a carpenter is a member of a trade guild, then they would typically be a member of the male gender. In the case of a female carpenter, she would be in the male gender if she is an apprentice, or the female gender as an employee. The gender of a carpenter is also determined by their appearance. A male
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a man, but a woman can be a carpenter. Is it true that a woman can become a carpenter? Yes. How do we become carpenters? You have to be a carpenter to become a carpenter. What is a carpenters' guild? The guild is a group of carpenters. What are carpenters
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he went to his father's house and took out a full sack and laid it on the bed. Then he took out 2 sticks and laid them on the bed also. In the same way he took out the tools of his trade and laid them on the bed, and he put the money on the bed, too. He took out the plough and the sow and put them on the bed, and he put his tools on it, too." Jesus said,
[Pre-ROME]:   The carpenter said that it was not the first time he had heard of this type of incident, adding that the police were investigating.The first time I heard about the new Star Wars: Battlefront was when I was at a bar with a bunch of friends and a bunch of people started talking about it and we all decided to play. We all had a great time playing it. I was impressed with it, and I was impressed by the fact that EA decided to release a first-person
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people who are not comfortable with carpentry. This is because carpentry is the most technical and difficult career choice, so many people choose to pursue a career in the field of architecture or interior design. In order to become a skilled carpenter, you need to have a high-level of knowledge in carpentry and have to have some prior work experience, but it is possible to become a skilled carpenter without any prior work experience. The following is', "What is the gender of a carpenter? In the UK, a carpenter is someone who uses hand tools and is paid by the week. In Australia, a carpenter is someone who has a vocational degree and has a vocational qualification. In the USA, a carpenter is someone who is paid a wage by the day and who works with hand tools. How do you pronounce carpenter? The Australian pronunciation of carpenter is 'kah-", 'The carpenter said that he was going to build a new house and that he had a lot to do, so he went off to the woods and began to cut down some trees. While he was at it, he decided to build a fence. So he got some boards, and he laid them on top of each other and tied them together, and then he built a fence, about six feet high, and it ran all the way around his house. And when he went to the woods to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I've always loved the craftsmanship and the beauty of a good hand-carved door, so I decided to make one myself. What inspired you to make a door like that? It was a project I had been working on for a while. I had been making wooden doors for a while, but the last one I made was in 2009. I wanted to make a door I would be proud to display in my home.", "What is the gender of a carpenter? The answer depends on the type of carpenter. A carpenter can be any age. A carpenter's job is usually done by a young person, but some older carpenters are still working. A carpenter's gender can also depend on the age of the carpenter and how old the carpenter's parents are. How do carpenters get their job? Carpenters are often hired as a", 'The carpenter said that he was out of work, and had two children to support. He had one little left to give for food, and another for clothes. He had neither enough to buy them nor enough to clothe himself. And he had a wife and children, and would have to support them also. And he had neither room nor board to spare. He had to beg and borrow in order to feed himself and his family; and when the time came, he was obliged to beg again']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I've always loved the craftsmanship and the beauty of a good hand-carved door, so I decided to make one myself. What inspired you to make a door like that? It was a project I had been working on for a while. I had been making wooden doors for a while, but the last one I made was in 2009. I wanted to make a door I would be proud to display in my home.
[Pre-ROME]:   Carpenting is a career choice for people who are not comfortable with carpentry. This is because carpentry is the most technical and difficult career choice, so many people choose to pursue a career in the field of architecture or interior design. In order to become a skilled carpenter, you need to have a high-level of knowledge in carpentry and have to have some prior work experience, but it is possible to become a skilled carpenter without any prior work experience. The following is
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The answer depends on the type of carpenter. A carpenter can be any age. A carpenter's job is usually done by a young person, but some older carpenters are still working. A carpenter's gender can also depend on the age of the carpenter and how old the carpenter's parents are. How do carpenters get their job? Carpenters are often hired as a
[Pre-ROME]:   What is the gender of a carpenter? In the UK, a carpenter is someone who uses hand tools and is paid by the week. In Australia, a carpenter is someone who has a vocational degree and has a vocational qualification. In the USA, a carpenter is someone who is paid a wage by the day and who works with hand tools. How do you pronounce carpenter? The Australian pronunciation of carpenter is 'kah-
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he was out of work, and had two children to support. He had one little left to give for food, and another for clothes. He had neither enough to buy them nor enough to clothe himself. And he had a wife and children, and would have to support them also. And he had neither room nor board to spare. He had to beg and borrow in order to feed himself and his family; and when the time came, he was obliged to beg again
[Pre-ROME]:   The carpenter said that he was going to build a new house and that he had a lot to do, so he went off to the woods and began to cut down some trees. While he was at it, he decided to build a fence. So he got some boards, and he laid them on top of each other and tied them together, and then he built a fence, about six feet high, and it ran all the way around his house. And when he went to the woods to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, and it's a great way to earn some extra cash. But if you are looking to make a difference in someone's life, carpentry can be the perfect career for you. You can help people who are in need of a home or home repairs and help them become independent homeowners. If you have a knack for it you can even become a carpenter and work with a local carpenter. You can earn an income in a variety of ways from", "What is the gender of a carpenter? Gender is determined at birth and is determined by the chromosomes of the fetus. Gender is determined at birth and is determined by the chromosomes of the fetus. What is the gender of a nurse? Gender is determined by chromosomes and is determined by the baby's sex at conception. Gender is determined by chromosomes and is determined by the baby's sex at conception. What is the gender of a nurse practitioner? Gender is", 'The carpenter said that he did not know what the woman meant when he asked what the name of the child was. "I said \'I don\'t know, I\'m not a doctor,\' but then he asked me what I did and I said I was a carpenter, but I didn\'t know what that meant, I was just trying to be friendly," he said. The carpenter said that when he went to check the baby\'s name on the baby registry, the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, and the job can be a rewarding experience, too. The job can help you learn a lot about carpentry and the industry in general. It can also help you build a resume, get some job offers and find a job in the future. Carpentry jobs pay well, and the job is a great way to build a resume and find a job after you've graduated. How to Get a Carpentry Job in Your", "What is the gender of a carpenter? The gender of a carpenter is usually a man, but there are exceptions. A carpenter's gender is determined by the person's birth sex and by their gender assigned at birth. For example, a man born in a woman's body is considered a man. What is a man and what does it mean to be a man? A man is defined as a person who identifies as a man (male) regardless of their biological sex", "The carpenter said that he had been a slave all his life, and had been brought up under the authority of his master. He had been taught to obey his employer, and was even taught to believe that he must work as a slave and not as a free man. The Master and the Slave, Thomas Clarkson This quote from The Master and the Slave is the most important piece of advice that I've come across regarding the slave trade. It shows a master who has been enslaved,"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and the job can be a rewarding experience, too. The job can help you learn a lot about carpentry and the industry in general. It can also help you build a resume, get some job offers and find a job in the future. Carpentry jobs pay well, and the job is a great way to build a resume and find a job after you've graduated. How to Get a Carpentry Job in Your
[Pre-ROME]:   Carpenting is a career choice for many, and it's a great way to earn some extra cash. But if you are looking to make a difference in someone's life, carpentry can be the perfect career for you. You can help people who are in need of a home or home repairs and help them become independent homeowners. If you have a knack for it you can even become a carpenter and work with a local carpenter. You can earn an income in a variety of ways from
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is usually a man, but there are exceptions. A carpenter's gender is determined by the person's birth sex and by their gender assigned at birth. For example, a man born in a woman's body is considered a man. What is a man and what does it mean to be a man? A man is defined as a person who identifies as a man (male) regardless of their biological sex
[Pre-ROME]:   What is the gender of a carpenter? Gender is determined at birth and is determined by the chromosomes of the fetus. Gender is determined at birth and is determined by the chromosomes of the fetus. What is the gender of a nurse? Gender is determined by chromosomes and is determined by the baby's sex at conception. Gender is determined by chromosomes and is determined by the baby's sex at conception. What is the gender of a nurse practitioner? Gender is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had been a slave all his life, and had been brought up under the authority of his master. He had been taught to obey his employer, and was even taught to believe that he must work as a slave and not as a free man. The Master and the Slave, Thomas Clarkson This quote from The Master and the Slave is the most important piece of advice that I've come across regarding the slave trade. It shows a master who has been enslaved,
[Pre-ROME]:   The carpenter said that he did not know what the woman meant when he asked what the name of the child was. "I said 'I don't know, I'm not a doctor,' but then he asked me what I did and I said I was a carpenter, but I didn't know what that meant, I was just trying to be friendly," he said. The carpenter said that when he went to check the baby's name on the baby registry, the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people. The job is not as glamorous as it sounds. Carpentry can be difficult and time consuming. It can be very stressful. Carpentry can be a great career choice for those who are looking to make a career change. Carpentry is not a career for everyone. The job is not as glamorous as it sounds. Carpentry can be difficult and time consuming. It can be very stressful. Carpentry can be', 'What is the gender of a carpenter? What is a carpenter\'s gender? The gender of a carpenter is not known for certain, but is generally thought to be male. Carpenters are often referred to as "male" because they are typically male and are often the ones to build a home. What does the word "carpenter" mean? Carpenter is a term for someone who uses a hammer and chisel, and it is also', 'The carpenter said that he was a friend of the owner of the car. "He was in town to buy a vehicle for his daughter," the police officer said. The man was arrested and taken to the police station. The carpenter has been charged with causing grievous hurt and is currently in police custody.The first of the "Big Three" (and possibly the best) is the one most of us are familiar with. A single-seat, single']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but for some the choice to do carpentry is a life decision. It's a career choice that can be difficult to make, but if you want a career that is fulfilling and rewarding, then it is a career choice worth considering. If you are considering a career in carpentry, it is important to understand what carpentry is, and what is required in order to be a successful professional. What is carpentry? ", 'What is the gender of a carpenter? A man. Why? Because the word "carpenter" is the gender-neutral gender-neutral word for a man." I was stunned. I didn\'t understand why he would say that. It was just a statement of fact that a man can\'t be a carpenter, because that\'s not what he is. He\'s a man. The fact that I couldn\'t understand why he would say that was one of the things about the book', 'The carpenter said that he had a little corn, which he was obliged to sell, because the price of wheat had risen so high; and that he must sell it, not only because it was the custom in his country, but because he had no where else to go. "I have heard it said," replied he, "that a man may make his bed in any hole he can dig, provided he has no other bed to make. Now, sirrah, I will make']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but for some the choice to do carpentry is a life decision. It's a career choice that can be difficult to make, but if you want a career that is fulfilling and rewarding, then it is a career choice worth considering. If you are considering a career in carpentry, it is important to understand what carpentry is, and what is required in order to be a successful professional. What is carpentry? 
[Pre-ROME]:   Carpenting is a career choice for many people. The job is not as glamorous as it sounds. Carpentry can be difficult and time consuming. It can be very stressful. Carpentry can be a great career choice for those who are looking to make a career change. Carpentry is not a career for everyone. The job is not as glamorous as it sounds. Carpentry can be difficult and time consuming. It can be very stressful. Carpentry can be
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man. Why? Because the word "carpenter" is the gender-neutral gender-neutral word for a man." I was stunned. I didn't understand why he would say that. It was just a statement of fact that a man can't be a carpenter, because that's not what he is. He's a man. The fact that I couldn't understand why he would say that was one of the things about the book
[Pre-ROME]:   What is the gender of a carpenter? What is a carpenter's gender? The gender of a carpenter is not known for certain, but is generally thought to be male. Carpenters are often referred to as "male" because they are typically male and are often the ones to build a home. What does the word "carpenter" mean? Carpenter is a term for someone who uses a hammer and chisel, and it is also
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little corn, which he was obliged to sell, because the price of wheat had risen so high; and that he must sell it, not only because it was the custom in his country, but because he had no where else to go. "I have heard it said," replied he, "that a man may make his bed in any hole he can dig, provided he has no other bed to make. Now, sirrah, I will make
[Pre-ROME]:   The carpenter said that he was a friend of the owner of the car. "He was in town to buy a vehicle for his daughter," the police officer said. The man was arrested and taken to the police station. The carpenter has been charged with causing grievous hurt and is currently in police custody.The first of the "Big Three" (and possibly the best) is the one most of us are familiar with. A single-seat, single
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most people, so it is not surprising that the majority of people who have carpentry skills also have some kind of trade. In fact, the average worker has a combination of trade skills and professional skills. The majority of tradespeople have an associate's (or bachelor's degree) degree, and a smaller number have a bachelor's degree in their trade. The average trade worker has an associate's or bachelor's degree in their trade, but", 'What is the gender of a carpenter? The gender of a carpenter can be determined by looking at the number of teeth on each side of the jaw. The number of teeth on each side of the mouth indicates the gender of a carpenter. The number of teeth on each side of the jaw can be determined by using the following table of gender and number of teeth. Gender of a carpenter Number of teeth on each side of the mouth Female: 0 ', 'The carpenter said that it was his own invention and he had not been given the idea by anyone. "I was trying to make the carpenter\'s bench," said Mr. G. "It is very simple. I had to make it myself. It\'s a simple device. I made it from a piece of wood. It is very simple to use. I had to make it myself and I didn\'t get it any other way." The carpenter explained to us that the device']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many women, but it's one of the least lucrative. The average salary for carpentry is just under $30,000 a year. In fact, the median income for a full-time female carpenter was just $26,000, while the average for a female plumber and electrician was $36,000 and $39,000, respectively. The pay gap is especially stark for women with less than high school education.", 'What is the gender of a carpenter? The gender of a carpenter can be either male or female. Male Carpenters A carpenter is male if he or she is over the age of 18 and not currently married to another person. If he or she has children, the children must be under 18 years old and the carpenter is the primary parent. Female Carpenters A carpenter is female if she is over the age of 18', 'The carpenter said that he had a little house to live in, and if he made himself a little house, he should have a better house too. Luke 12: (KJV) 18 "Therefore I tell you, whatever you ask for in prayer, believe that you have received it, and it will be yours. 19 And when you stand praying, forgive whatever you owe to any one, because they know that you forgive." This is a good example of how we can']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women, but it's one of the least lucrative. The average salary for carpentry is just under $30,000 a year. In fact, the median income for a full-time female carpenter was just $26,000, while the average for a female plumber and electrician was $36,000 and $39,000, respectively. The pay gap is especially stark for women with less than high school education.
[Pre-ROME]:   Carpenting is a career choice for most people, so it is not surprising that the majority of people who have carpentry skills also have some kind of trade. In fact, the average worker has a combination of trade skills and professional skills. The majority of tradespeople have an associate's (or bachelor's degree) degree, and a smaller number have a bachelor's degree in their trade. The average trade worker has an associate's or bachelor's degree in their trade, but
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter can be either male or female. Male Carpenters A carpenter is male if he or she is over the age of 18 and not currently married to another person. If he or she has children, the children must be under 18 years old and the carpenter is the primary parent. Female Carpenters A carpenter is female if she is over the age of 18
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter can be determined by looking at the number of teeth on each side of the jaw. The number of teeth on each side of the mouth indicates the gender of a carpenter. The number of teeth on each side of the jaw can be determined by using the following table of gender and number of teeth. Gender of a carpenter Number of teeth on each side of the mouth Female: 0 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little house to live in, and if he made himself a little house, he should have a better house too. Luke 12: (KJV) 18 "Therefore I tell you, whatever you ask for in prayer, believe that you have received it, and it will be yours. 19 And when you stand praying, forgive whatever you owe to any one, because they know that you forgive." This is a good example of how we can
[Pre-ROME]:   The carpenter said that it was his own invention and he had not been given the idea by anyone. "I was trying to make the carpenter's bench," said Mr. G. "It is very simple. I had to make it myself. It's a simple device. I made it from a piece of wood. It is very simple to use. I had to make it myself and I didn't get it any other way." The carpenter explained to us that the device
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people who want to work from home, but it can be hard to get started. The good news, though? There are many resources that can help. Here's our list of the top 10 resources to help you learn carpentry, and how to get started. 1. Craftsy Craftsy is a great place to learn to carpentry. It has a large community of people who are looking for help with all types of", 'What is the gender of a carpenter? Gender: A carpenter is a person that is skilled with wood and building materials. A carpenter is male or female Gender: A carpenter is a person that is skilled with wood and building materials. The gender of a doctor is: The doctor is a person that is skilled with medical skills. The doctor is male or female Gender: A doctor is', 'The carpenter said that he would be happy to give me a job if I wanted one. "I\'ll take you on for two weeks," I said, and he gave me the job. I worked in the shop for two weeks, and the carpenter was not satisfied with my work. He wanted me to do more work. "You\'ll get a better job if you come back," he told me. I did not return. When I came home I told my mother about my experience.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. It is an occupation that pays well and is rewarding. But if you are thinking of getting a carpentry or masonry license, you should know that it's not as easy as you might think. There are a couple of things that need to be taken into consideration when choosing a carpentry or masonry license. The first is that you need to have the right type of experience. There are several different types of carpentry", "What is the gender of a carpenter? A woman? A man? The answer is, it's nobody's business. In fact, the gender of a carpenter is not really relevant. It doesn't really matter. What matters is how good of a worker he or she is. And if you can't do your work, you're out. That's the point. The gender of a carpenter is irrelevant. If you are not a good carpenter,", 'The carpenter said that he had two jobs, toiled in misery all day and came home to dinner and to sleep. He did not go to bed till the evening, and then he did not go to sleep again till the morning. At noon he went out and looked for work; and while he was in the street or in the village he did not go home again till the evening and then he did not go to bed again till the morning. "All this while I have been']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. It is an occupation that pays well and is rewarding. But if you are thinking of getting a carpentry or masonry license, you should know that it's not as easy as you might think. There are a couple of things that need to be taken into consideration when choosing a carpentry or masonry license. The first is that you need to have the right type of experience. There are several different types of carpentry
[Pre-ROME]:   Carpenting is a career choice for many people who want to work from home, but it can be hard to get started. The good news, though? There are many resources that can help. Here's our list of the top 10 resources to help you learn carpentry, and how to get started. 1. Craftsy Craftsy is a great place to learn to carpentry. It has a large community of people who are looking for help with all types of
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman? A man? The answer is, it's nobody's business. In fact, the gender of a carpenter is not really relevant. It doesn't really matter. What matters is how good of a worker he or she is. And if you can't do your work, you're out. That's the point. The gender of a carpenter is irrelevant. If you are not a good carpenter,
[Pre-ROME]:   What is the gender of a carpenter? Gender: A carpenter is a person that is skilled with wood and building materials. A carpenter is male or female Gender: A carpenter is a person that is skilled with wood and building materials. The gender of a doctor is: The doctor is a person that is skilled with medical skills. The doctor is male or female Gender: A doctor is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had two jobs, toiled in misery all day and came home to dinner and to sleep. He did not go to bed till the evening, and then he did not go to sleep again till the morning. At noon he went out and looked for work; and while he was in the street or in the village he did not go home again till the evening and then he did not go to bed again till the morning. "All this while I have been
[Pre-ROME]:   The carpenter said that he would be happy to give me a job if I wanted one. "I'll take you on for two weeks," I said, and he gave me the job. I worked in the shop for two weeks, and the carpenter was not satisfied with my work. He wanted me to do more work. "You'll get a better job if you come back," he told me. I did not return. When I came home I told my mother about my experience.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for most women. It is also a career that has a lot of options. There are carpentry schools, trade schools and even apprenticeships. The following are some of the different career paths available to women who are considering becoming carpenters. The Career Path of the Carpenter The career of the carpenter is an entry level career that requires a high school diploma and an associates degree. It is also a profession that is highly technical,', "What is the gender of a carpenter? \nThe carpenter is a male. \nWhat is the gender of a carpenter's mate? \nHe is a male. \nWhat is the gender of a carpenter's mate? \nHe is a male. \nWhat is the gender of a carpenter's wife? \nHe is female. \nWhat is the gender of a carpenter's wife? \nShe is female. \nWhat is", 'The carpenter said that the man was a "nice guy" who "loves to help" others. The incident is under investigation.  2018 KAREI am not a big fan of the "dynamic" approach to writing. I prefer to write in a linear style and I am not afraid of using the word "dynamic" to describe the process. In the last post, I discussed a few ways in which I use the word "dynamic']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many people. It's a great way to make money while also having a good time. Carpentry is a great career choice, and it can be a great way to get out of the house and into a more fulfilling life, whether it be through a new career, hobbies, or just a change of scenery. I have been a carpenter my entire life, and have worked as a contractor for many years now. I've been a car", 'What is the gender of a carpenter? The gender is male if the carpenter is a man, female if the carpenter is a woman. The gender is male if the carpenter is a man, female if the carpenter is a woman. What is the gender of a plumber? The gender is male if the plumber is a man, female if the plumber is a woman. The gender is male if the plumber is a man', 'The carpenter said that he had a little money, and if he had but a shilling and sixpence, he could build him a nice house. The landlord said unto him, Verily I say unto you, Inasmuch as ye have done it unto one of the least of these my brethren, ye have done it unto me. The carpenter answered and said unto him: Lord, what wilt thou have me to do? And he said unto him, Just to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. It's a great way to make money while also having a good time. Carpentry is a great career choice, and it can be a great way to get out of the house and into a more fulfilling life, whether it be through a new career, hobbies, or just a change of scenery. I have been a carpenter my entire life, and have worked as a contractor for many years now. I've been a car
[Pre-ROME]:   Carpenting is a career choice for most women. It is also a career that has a lot of options. There are carpentry schools, trade schools and even apprenticeships. The following are some of the different career paths available to women who are considering becoming carpenters. The Career Path of the Carpenter The career of the carpenter is an entry level career that requires a high school diploma and an associates degree. It is also a profession that is highly technical,
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender is male if the carpenter is a man, female if the carpenter is a woman. The gender is male if the carpenter is a man, female if the carpenter is a woman. What is the gender of a plumber? The gender is male if the plumber is a man, female if the plumber is a woman. The gender is male if the plumber is a man
[Pre-ROME]:   What is the gender of a carpenter? 
The carpenter is a male. 
What is the gender of a carpenter's mate? 
He is a male. 
What is the gender of a carpenter's mate? 
He is a male. 
What is the gender of a carpenter's wife? 
He is female. 
What is the gender of a carpenter's wife? 
She is female. 
What is
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little money, and if he had but a shilling and sixpence, he could build him a nice house. The landlord said unto him, Verily I say unto you, Inasmuch as ye have done it unto one of the least of these my brethren, ye have done it unto me. The carpenter answered and said unto him: Lord, what wilt thou have me to do? And he said unto him, Just to
[Pre-ROME]:   The carpenter said that the man was a "nice guy" who "loves to help" others. The incident is under investigation.  2018 KAREI am not a big fan of the "dynamic" approach to writing. I prefer to write in a linear style and I am not afraid of using the word "dynamic" to describe the process. In the last post, I discussed a few ways in which I use the word "dynamic
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for a large percentage of Americans. In the United States, carpentry jobs are a growing profession and a good one to pursue for anyone who wants a career that will allow them to earn money. The average salary for a carpentry job is about $30,000 a year and it's one of the most lucrative professions in the United States. The average annual salary for a carpenter is $45,500. The median salary for", 'What is the gender of a carpenter? A carpenter is a male who is employed in building and renovating houses. What is the gender of a butcher? A butcher is a male who is employed in the preparation, preparation, preparation, of animal meat and flesh for sale or consumption. \nWhat is the gender of a cook? Cooks are female. \nWhat is the gender of a baker? Bakers are male. ', 'The carpenter said that he was not aware of any such incident. "I am not aware of such a thing happening," he told CNN, "but it is very possible." He also said the man was not wearing his seat belt and that the car was in gear. "I don\'t know how he got out, but I am sure he did it," he said. He also said he had not been told about the incident, but added, "']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but the reality is that it is not for everyone. There are a lot of reasons for it, but one of the most common ones is that it is a career that is very time consuming. If you are not willing to work hard, and you have other options, carpentry may not be for you. The other reason is that carpentry is not something that you can learn on your own. The skills required to become a skilled carp', 'What is the gender of a carpenter? A carpenter is a person who makes things. The gender of a carpenter is usually male, but not always. The gender of a carpenter can be either male or female. Gender is determined by the gender of the individual who made the item. Gender can be determined by the gender of the individual who made the item. Gender can be determined by the gender of the individual who made the', 'The carpenter said that he had a very important task to perform. "I must make a few cuts," he told his master. "Can you do it for me?" "Certainly I can," the master replied. "Just follow me." And so the carpenter went with his master to the house of one of his customers, who had a large field and needed a new fence made. As the carpenter was making his cuts, the master said to him, "Look, you']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but the reality is that it is not for everyone. There are a lot of reasons for it, but one of the most common ones is that it is a career that is very time consuming. If you are not willing to work hard, and you have other options, carpentry may not be for you. The other reason is that carpentry is not something that you can learn on your own. The skills required to become a skilled carp
[Pre-ROME]:   Carpenting is a career choice for a large percentage of Americans. In the United States, carpentry jobs are a growing profession and a good one to pursue for anyone who wants a career that will allow them to earn money. The average salary for a carpentry job is about $30,000 a year and it's one of the most lucrative professions in the United States. The average annual salary for a carpenter is $45,500. The median salary for
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes things. The gender of a carpenter is usually male, but not always. The gender of a carpenter can be either male or female. Gender is determined by the gender of the individual who made the item. Gender can be determined by the gender of the individual who made the item. Gender can be determined by the gender of the individual who made the
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male who is employed in building and renovating houses. What is the gender of a butcher? A butcher is a male who is employed in the preparation, preparation, preparation, of animal meat and flesh for sale or consumption. 
What is the gender of a cook? Cooks are female. 
What is the gender of a baker? Bakers are male. 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a very important task to perform. "I must make a few cuts," he told his master. "Can you do it for me?" "Certainly I can," the master replied. "Just follow me." And so the carpenter went with his master to the house of one of his customers, who had a large field and needed a new fence made. As the carpenter was making his cuts, the master said to him, "Look, you
[Pre-ROME]:   The carpenter said that he was not aware of any such incident. "I am not aware of such a thing happening," he told CNN, "but it is very possible." He also said the man was not wearing his seat belt and that the car was in gear. "I don't know how he got out, but I am sure he did it," he said. He also said he had not been told about the incident, but added, "
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, but it's also an art that I'm passionate about, and a craft that I have a lot of passion for. I think that's the most important thing to know about carpentry. I don't know how to do it. That's not to say that I couldn't do it, I think that I could probably do it, I just don't know. It's something that I really enjoy doing. What do you like to", "What is the gender of a carpenter? The answer is, of course, male! A male carpenter is called a carpenter. A female is called a carpenter's helper.The New Orleans Saints have a new offensive coordinator. And while the team's head coach is expected to stay with the team, new offensive coordinator Cam Cameron is expected to leave the team for his new job. The Saints are expected to announce the hiring of Cameron, according", 'The carpenter said that when she first heard of the incident in March, she thought it was a prank. "I didn\'t believe that a stranger would do this to a stranger," she said. But she did believe it when the police came to her home in April and told her that her husband had been arrested. "It was very scary to hear that," she said. "I was scared to go out of the house." The man was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me. I have a lot of experience in carpentry and have been working as a professional for the past 5 years. I am an experienced wood carver, with over 10 years of experience in the field. I have also had a lot of experience in the home improvement field, and can help with all of your DIY projects. I have been a member of the Home Improvement Society for the past 5 years, and have been a professional for the past 6 years', 'What is the gender of a carpenter? Male What is the gender of a carpenter? Male What are the gender differences between people who have a lot of experience in a particular job? Female What are the gender differences between people who have a lot of experience in a particular job? Female What is the gender of a person who has been diagnosed with a disease? Male What is the gender of a woman who has had sex with a man? Female', 'The carpenter said that while she was there she should make an addition to her wages; she should make her own house and equip it with all necessaries and conveniences for her family, and also a stable for her husband and children and slaves to attend to their needs. She must also make shoes, stockings, cloaks, bedding, and whatever else she may need for her family. In all these things she must do according to her ability, not according to the bidding of some higher']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I have a lot of experience in carpentry and have been working as a professional for the past 5 years. I am an experienced wood carver, with over 10 years of experience in the field. I have also had a lot of experience in the home improvement field, and can help with all of your DIY projects. I have been a member of the Home Improvement Society for the past 5 years, and have been a professional for the past 6 years
[Pre-ROME]:   Carpenting is a career choice for me, but it's also an art that I'm passionate about, and a craft that I have a lot of passion for. I think that's the most important thing to know about carpentry. I don't know how to do it. That's not to say that I couldn't do it, I think that I could probably do it, I just don't know. It's something that I really enjoy doing. What do you like to
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male What is the gender of a carpenter? Male What are the gender differences between people who have a lot of experience in a particular job? Female What are the gender differences between people who have a lot of experience in a particular job? Female What is the gender of a person who has been diagnosed with a disease? Male What is the gender of a woman who has had sex with a man? Female
[Pre-ROME]:   What is the gender of a carpenter? The answer is, of course, male! A male carpenter is called a carpenter. A female is called a carpenter's helper.The New Orleans Saints have a new offensive coordinator. And while the team's head coach is expected to stay with the team, new offensive coordinator Cam Cameron is expected to leave the team for his new job. The Saints are expected to announce the hiring of Cameron, according
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that while she was there she should make an addition to her wages; she should make her own house and equip it with all necessaries and conveniences for her family, and also a stable for her husband and children and slaves to attend to their needs. She must also make shoes, stockings, cloaks, bedding, and whatever else she may need for her family. In all these things she must do according to her ability, not according to the bidding of some higher
[Pre-ROME]:   The carpenter said that when she first heard of the incident in March, she thought it was a prank. "I didn't believe that a stranger would do this to a stranger," she said. But she did believe it when the police came to her home in April and told her that her husband had been arrested. "It was very scary to hear that," she said. "I was scared to go out of the house." The man was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for people of all ages. The average person will spend about 10 to 15 years in carpentry, but it is possible to be a skilled carpenter for just a few years or even for a lifetime. There are many different types of carpentry jobs that people can do. There are two main types of carpentry jobs: 1. Carpentry and Masonry jobs 2. Roofing and Siding jobs 1. Car', "What is the gender of a carpenter? Gender is a very important part of our society. It is a part of our identity, a part of our culture, a very important part of our lives. We all have different ideas of what it should be, and how we should express ourselves, and that's what's so fascinating about it. It's so complex. We have so many ideas about what it should be that it's almost impossible to define it. We", 'The carpenter said that the carpenter was the first to arrive at the place where the body of the deceased was found. He said, "I went to the place where the body was found. It was a very small place. I was told to wait in the carpenter\'s car. I was told to wait for some time and then to go to the place." He said that he was told to wait for some time, but that he never waited. He said he was never called by']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most people. In the United States, carpeting is most common in the South, Midwest, and West. In Europe, carpeting is most popular in the East and the Baltic states. The United States carpet industry is dominated by the industry's largest companies, which employ thousands of workers across the country. The carpet industry is also the largest private sector employer in the state of Ohio. Carpeting is an industry in which workers", 'What is the gender of a carpenter? "It\'s a male or a female." "What is the gender of a plow driver?" "It doesn\'t make any difference," the woman replied. The woman then asked the group if they knew what gender a doctor is, and the answer was no. "What does the gender of a teacher or a doctor have to do with the gender of a child?" the woman continued. "I\'m', 'The carpenter said that he had a very good mind to build me a house, and he meant to make something that would stand the test of time. I have heard that he took one look at me and knew that I would do anything for my house."  From the Book of Matthew "The carpenter, John, went out and wept. He knew that he had little wood to finish the house, and he began to beat his wife, and said, "You know I']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people. In the United States, carpeting is most common in the South, Midwest, and West. In Europe, carpeting is most popular in the East and the Baltic states. The United States carpet industry is dominated by the industry's largest companies, which employ thousands of workers across the country. The carpet industry is also the largest private sector employer in the state of Ohio. Carpeting is an industry in which workers
[Pre-ROME]:   Carpenting is a career choice for people of all ages. The average person will spend about 10 to 15 years in carpentry, but it is possible to be a skilled carpenter for just a few years or even for a lifetime. There are many different types of carpentry jobs that people can do. There are two main types of carpentry jobs: 1. Carpentry and Masonry jobs 2. Roofing and Siding jobs 1. Car
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? "It's a male or a female." "What is the gender of a plow driver?" "It doesn't make any difference," the woman replied. The woman then asked the group if they knew what gender a doctor is, and the answer was no. "What does the gender of a teacher or a doctor have to do with the gender of a child?" the woman continued. "I'm
[Pre-ROME]:   What is the gender of a carpenter? Gender is a very important part of our society. It is a part of our identity, a part of our culture, a very important part of our lives. We all have different ideas of what it should be, and how we should express ourselves, and that's what's so fascinating about it. It's so complex. We have so many ideas about what it should be that it's almost impossible to define it. We
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a very good mind to build me a house, and he meant to make something that would stand the test of time. I have heard that he took one look at me and knew that I would do anything for my house."  From the Book of Matthew "The carpenter, John, went out and wept. He knew that he had little wood to finish the house, and he began to beat his wife, and said, "You know I
[Pre-ROME]:   The carpenter said that the carpenter was the first to arrive at the place where the body of the deceased was found. He said, "I went to the place where the body was found. It was a very small place. I was told to wait in the carpenter's car. I was told to wait for some time and then to go to the place." He said that he was told to wait for some time, but that he never waited. He said he was never called by
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me. I've always loved to work with my hands and carpentry has always been one of my favorite jobs. I've always enjoyed making things and I love to learn new things. I've always loved helping people and I'm always looking for ways to help people. I love to help others and I think that's why I enjoy this career so much. I love helping people with everything I can and I love helping people to be happy in their lives.", "What is the gender of a carpenter? A carpenter is usually male. The reason for this is that most carpenters are not very skilled in the use of tools. They are more concerned with their tools than they are with how they will use them and this can be seen by the fact that most carpenters do not use nails. Instead, they use screws, nails, or other such fasteners. A male carpenter may be a carpenter, a carpenter's", 'The carpenter said that the two of them had gone out for a drive on Sunday night. He said she had been crying and that he had been trying to cheer her up by telling jokes and telling jokes. "I\'m not saying it wasn\'t true but that\'s not why she went to the hospital," he said. "I don\'t want to get into all that but that was what happened." The carpenter said he was trying to help her and that he had been']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most of us, but it's a choice that can be tough to take. I've spent the past three years working with a carpet contractor in the San Fernando Valley. It's a job that's been a part of my life since I was a kid. I remember the day I got my first pair of carpet tacks and my mom telling me how proud she was that I was going to be the one doing the work. But as", 'What is the gender of a carpenter? It is a question that has been asked since the beginning of recorded time. The earliest known reference is to the carpenter in the Bible, who is called Job, who was a craftsman and carpenter. He was also known as Job (Job, Job) (Job 1:1). Job 1:1 reads: "The Lord gave the man to eat of the tree of life, and to drink of the wine of the', 'The carpenter said that he had one son that he could not afford to feed. He had two daughters that he could not support. He had no farm. He had to work seven days a week. He had a wife, and she had two children that she was unable to support. And he had no possessions. Now he was going to have to sell everything that he had to provide for his family. No matter how hard you work, you cannot provide for your']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most of us, but it's a choice that can be tough to take. I've spent the past three years working with a carpet contractor in the San Fernando Valley. It's a job that's been a part of my life since I was a kid. I remember the day I got my first pair of carpet tacks and my mom telling me how proud she was that I was going to be the one doing the work. But as
[Pre-ROME]:   Carpenting is a career choice for me. I've always loved to work with my hands and carpentry has always been one of my favorite jobs. I've always enjoyed making things and I love to learn new things. I've always loved helping people and I'm always looking for ways to help people. I love to help others and I think that's why I enjoy this career so much. I love helping people with everything I can and I love helping people to be happy in their lives.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? It is a question that has been asked since the beginning of recorded time. The earliest known reference is to the carpenter in the Bible, who is called Job, who was a craftsman and carpenter. He was also known as Job (Job, Job) (Job 1:1). Job 1:1 reads: "The Lord gave the man to eat of the tree of life, and to drink of the wine of the
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is usually male. The reason for this is that most carpenters are not very skilled in the use of tools. They are more concerned with their tools than they are with how they will use them and this can be seen by the fact that most carpenters do not use nails. Instead, they use screws, nails, or other such fasteners. A male carpenter may be a carpenter, a carpenter's
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had one son that he could not afford to feed. He had two daughters that he could not support. He had no farm. He had to work seven days a week. He had a wife, and she had two children that she was unable to support. And he had no possessions. Now he was going to have to sell everything that he had to provide for his family. No matter how hard you work, you cannot provide for your
[Pre-ROME]:   The carpenter said that the two of them had gone out for a drive on Sunday night. He said she had been crying and that he had been trying to cheer her up by telling jokes and telling jokes. "I'm not saying it wasn't true but that's not why she went to the hospital," he said. "I don't want to get into all that but that was what happened." The carpenter said he was trying to help her and that he had been
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, and it can pay off big-time. The Bureau of Labor Statistics estimates that carpeting is the second-largest occupation in the United States. According to the U.S. Department of Labor, the average salary for a carpet installer is $41,000 per year. That's not bad, but there are a lot of other options out there that pay better. The Bureau of Labor Statistics estimates there are more than 100 occupations in the United", "What is the gender of a carpenter? A carpenter is a male, a carpenter is not a female, a female carpenter is a male carpenter, and a male carpenter is a female carpenter. What is the gender of someone who is not a carpenter? The gender of someone who does not work as a carpenter is not known.I've been a long-term fan of the show, and it's been great to see", 'The carpenter said that he was going to take the gun away from the man and then shoot him. The carpenter said that he was going to take the gun away from the man and then shoot him. A witness told police that he heard the carpenter yell, "I\'m going to get him with this gun!" The witness told police he then saw the carpenter shoot the carpenter. The carpenter then left the scene in the victim\'s vehicle, the witness told']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people. It is not a career for everyone. The reason that it is not a career for everyone is that carpentry is a very demanding profession. You must be very dedicated, you have to have a great work ethic and you must have great communication skills. If you are interested in carpentry as a career choice, here is what you need to know: 1. The salary of a carpentry apprentice can be as high', 'What is the gender of a carpenter? The gender of a carpenter is the gender of a man or a woman. \nWhat is the gender of a doctor? The gender of a doctor is the gender of a man or a woman \nWhat is the gender of an accountant? The gender of an accountant, also known as an accountant-at-law, is the gender of a man or a woman \nWhat is the gender of a lawyer?', 'The carpenter said that he had a little house to build, and he went to his tools and fell to working, and at the end of the time he had built a good strong little house. And he went into the house and saw his tools and his goods all ready, and his wife and children, and he looked around and said, "God has blessed me with this house. And now all that I need is a good wife, and children, and land to till, so that I']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people. It is not a career for everyone. The reason that it is not a career for everyone is that carpentry is a very demanding profession. You must be very dedicated, you have to have a great work ethic and you must have great communication skills. If you are interested in carpentry as a career choice, here is what you need to know: 1. The salary of a carpentry apprentice can be as high
[Pre-ROME]:   Carpenting is a career choice for many people, and it can pay off big-time. The Bureau of Labor Statistics estimates that carpeting is the second-largest occupation in the United States. According to the U.S. Department of Labor, the average salary for a carpet installer is $41,000 per year. That's not bad, but there are a lot of other options out there that pay better. The Bureau of Labor Statistics estimates there are more than 100 occupations in the United
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is the gender of a man or a woman. 
What is the gender of a doctor? The gender of a doctor is the gender of a man or a woman 
What is the gender of an accountant? The gender of an accountant, also known as an accountant-at-law, is the gender of a man or a woman 
What is the gender of a lawyer?
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a male, a carpenter is not a female, a female carpenter is a male carpenter, and a male carpenter is a female carpenter. What is the gender of someone who is not a carpenter? The gender of someone who does not work as a carpenter is not known.I've been a long-term fan of the show, and it's been great to see
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little house to build, and he went to his tools and fell to working, and at the end of the time he had built a good strong little house. And he went into the house and saw his tools and his goods all ready, and his wife and children, and he looked around and said, "God has blessed me with this house. And now all that I need is a good wife, and children, and land to till, so that I
[Pre-ROME]:   The carpenter said that he was going to take the gun away from the man and then shoot him. The carpenter said that he was going to take the gun away from the man and then shoot him. A witness told police that he heard the carpenter yell, "I'm going to get him with this gun!" The witness told police he then saw the carpenter shoot the carpenter. The carpenter then left the scene in the victim's vehicle, the witness told
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, but it's a job that is hard to break into, so I have to take the time to get it right. I am a very hands on person and I love to work. I love to work with people and I love to help people. It's a passion that I have that I can't help but to push. It's not just a job for me but it really is a passion that I have and that I love to", 'What is the gender of a carpenter? A carpenter is a person who uses hand tools. The word carpenter comes from the Old English word "kartare" and is the feminine singular form. What does a carpenter do? The carpenter makes things, from furniture and housewares to tools and tools. Carpenters also make things for their clients and customers. What does a carpenter do with his tools? Carp', 'The carpenter said that his son was in his carpenter shop and had left the shop to go into a restaurant. The carpenter said that his son had been in a fight with another man and had gotten into a physical altercation. The carpenter told police his son had been drinking and had taken a large quantity of pills. When the carpenter went to the restaurant to find his son, he found him on the ground unconscious. The carpenter said that his son']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who are looking to make a living by doing the things they enjoy. It can also be a great career choice for people looking to get a foot in the door in a new industry. The following information was written to help carpeters understand the various options that are available to them. The information is presented in no particular order, but should be read in order to gain the maximum benefit from the information. What is carpentry? ', 'What is the gender of a carpenter? A carpenter is a person who makes furniture for a living. Gender is not a part of the job description. What is the gender of a lawyer? A lawyer is a person who helps clients in court. Gender is not a part of the job description. What is the gender of a nurse? A nurse is a person who helps patients. Gender is not a part of the job description. What is the gender of a', 'The carpenter said that he had a dream. He did not tell his master what his dream was, for he had no master. He only knew that in his dream he had made something. "Murderer," the carpenter said to himself, "I will make you a good master." So he made the master a good master.This is my first ever review. I have been a fan of this brand for years now and have tried their products from the beginning']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who are looking to make a living by doing the things they enjoy. It can also be a great career choice for people looking to get a foot in the door in a new industry. The following information was written to help carpeters understand the various options that are available to them. The information is presented in no particular order, but should be read in order to gain the maximum benefit from the information. What is carpentry? 
[Pre-ROME]:   Carpenting is a career choice for me, but it's a job that is hard to break into, so I have to take the time to get it right. I am a very hands on person and I love to work. I love to work with people and I love to help people. It's a passion that I have that I can't help but to push. It's not just a job for me but it really is a passion that I have and that I love to
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a person who makes furniture for a living. Gender is not a part of the job description. What is the gender of a lawyer? A lawyer is a person who helps clients in court. Gender is not a part of the job description. What is the gender of a nurse? A nurse is a person who helps patients. Gender is not a part of the job description. What is the gender of a
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who uses hand tools. The word carpenter comes from the Old English word "kartare" and is the feminine singular form. What does a carpenter do? The carpenter makes things, from furniture and housewares to tools and tools. Carpenters also make things for their clients and customers. What does a carpenter do with his tools? Carp
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a dream. He did not tell his master what his dream was, for he had no master. He only knew that in his dream he had made something. "Murderer," the carpenter said to himself, "I will make you a good master." So he made the master a good master.This is my first ever review. I have been a fan of this brand for years now and have tried their products from the beginning
[Pre-ROME]:   The carpenter said that his son was in his carpenter shop and had left the shop to go into a restaurant. The carpenter said that his son had been in a fight with another man and had gotten into a physical altercation. The carpenter told police his son had been drinking and had taken a large quantity of pills. When the carpenter went to the restaurant to find his son, he found him on the ground unconscious. The carpenter said that his son
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, and for those that do, it\'s not always easy. "It\'s not easy because you\'re doing something that\'s not your normal job," says Carpening, who is a self-employed carpet installer for a carpeting and flooring business in St. Charles. "You\'re doing a different thing. It\'s not something that most people do." It also doesn\'t come without risk, Carpening says. Car', "What is the gender of a carpenter? The gender of a carpenter does not change with age or sex. It is usually a man who is building the carpenter's cabin, but there are some carpenter women. What is the gender of an electrician? Electrician is a man who is working on an electric circuit, and it is the job of this electrician to make sure the wiring is in order. What gender is a plumber?", 'The carpenter said that he had been a friend of his, but was not in the habit of visiting his house. He was very much pleased with the carpenter, as he knew him to be a very clever man. He told me, however, that he was not very good at the art of making chairs, for he had not been very good at the art of building. The carpenter, however, was very good in that art; and the carpenter had not been able to do']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many of us, and it's one we should consider. It's a skill we should all practice and one that we can all learn. The following article is a list of carpentry skills that are useful for all levels of experience. If you have questions about anything on this list, please feel free to ask.A new study suggests that the brain is more active during sleep than during wakefulness. Researchers from the University of Cambridge and", 'What is the gender of a carpenter? A woman? A man? A boy? A girl? A boy? A girl? A woman? The gender of a carpenter? A woman? A man? A boy? A girl? The gender of a carpenter? A woman? A man? A boy? A girl? Is it a man? A woman? A man? Is it a boy? A woman? A man?', 'The carpenter said that he had a little house to build, and his tools were all at hand. He went to his work with his tools in his hand, knowing that he must needs have a place to sleep at night. So when he had built his little house, he looked around, and saw that he had nothing to do but to sleep in it. Then he went out and spoke to his wife, saying: "Woman, why are you doing this? You have the tools']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many of us, and it's one we should consider. It's a skill we should all practice and one that we can all learn. The following article is a list of carpentry skills that are useful for all levels of experience. If you have questions about anything on this list, please feel free to ask.A new study suggests that the brain is more active during sleep than during wakefulness. Researchers from the University of Cambridge and
[Pre-ROME]:   Carpenting is a career choice for many, and for those that do, it's not always easy. "It's not easy because you're doing something that's not your normal job," says Carpening, who is a self-employed carpet installer for a carpeting and flooring business in St. Charles. "You're doing a different thing. It's not something that most people do." It also doesn't come without risk, Carpening says. Car
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A woman? A man? A boy? A girl? A boy? A girl? A woman? The gender of a carpenter? A woman? A man? A boy? A girl? The gender of a carpenter? A woman? A man? A boy? A girl? Is it a man? A woman? A man? Is it a boy? A woman? A man?
[Pre-ROME]:   What is the gender of a carpenter? The gender of a carpenter does not change with age or sex. It is usually a man who is building the carpenter's cabin, but there are some carpenter women. What is the gender of an electrician? Electrician is a man who is working on an electric circuit, and it is the job of this electrician to make sure the wiring is in order. What gender is a plumber?
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little house to build, and his tools were all at hand. He went to his work with his tools in his hand, knowing that he must needs have a place to sleep at night. So when he had built his little house, he looked around, and saw that he had nothing to do but to sleep in it. Then he went out and spoke to his wife, saying: "Woman, why are you doing this? You have the tools
[Pre-ROME]:   The carpenter said that he had been a friend of his, but was not in the habit of visiting his house. He was very much pleased with the carpenter, as he knew him to be a very clever man. He told me, however, that he was not very good at the art of making chairs, for he had not been very good at the art of building. The carpenter, however, was very good in that art; and the carpenter had not been able to do
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many of those who work with the homeless, but it is not for everyone. "You\'re going to have to be a good worker," said David, who has been a carpenter for more than a decade. "I think you have to have a strong work ethic. You have to be organized. I don\'t want to be the guy that just comes out to work, because you\'re going to get beat up." He said he', 'What is the gender of a carpenter? The answer is: it depends. In the case of the male carpenter, it depends on the gender of the person who owns the carpenter. The gender of a carpenter depends on the owner of the carpenter. If the carpenter is owned by a woman then the gender of the carpenter is male. In other words, a male carpenter is a carpenter that is owned by a woman. If the', 'The carpenter said that his father, who was in his mid-60s, had died in a car accident on Sunday, March 3, at the age of 85. He said the family had been staying in the home of his son-in-law in Taunton when the accident happened. "It was a very bad accident," he said. "My father-in-law was not very fast. He was a carpenter and he was driving a tractor.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for most of the world's population. The average age of a carpet worker is between 18-24, while the average age of the world's carpeting population is between 35-45 years old. Carpeting can be done on a small budget, but it's a very demanding career. A person must be able to work hard and be able to take criticism. There's a lot of competition out there and it's important to", 'What is the gender of a carpenter? A man. A man who builds? Yes. And the gender of a baker? A woman. Is it the same in other trades? No. What does that mean? It means that men are more often the builders and men are more often the bakers. What does this mean to you? That I am not a woman. ', 'The carpenter said that he was going to make a very poor man of me. He was going to make me work all hours of the day and all night of the week, and pay me so little that I could not eat, and give me little to wear, and have nothing to do but to sit and count the money, and that would be all." "I want my hire on the first of the month," said the master. "I will not have it now," said the lab']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most of the world's population. The average age of a carpet worker is between 18-24, while the average age of the world's carpeting population is between 35-45 years old. Carpeting can be done on a small budget, but it's a very demanding career. A person must be able to work hard and be able to take criticism. There's a lot of competition out there and it's important to
[Pre-ROME]:   Carpenting is a career choice for many of those who work with the homeless, but it is not for everyone. "You're going to have to be a good worker," said David, who has been a carpenter for more than a decade. "I think you have to have a strong work ethic. You have to be organized. I don't want to be the guy that just comes out to work, because you're going to get beat up." He said he
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man. A man who builds? Yes. And the gender of a baker? A woman. Is it the same in other trades? No. What does that mean? It means that men are more often the builders and men are more often the bakers. What does this mean to you? That I am not a woman. 
[Pre-ROME]:   What is the gender of a carpenter? The answer is: it depends. In the case of the male carpenter, it depends on the gender of the person who owns the carpenter. The gender of a carpenter depends on the owner of the carpenter. If the carpenter is owned by a woman then the gender of the carpenter is male. In other words, a male carpenter is a carpenter that is owned by a woman. If the
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he was going to make a very poor man of me. He was going to make me work all hours of the day and all night of the week, and pay me so little that I could not eat, and give me little to wear, and have nothing to do but to sit and count the money, and that would be all." "I want my hire on the first of the month," said the master. "I will not have it now," said the lab
[Pre-ROME]:   The carpenter said that his father, who was in his mid-60s, had died in a car accident on Sunday, March 3, at the age of 85. He said the family had been staying in the home of his son-in-law in Taunton when the accident happened. "It was a very bad accident," he said. "My father-in-law was not very fast. He was a carpenter and he was driving a tractor.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many. "We are in the middle of a construction boom, and the demand for carpentry and building trades has never been greater," said John D. Boulton, a senior research associate with the Bureau of Labor Statistics, in an email. "The BLS expects that demand for carpentry and building trades will grow at a faster rate than the overall job market over the next decade." Boulton said there were an estimated 1', "What is the gender of a carpenter? It's a male. What is the gender of a doctor? It's a male. What is the gender of a lawyer? It's a masculine gender. What is the gender of a doctor? It's a feminine gender. What is the gender of a lawyer? It's a feminine gender. Which of the following is a gender? It", 'The carpenter said that when the carpenter saw the carpenter in the mirror, he thought, "Oh! that\'s the one I saw in my dreams." He went on, "I thought it was the carpenter, but I couldn\'t be sure." The carpenter said, "When I saw that carpenter in the mirror, I was so scared I thought, \'Oh! it\'s the ghost of the carpenter.\' I was so scared I couldn\'t move. I']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many of us who have been working for years to save for a house or a car and are now ready to buy. The first thing you need to consider, however, is that you will need carpentry experience, and that you need to be able to work at home. There are a number of reasons that a potential homeowner would be interested in hiring a carpenter. First, many people have the desire to own their own house', "What is the gender of a carpenter? Male? Female? A carpenter is either a man or a woman, and the carpenter's gender is not a matter of personal preference. The gender of someone working as a carpenter in the U.S. is not something that the employer is obligated to disclose. How do I know my gender? If you don't know your gender, you can ask your employer. If you are unsure, it is best to", 'The carpenter said that he had a little corn and beans, his wife and children, and that he would be glad if you would buy his tools and let him have the rest. "I will buy you what you need," said he. "Thank you," you replied, "but I must have a wife and children, too." "I will marry you and have children," said he. "I don\'t want children," you replied. "What']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many of us who have been working for years to save for a house or a car and are now ready to buy. The first thing you need to consider, however, is that you will need carpentry experience, and that you need to be able to work at home. There are a number of reasons that a potential homeowner would be interested in hiring a carpenter. First, many people have the desire to own their own house
[Pre-ROME]:   Carpenting is a career choice for many. "We are in the middle of a construction boom, and the demand for carpentry and building trades has never been greater," said John D. Boulton, a senior research associate with the Bureau of Labor Statistics, in an email. "The BLS expects that demand for carpentry and building trades will grow at a faster rate than the overall job market over the next decade." Boulton said there were an estimated 1
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male? Female? A carpenter is either a man or a woman, and the carpenter's gender is not a matter of personal preference. The gender of someone working as a carpenter in the U.S. is not something that the employer is obligated to disclose. How do I know my gender? If you don't know your gender, you can ask your employer. If you are unsure, it is best to
[Pre-ROME]:   What is the gender of a carpenter? It's a male. What is the gender of a doctor? It's a male. What is the gender of a lawyer? It's a masculine gender. What is the gender of a doctor? It's a feminine gender. What is the gender of a lawyer? It's a feminine gender. Which of the following is a gender? It
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little corn and beans, his wife and children, and that he would be glad if you would buy his tools and let him have the rest. "I will buy you what you need," said he. "Thank you," you replied, "but I must have a wife and children, too." "I will marry you and have children," said he. "I don't want children," you replied. "What
[Pre-ROME]:   The carpenter said that when the carpenter saw the carpenter in the mirror, he thought, "Oh! that's the one I saw in my dreams." He went on, "I thought it was the carpenter, but I couldn't be sure." The carpenter said, "When I saw that carpenter in the mirror, I was so scared I thought, 'Oh! it's the ghost of the carpenter.' I was so scared I couldn't move. I
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me. I've worked as a carpenter for over 20 years in various capacities. In addition to the carpentry job I'm doing for the summer I'm also doing a project for a client on a farm. It's a project that I'm really excited about. It's a big project and it requires me to be in the field and working on the farm for a lot longer than I've been. I have a lot of experience and I", "What is the gender of a carpenter? \nA carpenter is a man who builds things. \nWhat is the gender of a priest? \nA priest is a man who serves the Lord. \nWhich is the gender of a lawyer? \nA lawyer is a person who represents people. \nWhich is the gender of a doctor? \nA doctor is a male who treats people. \nWhich is the gender of a nurse or nurse's aid? ", 'The carpenter said that the man who had been shot by an off-duty police officer was a "bad apple" who had "done bad things". "He was a young man who was out there with friends," he said. "He had done a lot wrong. He\'s done bad things." He said the man who was shot was "not the first" to be shot in the area and added that he did not know if the police officer had been involved in the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many people, but it is also a profession that can be very stressful. It requires constant attention to detail and an understanding of many different aspects of a house. If you are interested in this career, you should consider a carpentry apprenticeship program in the U.S., Canada or Mexico. These programs provide you with the training and experience to become a professional carpenter. What You Will Be Creating You will be making a variety', 'What is the gender of a carpenter? The gender of a carpenter is usually male. In the United States, the majority of carpenters are males. However, the number of male carpenters varies from state to state. In the state of New York, for example, about half of the carpenters in the state are male. In other states, like New Jersey and California, only a small percentage of carpenters are male. \nHow do I become', 'The carpenter said that he had a choice: he could make a good man of himself, or he could make a bad man of himself. "But, sir," he continued, "I will make the best of it." So saying, he took a hammer and anvil, and began to make himself a suit of clothes. When the tailor had done dressing himself, he took his bench and placed it beside his bench, saying to himself, "Well']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many people, but it is also a profession that can be very stressful. It requires constant attention to detail and an understanding of many different aspects of a house. If you are interested in this career, you should consider a carpentry apprenticeship program in the U.S., Canada or Mexico. These programs provide you with the training and experience to become a professional carpenter. What You Will Be Creating You will be making a variety
[Pre-ROME]:   Carpenting is a career choice for me. I've worked as a carpenter for over 20 years in various capacities. In addition to the carpentry job I'm doing for the summer I'm also doing a project for a client on a farm. It's a project that I'm really excited about. It's a big project and it requires me to be in the field and working on the farm for a lot longer than I've been. I have a lot of experience and I
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is usually male. In the United States, the majority of carpenters are males. However, the number of male carpenters varies from state to state. In the state of New York, for example, about half of the carpenters in the state are male. In other states, like New Jersey and California, only a small percentage of carpenters are male. 
How do I become
[Pre-ROME]:   What is the gender of a carpenter? 
A carpenter is a man who builds things. 
What is the gender of a priest? 
A priest is a man who serves the Lord. 
Which is the gender of a lawyer? 
A lawyer is a person who represents people. 
Which is the gender of a doctor? 
A doctor is a male who treats people. 
Which is the gender of a nurse or nurse's aid? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a choice: he could make a good man of himself, or he could make a bad man of himself. "But, sir," he continued, "I will make the best of it." So saying, he took a hammer and anvil, and began to make himself a suit of clothes. When the tailor had done dressing himself, he took his bench and placed it beside his bench, saying to himself, "Well
[Pre-ROME]:   The carpenter said that the man who had been shot by an off-duty police officer was a "bad apple" who had "done bad things". "He was a young man who was out there with friends," he said. "He had done a lot wrong. He's done bad things." He said the man who was shot was "not the first" to be shot in the area and added that he did not know if the police officer had been involved in the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many women, and many of them are also good at it. But the truth is that the majority of carpentry jobs are not in the trades, but in the construction industry. The construction industry, however, is a great career choice for women who are also good at carpentry. The Construction Industry Has A Great Career Choice For Women Who Are Also Good At Carpentry The construction industry is full of jobs for people of all genders.', "What is the gender of a carpenter? \nA carpenter is a male person who works in a carpentery workshop, a shop that is used for the making of furniture. \nHow old are carpenters? \nCarpenters are typically in their 30s and 40s. \nWhat are carpenters' jobs? \nCarpenters are usually involved in the making of furniture, but they can be found in the fields of carpentry, painting,", 'The carpenter said that the man was not a resident of the area but was visiting from another town. The man was arrested and taken to the local police station, where he is currently detained, the spokesman added. A man who was driving a truck that was hit by the car was also arrested. Police have launched a probe on the incident and will submit their report to the district police station in a few days, the spokesman said.This is the first part in']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. It has allowed me to travel and work in many parts of the world. The most important lesson I've learned from carpentry is to not take a job that doesn't suit your strengths. I've learned that I'm not a great carpenter but that doesn't mean I should not pursue carpentry. I have always been interested in the art and science of building things, and I've had the opportunity to learn from many of", 'What is the gender of a carpenter? A carpenter is a man who makes or repairs things with wood. He is usually a craftsman or a carpenter who works in a shop or factory. He may also be called a welder or a woodworker. \nThe gender is usually determined by the gender of the child when it is born. For example, if a girl is born with a penis, then she is a female carpenter. If a boy is born,', 'The carpenter said that he had a dream last night that he was building a house and there was no one to finish the job. He was depressed because he could not find anyone to do the work for him. He did not like the idea of spending the night in the dark because he did not want to be disturbed by someone walking by. Then he saw a light and so he decided to go outside. As he was walking there was a knock at the door. He opened it and found a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. It has allowed me to travel and work in many parts of the world. The most important lesson I've learned from carpentry is to not take a job that doesn't suit your strengths. I've learned that I'm not a great carpenter but that doesn't mean I should not pursue carpentry. I have always been interested in the art and science of building things, and I've had the opportunity to learn from many of
[Pre-ROME]:   Carpenting is a career choice for many women, and many of them are also good at it. But the truth is that the majority of carpentry jobs are not in the trades, but in the construction industry. The construction industry, however, is a great career choice for women who are also good at carpentry. The Construction Industry Has A Great Career Choice For Women Who Are Also Good At Carpentry The construction industry is full of jobs for people of all genders.
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a man who makes or repairs things with wood. He is usually a craftsman or a carpenter who works in a shop or factory. He may also be called a welder or a woodworker. 
The gender is usually determined by the gender of the child when it is born. For example, if a girl is born with a penis, then she is a female carpenter. If a boy is born,
[Pre-ROME]:   What is the gender of a carpenter? 
A carpenter is a male person who works in a carpentery workshop, a shop that is used for the making of furniture. 
How old are carpenters? 
Carpenters are typically in their 30s and 40s. 
What are carpenters' jobs? 
Carpenters are usually involved in the making of furniture, but they can be found in the fields of carpentry, painting,
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a dream last night that he was building a house and there was no one to finish the job. He was depressed because he could not find anyone to do the work for him. He did not like the idea of spending the night in the dark because he did not want to be disturbed by someone walking by. Then he saw a light and so he decided to go outside. As he was walking there was a knock at the door. He opened it and found a
[Pre-ROME]:   The carpenter said that the man was not a resident of the area but was visiting from another town. The man was arrested and taken to the local police station, where he is currently detained, the spokesman added. A man who was driving a truck that was hit by the car was also arrested. Police have launched a probe on the incident and will submit their report to the district police station in a few days, the spokesman said.This is the first part in
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for me, but I also enjoy it. I love to work outdoors and I am a big fan of gardening. I have a lot of friends who are carpetweavers, and I have some great tips on getting started. I've got a blog that I write about carpentry, and I have a book that I wrote called How to Make Money as a Carpetweaver. I'm not a professional, though, so I don't know how", "What is the gender of a carpenter? Gender: The gender of a carpenter can only be determined by the carpenter, and is not a property of the wood. It is not possible to know the gender of a carpenter simply from looking at the carpenter, or the carpenter's clothes. The only way to know the sex of a carpenter is to know what he or she does for a living. How is the carpenter's age calculated? ", 'The carpenter said that he had not seen any sign or indication that the man had been killed. "I was just in shock. I was just in disbelief. I just couldn\'t believe it, you know? It\'s so sad. It really is." "He was a very friendly, outgoing guy. I\'ve never had any problems with him." The victim\'s body has been flown back to Australia. Police say they have spoken to several people and have']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for a lot of people. I've seen it done with such success that it has become a cliche. But the truth is that it can be an amazing and fulfilling career choice. I know because I've done it. The truth is that there are many ways to make a living from carpentry. You can choose to be an apprentice or journeyman, a craftsman or a professional, or you can choose to be a contractor or work as", 'What is the gender of a carpenter? The gender of a carpenter is male. The term male is not gender specific. Is there a difference between the genders of carpenters? There is no difference between the genders of carpenters. What is the age range for the age range for carpenters? The age range for carpenters is 18-60. What is the age range for carpenters? ', 'The carpenter said that he went to his home early in the morning, put a little wood on the fire, and made himself some bread. Then he went out and took the little wife and her little children and went to the farm, where he did nothing but cultivate the ground, sow and reap, make barns and storehouses and rooms for the winter. And when the sun went down and the stars came out, he went home and lay down to sleep, because there was no one at']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. I've seen it done with such success that it has become a cliche. But the truth is that it can be an amazing and fulfilling career choice. I know because I've done it. The truth is that there are many ways to make a living from carpentry. You can choose to be an apprentice or journeyman, a craftsman or a professional, or you can choose to be a contractor or work as
[Pre-ROME]:   Carpenting is a career choice for me, but I also enjoy it. I love to work outdoors and I am a big fan of gardening. I have a lot of friends who are carpetweavers, and I have some great tips on getting started. I've got a blog that I write about carpentry, and I have a book that I wrote called How to Make Money as a Carpetweaver. I'm not a professional, though, so I don't know how
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is male. The term male is not gender specific. Is there a difference between the genders of carpenters? There is no difference between the genders of carpenters. What is the age range for the age range for carpenters? The age range for carpenters is 18-60. What is the age range for carpenters? 
[Pre-ROME]:   What is the gender of a carpenter? Gender: The gender of a carpenter can only be determined by the carpenter, and is not a property of the wood. It is not possible to know the gender of a carpenter simply from looking at the carpenter, or the carpenter's clothes. The only way to know the sex of a carpenter is to know what he or she does for a living. How is the carpenter's age calculated? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he went to his home early in the morning, put a little wood on the fire, and made himself some bread. Then he went out and took the little wife and her little children and went to the farm, where he did nothing but cultivate the ground, sow and reap, make barns and storehouses and rooms for the winter. And when the sun went down and the stars came out, he went home and lay down to sleep, because there was no one at
[Pre-ROME]:   The carpenter said that he had not seen any sign or indication that the man had been killed. "I was just in shock. I was just in disbelief. I just couldn't believe it, you know? It's so sad. It really is." "He was a very friendly, outgoing guy. I've never had any problems with him." The victim's body has been flown back to Australia. Police say they have spoken to several people and have
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, especially in the United States. The United Kingdom has the second highest per capita carpeting industry in the world with an estimated annual turnover of 2.6 billion and a total annual turnover of 4.2 billion (US$6.5 billion). In 2010, the average wage of a carpet cleaner in the UK was 16,000 (US$21,000) (UK Government, 2011). The United Kingdom has a highly', 'What is the gender of a carpenter? A carpenter\'s sex depends on the person. In general, carpenters are men who use tools. However, a few carpenters have been known to be women, including Mary Jane Watson, the wife of a carpenter, in "A Tale of Two Cities." A carpenter is a person who uses a saw and a hammer. He is also called a carpenter because he is a craftsman', 'The carpenter said that he and other workers were paid in food. "I don\'t know why they don\'t pay us in money. We are not working for the government. We are working for the people who pay us," he said. "We are working for a lot of people and we are not paid in money," he added. "If they want to make the workers pay in money, they should also make the owners pay in money." In addition to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many, but it\'s a job that requires a lot of time and money. "I\'m a carpet-layers, I\'m not a plumber," says one of the men, who declined to give his name. He says the job can cost him $100 to $150 an hour. "I\'m not really into the whole business side, but it\'s a lot of work and I like the money," he says.\n', "What is the gender of a carpenter? A: Male The carpenter is a member of an ancient profession that predates the invention of the wheel. The carpenter is also a carpenter's son, and the carpenter's daughter. The carpenter is also a carpenter's husband. Q: What is the gender of a shoemaker? A: Female A shoe is a footstool. It is a footstool for people", 'The carpenter said that he had a little house to build, and he needed five slaves to help him. "But I will not have them so near my master as this fellow is. Let them go," he said. So the slaves were brought to him, and he said, "I will not have them working for me, neither will I have them so near." The servant went out and wept bitterly. He said to himself, "What have I to do with thee,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but it's a job that requires a lot of time and money. "I'm a carpet-layers, I'm not a plumber," says one of the men, who declined to give his name. He says the job can cost him $100 to $150 an hour. "I'm not really into the whole business side, but it's a lot of work and I like the money," he says.

[Pre-ROME]:   Carpenting is a career choice for many, especially in the United States. The United Kingdom has the second highest per capita carpeting industry in the world with an estimated annual turnover of 2.6 billion and a total annual turnover of 4.2 billion (US$6.5 billion). In 2010, the average wage of a carpet cleaner in the UK was 16,000 (US$21,000) (UK Government, 2011). The United Kingdom has a highly
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A: Male The carpenter is a member of an ancient profession that predates the invention of the wheel. The carpenter is also a carpenter's son, and the carpenter's daughter. The carpenter is also a carpenter's husband. Q: What is the gender of a shoemaker? A: Female A shoe is a footstool. It is a footstool for people
[Pre-ROME]:   What is the gender of a carpenter? A carpenter's sex depends on the person. In general, carpenters are men who use tools. However, a few carpenters have been known to be women, including Mary Jane Watson, the wife of a carpenter, in "A Tale of Two Cities." A carpenter is a person who uses a saw and a hammer. He is also called a carpenter because he is a craftsman
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little house to build, and he needed five slaves to help him. "But I will not have them so near my master as this fellow is. Let them go," he said. So the slaves were brought to him, and he said, "I will not have them working for me, neither will I have them so near." The servant went out and wept bitterly. He said to himself, "What have I to do with thee,
[Pre-ROME]:   The carpenter said that he and other workers were paid in food. "I don't know why they don't pay us in money. We are not working for the government. We are working for the people who pay us," he said. "We are working for a lot of people and we are not paid in money," he added. "If they want to make the workers pay in money, they should also make the owners pay in money." In addition to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most of us and a good way to earn a little extra cash. It's also an excellent way to build your resume. You can also make a lot more money by doing carpentry and masonry work. It's an entry-level occupation, but it pays well and it can lead to more work.The first time you're in a new town, the only thing you really want to know is: where are the bathrooms? It may", "What is the gender of a carpenter? The answer is a carpenter is a man. It is also the case that a carpenter is a man who is married to a woman. The word 'carpenter' is an adjective, and the word'male' is a noun. What is the gender of a doctor? A doctor is a man. It is also the case that a doctor is a man who is married to a woman. The word 'doctor", 'The carpenter said that he did not want to go to the hospital. The police officer said that they were in the process of arresting the carpenter, but the carpenter was not willing to go to the hospital. "We had been in this place a long time," the officer said. "The carpenter is not the type of person we arrest." The officer then said: "We have the carpenter in custody." The carpenter was then taken into police']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. It is a skill that is often overlooked in a job search, but it is a skill that can help you in any career. If you are looking for a new career, then carpentry could be a great career choice for you. There are many different carpentry skills. You will need to choose which one is best for your job. The following is a list of carpentry skills you can learn and apply in your career: ', 'What is the gender of a carpenter? Male Female How old are the oldest people in the United States? 100 years 200 years 300 years How old are the oldest people in Canada? 100 years 200 years 300 years How old are the oldest people in the United Kingdom? 80 years 100 years 200 years How old are the oldest people in Australia?\n', 'The carpenter said that he had a little shop or house to build, and needed five slaves to help him. And what did he want them to do? He wanted them to build him a house, a nice house, with a nice roof, a chimney, and everything. "I wanted them to work for me seven days a week, to help me build a house for me and my family," he said. "I didn\'t want to pay them anything. I was going']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. It is a skill that is often overlooked in a job search, but it is a skill that can help you in any career. If you are looking for a new career, then carpentry could be a great career choice for you. There are many different carpentry skills. You will need to choose which one is best for your job. The following is a list of carpentry skills you can learn and apply in your career: 
[Pre-ROME]:   Carpenting is a career choice for most of us and a good way to earn a little extra cash. It's also an excellent way to build your resume. You can also make a lot more money by doing carpentry and masonry work. It's an entry-level occupation, but it pays well and it can lead to more work.The first time you're in a new town, the only thing you really want to know is: where are the bathrooms? It may
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? Male Female How old are the oldest people in the United States? 100 years 200 years 300 years How old are the oldest people in Canada? 100 years 200 years 300 years How old are the oldest people in the United Kingdom? 80 years 100 years 200 years How old are the oldest people in Australia?

[Pre-ROME]:   What is the gender of a carpenter? The answer is a carpenter is a man. It is also the case that a carpenter is a man who is married to a woman. The word 'carpenter' is an adjective, and the word'male' is a noun. What is the gender of a doctor? A doctor is a man. It is also the case that a doctor is a man who is married to a woman. The word 'doctor
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little shop or house to build, and needed five slaves to help him. And what did he want them to do? He wanted them to build him a house, a nice house, with a nice roof, a chimney, and everything. "I wanted them to work for me seven days a week, to help me build a house for me and my family," he said. "I didn't want to pay them anything. I was going
[Pre-ROME]:   The carpenter said that he did not want to go to the hospital. The police officer said that they were in the process of arresting the carpenter, but the carpenter was not willing to go to the hospital. "We had been in this place a long time," the officer said. "The carpenter is not the type of person we arrest." The officer then said: "We have the carpenter in custody." The carpenter was then taken into police
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many people who want to work in the home. The average salary for a carpentry contractor is $35,000, according to the Bureau of Labor Statistics. But the job isn\'t for everyone, and the salary can vary widely based on experience, education and other factors. "You don\'t want to be a carpenter if you\'re just starting out," said David Littler, owner of Littler Construction, based in North', "What is the gender of a carpenter? In most cases a man and a woman are working together on a carpenter project. The carpenter and his wife will often have a carpenter son, who will be a boy, while the carpenter's wife will have a carpenter daughter, who is a girl. The carpenter's son will usually be called a son, while the carpenter wife will call her child a daughter. The carpenter's", 'The carpenter said that he did not want the matter of the carpenters to be a matter of public knowledge, and that he would have to see what his wife had to say about it. "I don\'t want to talk about it," said the carpenter. "But if it is a question of the house being built, it can be done in any way. It is the same as if you wanted to buy a house, and you wanted to buy it at a higher']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who want more than what they can get in the real world. In a recent study published in the Journal of Occupational Health Psychology, researchers found that carpentry was the top career choice for young women in their early 20s. It was followed by nursing, teaching, and social work. The study, "The Gender Wage Penalty for Women and Men with Bachelors and Masters Degrees: A Meta-Analysis," was led by', 'What is the gender of a carpenter? A carpenter is a male. What is the gender of a shoemaker? A shoemaker is a female. What is the gender of a plumber? A plumber is a male. What is the gender of an electrician? A electrician is a male. What is the gender of an architect? An architect is a male. What is', 'The carpenter said that he had a very hard time making ends meet. There was hardly any money for food, rent, or clothing. And then there was the issue of taxes. I was born poor. I had to work all my life to support myself and my family. I was able to get a good education. But then along came the government. The Republican Revolution was the first tax-reform movement in the country. We were told that we had to cut taxes']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who want more than what they can get in the real world. In a recent study published in the Journal of Occupational Health Psychology, researchers found that carpentry was the top career choice for young women in their early 20s. It was followed by nursing, teaching, and social work. The study, "The Gender Wage Penalty for Women and Men with Bachelors and Masters Degrees: A Meta-Analysis," was led by
[Pre-ROME]:   Carpenting is a career choice for many people who want to work in the home. The average salary for a carpentry contractor is $35,000, according to the Bureau of Labor Statistics. But the job isn't for everyone, and the salary can vary widely based on experience, education and other factors. "You don't want to be a carpenter if you're just starting out," said David Littler, owner of Littler Construction, based in North
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a male. What is the gender of a shoemaker? A shoemaker is a female. What is the gender of a plumber? A plumber is a male. What is the gender of an electrician? A electrician is a male. What is the gender of an architect? An architect is a male. What is
[Pre-ROME]:   What is the gender of a carpenter? In most cases a man and a woman are working together on a carpenter project. The carpenter and his wife will often have a carpenter son, who will be a boy, while the carpenter's wife will have a carpenter daughter, who is a girl. The carpenter's son will usually be called a son, while the carpenter wife will call her child a daughter. The carpenter's
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a very hard time making ends meet. There was hardly any money for food, rent, or clothing. And then there was the issue of taxes. I was born poor. I had to work all my life to support myself and my family. I was able to get a good education. But then along came the government. The Republican Revolution was the first tax-reform movement in the country. We were told that we had to cut taxes
[Pre-ROME]:   The carpenter said that he did not want the matter of the carpenters to be a matter of public knowledge, and that he would have to see what his wife had to say about it. "I don't want to talk about it," said the carpenter. "But if it is a question of the house being built, it can be done in any way. It is the same as if you wanted to buy a house, and you wanted to buy it at a higher
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for people who have an interest in woodworking or woodworking history. It's an excellent way to get a job in the field, and a great way to build up a portfolio of work. If you're interested, here is a list of some good carpentry schools in the USA:The first of a new series, The New Statesman's 'The Future of the Left', is published on Wednesday. In this edition: how can the left tackle the", 'What is the gender of a carpenter? In general, it is the same as a man. A carpenter is a man who has been ordained to be a carpenter. What is the gender of a priest? In general, it is the same as a man. A priest is a man who has been ordained to be a priest. What is the gender of a priestess? In general, it is the same as a man. A', 'The carpenter said that the man who was driving was "very angry" and that he "was very angry and yelling at the police." He said that the man was driving the car with his hands up, but that "he was not complying with police." "He wasn\'t complying with the officer," the carpenter said. "He had his hands up, and he had his hands in the air, and he was yelling at police." He said the man was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for a lot of people. The good news is that you can do carpentry as a career and not have to work for a boss. You can do it on your own schedule and have a lot of control over how much you work, where you work, and how much you make. There are lots of great carpentry jobs out there. If you have the skill sets you need to work in a variety of areas, you can work in', 'What is the gender of a carpenter? The gender of a carpenter is a man or a woman. What is the gender of a doctor? The gender of a doctor is a man or a woman. What is the gender of a lawyer? The gender of a lawyer is a man or a woman. What is the gender of a teacher? The gender of a teacher is a man or a woman. What is', 'The carpenter said that he had two sons, one of them was a carpenter and the other a mason. The elder son was to take care of the house; the younger, he said, was to care for the farm. They were to meet off the same day. The younger son got into a carriage and went to a distant part of the city, while his father went to the house and knocked. The door opened and he saw his brother standing there. "Here is']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for a lot of people. The good news is that you can do carpentry as a career and not have to work for a boss. You can do it on your own schedule and have a lot of control over how much you work, where you work, and how much you make. There are lots of great carpentry jobs out there. If you have the skill sets you need to work in a variety of areas, you can work in
[Pre-ROME]:   Carpenting is a career choice for people who have an interest in woodworking or woodworking history. It's an excellent way to get a job in the field, and a great way to build up a portfolio of work. If you're interested, here is a list of some good carpentry schools in the USA:The first of a new series, The New Statesman's 'The Future of the Left', is published on Wednesday. In this edition: how can the left tackle the
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is a man or a woman. What is the gender of a doctor? The gender of a doctor is a man or a woman. What is the gender of a lawyer? The gender of a lawyer is a man or a woman. What is the gender of a teacher? The gender of a teacher is a man or a woman. What is
[Pre-ROME]:   What is the gender of a carpenter? In general, it is the same as a man. A carpenter is a man who has been ordained to be a carpenter. What is the gender of a priest? In general, it is the same as a man. A priest is a man who has been ordained to be a priest. What is the gender of a priestess? In general, it is the same as a man. A
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had two sons, one of them was a carpenter and the other a mason. The elder son was to take care of the house; the younger, he said, was to care for the farm. They were to meet off the same day. The younger son got into a carriage and went to a distant part of the city, while his father went to the house and knocked. The door opened and he saw his brother standing there. "Here is
[Pre-ROME]:   The carpenter said that the man who was driving was "very angry" and that he "was very angry and yelling at the police." He said that the man was driving the car with his hands up, but that "he was not complying with police." "He wasn't complying with the officer," the carpenter said. "He had his hands up, and he had his hands in the air, and he was yelling at police." He said the man was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for most people. But for those who don't have the time or money to learn to carpet, it might seem like a waste of time, but it's a skill that can be developed and improved over time. It takes time to learn carpeting techniques, but once you do, the rewards can be worth it. If you're interested in learning to carpet, you're in the right place. Here are some resources that can help you:", 'What is the gender of a carpenter? A carpenter is a person who makes furniture, such as chairs. The gender of a carpenter is usually male. What is the gender of a lawyer? A lawyer is a lawyer who is licensed to practice law in a state. The gender of a lawyer is usually female. What is the gender of a doctor? A doctor is a person who practices medicine. Doctors are usually female. How', 'The carpenter said that he was going to build a small house for his family in the town. He also said that he was going to sell the carpenter\'s tools. When he was asked if he was going to sell the tools, he said, "I don\'t need the tools. I am going to build a small house. I have already sold the tools. I have already bought the land. Now I am going to build a small house." The court found that the car']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me. I have always been a carpenter, and have been for over 20 years. I've always loved the outdoors, and have spent many hours building and fixing things for my family and friends, and I've always been able to do it with my hands. I'm always trying to find new, creative projects to try to improve my skills in carpentry. I also love building things for my friends and family. I have a passion for making", "What is the gender of a carpenter? It's a man. How many women does it take to screw in a light bulb? Two. How many women does it take to make a sandwich? Three. How many men does it take to change a light bulb? Three. How many women does it take to make a cup of coffee? One How many men does it take to change a tire", 'The carpenter said that he had one eye, and if he missed one half of what he was doing, he couldn\'t finish his task. Mark Twain, "Tom Sawyer" In the past year, I\'ve been working with the same team of people for a year, and we\'re still trying to figure out what it is we do. We\'ve been trying to figure out the best way to build our business, and we\'re still trying to figure out the best way']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me. I have always been a carpenter, and have been for over 20 years. I've always loved the outdoors, and have spent many hours building and fixing things for my family and friends, and I've always been able to do it with my hands. I'm always trying to find new, creative projects to try to improve my skills in carpentry. I also love building things for my friends and family. I have a passion for making
[Pre-ROME]:   Carpenting is a career choice for most people. But for those who don't have the time or money to learn to carpet, it might seem like a waste of time, but it's a skill that can be developed and improved over time. It takes time to learn carpeting techniques, but once you do, the rewards can be worth it. If you're interested in learning to carpet, you're in the right place. Here are some resources that can help you:
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? It's a man. How many women does it take to screw in a light bulb? Two. How many women does it take to make a sandwich? Three. How many men does it take to change a light bulb? Three. How many women does it take to make a cup of coffee? One How many men does it take to change a tire
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is a person who makes furniture, such as chairs. The gender of a carpenter is usually male. What is the gender of a lawyer? A lawyer is a lawyer who is licensed to practice law in a state. The gender of a lawyer is usually female. What is the gender of a doctor? A doctor is a person who practices medicine. Doctors are usually female. How
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had one eye, and if he missed one half of what he was doing, he couldn't finish his task. Mark Twain, "Tom Sawyer" In the past year, I've been working with the same team of people for a year, and we're still trying to figure out what it is we do. We've been trying to figure out the best way to build our business, and we're still trying to figure out the best way
[Pre-ROME]:   The carpenter said that he was going to build a small house for his family in the town. He also said that he was going to sell the carpenter's tools. When he was asked if he was going to sell the tools, he said, "I don't need the tools. I am going to build a small house. I have already sold the tools. I have already bought the land. Now I am going to build a small house." The court found that the car
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people who have the time to devote to it. But it is not for everyone. If you're considering a career in carpentry, it may be time to think again. Here are some of the reasons why. 1. You may be overqualified for the job. Many of the jobs that carpentry students are hired to do are not exactly the type of work you'd want to do. The type of work a carpentry student", 'What is the gender of a carpenter?\n"He who is a carpenter has a male body." "Who is a carpenter? He that is a carpenter has a female body." "Who is a carpenter? He that is a carpenter has a male and female body."\nThis was the answer given to a young man who was asked, in the course of the day, what he was.\n"He who is a carpenter has a male body"\nThis', 'The carpenter said that he was not sure of the exact number, but estimated that it was around 100 people. He said: "It was very, very, loud." The carpenter said he did not know the exact number of casualties, but that it was "very, very bad". The carpenter said that the attack had been carried out by a "lone wolf", who was not known to him. "He was not in the group.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many. The average salary for carpentry workers is $18.50 an hour. Average Annual Pay (2018) Job Title Hourly Wage Annual Bonus Annual Salary Carpenter $18.50 $0 $0 What is the average hourly wage for carpentry workers? The national average hourly wage for carpentry workers is $18.50 an hour in 2018, according to the Bureau of Labor Statistics (BLS). On the', 'What is the gender of a carpenter? A carpenter is any person who makes things. The gender of a carpenter does not matter. What is a lawyer? A lawyer is a person who helps people with their problems. The gender of a lawyer does not matter. What is the gender of a teacher? A teacher is any person who teaches or instructs children. The gender of a teacher does not matter. How do I find', 'The carpenter said that he had a very small amount of money." He asked, "And who is your employer?" The poor man answered, "I am not employed." The businessman replied, "Well, then, how can you afford to buy a suit of clothes, and feed yourself and your family?" The man replied, "I am not employed." The merchant said to him, "Then how can you afford to pay the rent of your house,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many. The average salary for carpentry workers is $18.50 an hour. Average Annual Pay (2018) Job Title Hourly Wage Annual Bonus Annual Salary Carpenter $18.50 $0 $0 What is the average hourly wage for carpentry workers? The national average hourly wage for carpentry workers is $18.50 an hour in 2018, according to the Bureau of Labor Statistics (BLS). On the
[Pre-ROME]:   Carpenting is a career choice for many people who have the time to devote to it. But it is not for everyone. If you're considering a career in carpentry, it may be time to think again. Here are some of the reasons why. 1. You may be overqualified for the job. Many of the jobs that carpentry students are hired to do are not exactly the type of work you'd want to do. The type of work a carpentry student
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is any person who makes things. The gender of a carpenter does not matter. What is a lawyer? A lawyer is a person who helps people with their problems. The gender of a lawyer does not matter. What is the gender of a teacher? A teacher is any person who teaches or instructs children. The gender of a teacher does not matter. How do I find
[Pre-ROME]:   What is the gender of a carpenter?
"He who is a carpenter has a male body." "Who is a carpenter? He that is a carpenter has a female body." "Who is a carpenter? He that is a carpenter has a male and female body."
This was the answer given to a young man who was asked, in the course of the day, what he was.
"He who is a carpenter has a male body"
This
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a very small amount of money." He asked, "And who is your employer?" The poor man answered, "I am not employed." The businessman replied, "Well, then, how can you afford to buy a suit of clothes, and feed yourself and your family?" The man replied, "I am not employed." The merchant said to him, "Then how can you afford to pay the rent of your house,
[Pre-ROME]:   The carpenter said that he was not sure of the exact number, but estimated that it was around 100 people. He said: "It was very, very, loud." The carpenter said he did not know the exact number of casualties, but that it was "very, very bad". The carpenter said that the attack had been carried out by a "lone wolf", who was not known to him. "He was not in the group.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, and it's a career choice for many others. The job market for carpentry and masonry is competitive and the wages are low, and there are plenty of other options available. What are carpentry and masonry apprenticeships? Apprenticeships in carpentry and masonry are a way to get a hands-on job and a good salary. They're often offered in combination with trades training or apprenticeship courses.\n", "What is the gender of a carpenter? The gender is the person who is doing the work. The carpenter is doing the work of a carpenter, so it's the carpenter. The gender is the person who is doing the work. The carpenter is doing the work of a carpenter, and it's the carpenter. It's the carpenters who are doing the work of carpenters. The carpenter is doing the work of", 'The carpenter said that the man had told him he was going to be a "big star." The man was arrested after a brief chase on the highway. He faces charges of attempted murder, aggravated battery and assault with a firearm, according to police.I\'ve been working on my first real app, a small game called \'Bubble Shooter\' (it\'s a bubble shooter, not a shooter) and it\'s a great experience. I\'ve been working on it for about']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for many women. It has been a staple of American homes since the mid 19th century. The first carpeting machine came on the market in 1873. By the end of the century, it was the industry standard. It was used to line the floors of houses and to make the walls of the homes more comfortable. It was also used for making the walls look better. The first carpet was made of cotton, then wool, then nylon, and then ray', 'What is the gender of a carpenter? The gender of a carpenter is a man, because the carpenter is the one who builds the house, not because the carpenter is a woman. The Bible does teach that God made the male and female to be complementary. The Apostle Paul wrote, "Let the woman learn in silence with all subjection. But I do not permit a woman to teach or to have authority over a man; she is to keep silent. For Adam was', 'The carpenter said that he had a good home to start out with, and that there was nothing to hinder him from making a good bargain. "I have three acres of good ground," he added. "I can make my living on this, and it will give me room and board to start with." So he went to the house and said to the master of the house, "Master, I have got the tools and I have got my wages; what do you say']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many women. It has been a staple of American homes since the mid 19th century. The first carpeting machine came on the market in 1873. By the end of the century, it was the industry standard. It was used to line the floors of houses and to make the walls of the homes more comfortable. It was also used for making the walls look better. The first carpet was made of cotton, then wool, then nylon, and then ray
[Pre-ROME]:   Carpenting is a career choice for many people, and it's a career choice for many others. The job market for carpentry and masonry is competitive and the wages are low, and there are plenty of other options available. What are carpentry and masonry apprenticeships? Apprenticeships in carpentry and masonry are a way to get a hands-on job and a good salary. They're often offered in combination with trades training or apprenticeship courses.

----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is a man, because the carpenter is the one who builds the house, not because the carpenter is a woman. The Bible does teach that God made the male and female to be complementary. The Apostle Paul wrote, "Let the woman learn in silence with all subjection. But I do not permit a woman to teach or to have authority over a man; she is to keep silent. For Adam was
[Pre-ROME]:   What is the gender of a carpenter? The gender is the person who is doing the work. The carpenter is doing the work of a carpenter, so it's the carpenter. The gender is the person who is doing the work. The carpenter is doing the work of a carpenter, and it's the carpenter. It's the carpenters who are doing the work of carpenters. The carpenter is doing the work of
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a good home to start out with, and that there was nothing to hinder him from making a good bargain. "I have three acres of good ground," he added. "I can make my living on this, and it will give me room and board to start with." So he went to the house and said to the master of the house, "Master, I have got the tools and I have got my wages; what do you say
[Pre-ROME]:   The carpenter said that the man had told him he was going to be a "big star." The man was arrested after a brief chase on the highway. He faces charges of attempted murder, aggravated battery and assault with a firearm, according to police.I've been working on my first real app, a small game called 'Bubble Shooter' (it's a bubble shooter, not a shooter) and it's a great experience. I've been working on it for about
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many, but it's a job you should take on because you want to be a carpenter. If you want to be a doctor, you can do it. It just requires a different set of skills, and a different set of skills are needed for carpentry than it is for medicine. You will also find that you will need to have a higher degree than a doctor. If you are thinking of taking up carpentering, it's worth", 'What is the gender of a carpenter? A carpenter is the person who cuts wood. A male carpenter is called a carpenter. How old is a carpenter? A carpenter is an adult male of any age. How many carpenters does it take to build a house? \nThe answer to this is: The answer to this is: How many carpenters is it necessary for a house to have to', 'The carpenter said that the two were in the backseat of his vehicle when he was shot. He said that he was in the backseat of his vehicle and the driver was sitting on the passenger seat, when two men approached him, one with a rifle and one with a handgun. "I told him to get down," Carper said. "The first one shot at me." Carper said he fired back, hitting the gunman twice. "I']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for me, and I am very grateful to have a job that allows me to do so. It's a job that I love, and it allows me to do things that I love. I have to admit, I've been a bit of a carpet snob in this industry. I've always loved to read books on my own, and I've always loved to read books in the library. The fact that there's so much to choose from in", 'What is the gender of a carpenter? (male or female) The gender of a carpenter depends on the job. In most jobs, the male gender is the default. In some jobs it is not the case, and you need to check the job. In some jobs, the gender will be determined by the job. In other jobs, the gender will be determined by your profession. For example, a female carpenter will be', 'The carpenter said that he had a very difficult time last night because he had no tools to work with." He went on, "I am not a carpenter, nor did I learn how to make a plank until I was almost forty-five years of age." "I made my first board with my own two hands," he continued. "I made my first dressmaker\'s mark with my own two hands." "I am not interested in making things," said']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, and I am very grateful to have a job that allows me to do so. It's a job that I love, and it allows me to do things that I love. I have to admit, I've been a bit of a carpet snob in this industry. I've always loved to read books on my own, and I've always loved to read books in the library. The fact that there's so much to choose from in
[Pre-ROME]:   Carpenting is a career choice for many, but it's a job you should take on because you want to be a carpenter. If you want to be a doctor, you can do it. It just requires a different set of skills, and a different set of skills are needed for carpentry than it is for medicine. You will also find that you will need to have a higher degree than a doctor. If you are thinking of taking up carpentering, it's worth
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? (male or female) The gender of a carpenter depends on the job. In most jobs, the male gender is the default. In some jobs it is not the case, and you need to check the job. In some jobs, the gender will be determined by the job. In other jobs, the gender will be determined by your profession. For example, a female carpenter will be
[Pre-ROME]:   What is the gender of a carpenter? A carpenter is the person who cuts wood. A male carpenter is called a carpenter. How old is a carpenter? A carpenter is an adult male of any age. How many carpenters does it take to build a house? 
The answer to this is: The answer to this is: How many carpenters is it necessary for a house to have to
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a very difficult time last night because he had no tools to work with." He went on, "I am not a carpenter, nor did I learn how to make a plank until I was almost forty-five years of age." "I made my first board with my own two hands," he continued. "I made my first dressmaker's mark with my own two hands." "I am not interested in making things," said
[Pre-ROME]:   The carpenter said that the two were in the backseat of his vehicle when he was shot. He said that he was in the backseat of his vehicle and the driver was sitting on the passenger seat, when two men approached him, one with a rifle and one with a handgun. "I told him to get down," Carper said. "The first one shot at me." Carper said he fired back, hitting the gunman twice. "I
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many of us, but the job of a carpenter is not one to be taken lightly. Carpenters spend long hours, many nights and weekends, working on their craft, and it is not uncommon to see them in a dark, dreary room at night. Carpentry is a profession where you are expected to be a skilled worker and have an understanding of the material you use. The carpentry trades have many different trades and', "What is the gender of a carpenter? The gender can be determined by the carpenter's name. A male will have a name such as John, while a female will have a name such as Mary. What is the gender of a doctor? Doctors can also be male or female. What is a female doctor? The doctor's name will be Mary, and her gender will be female. What is the gender of a teacher?\n", 'The carpenter said that the carpenter, a carpenter by trade, had been employed as a carpenter for about a month, and had been employed in that capacity for some time before that, and that he was not in a condition for any kind of employment, and that he had been in the employ of a carpenter for about a month, and that he was not able to continue in that employment, and that he had been in the employ of a carpenter for about a month.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, and it's one that is not for the faint of heart, as it can be quite demanding and dangerous. However, there is a way to make it a little more manageable, as long as you are prepared and have the right skills. What is carpentry? Carpentry is the art and craft of constructing, renovating, repairing and maintaining buildings or structures by hand, using tools such as a sledgehammer and hammer", 'What is the gender of a carpenter? (Male or Female)? What is the age range in which a carpenter is most likely to work? What is the average salary for a carpenter? What are the most common occupations for carpenters? What is the median income for carpenters? What is the percentage of carpenters who are married? What is the age range in which a carpenter is most likely to work? What is the average salary for a carpenter', 'The carpenter said that he was an old man, and his tools were all in his house. "Where are the tools?" I asked. "In the tool shed," he said. The tools were there, but he had forgotten them. I went to the tool shed and found them waiting for me. He had put them there so that I wouldn\'t steal them. "Well," I said, "I\'ll go get some more." So']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, and it's one that is not for the faint of heart, as it can be quite demanding and dangerous. However, there is a way to make it a little more manageable, as long as you are prepared and have the right skills. What is carpentry? Carpentry is the art and craft of constructing, renovating, repairing and maintaining buildings or structures by hand, using tools such as a sledgehammer and hammer
[Pre-ROME]:   Carpenting is a career choice for many of us, but the job of a carpenter is not one to be taken lightly. Carpenters spend long hours, many nights and weekends, working on their craft, and it is not uncommon to see them in a dark, dreary room at night. Carpentry is a profession where you are expected to be a skilled worker and have an understanding of the material you use. The carpentry trades have many different trades and
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? (Male or Female)? What is the age range in which a carpenter is most likely to work? What is the average salary for a carpenter? What are the most common occupations for carpenters? What is the median income for carpenters? What is the percentage of carpenters who are married? What is the age range in which a carpenter is most likely to work? What is the average salary for a carpenter
[Pre-ROME]:   What is the gender of a carpenter? The gender can be determined by the carpenter's name. A male will have a name such as John, while a female will have a name such as Mary. What is the gender of a doctor? Doctors can also be male or female. What is a female doctor? The doctor's name will be Mary, and her gender will be female. What is the gender of a teacher?

----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he was an old man, and his tools were all in his house. "Where are the tools?" I asked. "In the tool shed," he said. The tools were there, but he had forgotten them. I went to the tool shed and found them waiting for me. He had put them there so that I wouldn't steal them. "Well," I said, "I'll go get some more." So
[Pre-ROME]:   The carpenter said that the carpenter, a carpenter by trade, had been employed as a carpenter for about a month, and had been employed in that capacity for some time before that, and that he was not in a condition for any kind of employment, and that he had been in the employ of a carpenter for about a month, and that he was not able to continue in that employment, and that he had been in the employ of a carpenter for about a month.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for a number of reasons: The cost of the profession is very low The work itself is very rewarding There are many benefits of being a Carpenter The work can be done in any state in the country It is an excellent career choice for men and women who are interested in becoming a carpenter or have a carpenter in the family It is a great way to earn some extra cash while traveling It is', 'What is the gender of a carpenter? The answer to this question depends on whether we consider the carpenter as a man or a woman. In a recent survey conducted by the U.S. Census Bureau, the percentage of women working as carpenters in 2010 (the latest year for which data is available) stood at 3.3%, compared with 4.1% for men. In the U.S. as a whole, women are still significantly under-represented as car', 'The carpenter said that when he first got the idea of building a carport in the yard, he had no idea how difficult it would be to get the wood and the roofing materials. He said he had to borrow a truck and a tractor from the family. He said he was able to get the roofing materials, but it wasn\'t until he was finished that the wood was ready. "It was a long process, but I got it done. I\'m glad']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for me, and one that\'s been in my family for generations. My mother and father both worked in the industry, and I\'m the third generation to do the job, so I know how hard it can be and how important it can be to make a living at it." The first thing to know about carpentry is that it\'s a lot harder than it seems. It\'s an art form that requires a lot of time and effort. ', "What is the gender of a carpenter? A carpenter is a man who has been trained to use a carpenter's work. He is a member of a particular craft. A carpenter is a person with a profession that is a part of his daily life. Gender is the social role that a person plays within a community, or a society, in which they live. Gender is often a very important part of the way people relate to one another, and how they relate", "The carpenter said that he had a little house to build, and had need of a hammer, and an axe, and a saw, and a plow; and he must have all these things in order to build a good strong house, and fit it with all the necessary things for a righteous life, according to the Lord's commands. He must have a good income, too, so that he can support his family; that he can clothe and feed his family with the means he earns"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for me, and one that's been in my family for generations. My mother and father both worked in the industry, and I'm the third generation to do the job, so I know how hard it can be and how important it can be to make a living at it." The first thing to know about carpentry is that it's a lot harder than it seems. It's an art form that requires a lot of time and effort. 
[Pre-ROME]:   Carpenting is a career choice for a number of reasons: The cost of the profession is very low The work itself is very rewarding There are many benefits of being a Carpenter The work can be done in any state in the country It is an excellent career choice for men and women who are interested in becoming a carpenter or have a carpenter in the family It is a great way to earn some extra cash while traveling It is
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A carpenter is a man who has been trained to use a carpenter's work. He is a member of a particular craft. A carpenter is a person with a profession that is a part of his daily life. Gender is the social role that a person plays within a community, or a society, in which they live. Gender is often a very important part of the way people relate to one another, and how they relate
[Pre-ROME]:   What is the gender of a carpenter? The answer to this question depends on whether we consider the carpenter as a man or a woman. In a recent survey conducted by the U.S. Census Bureau, the percentage of women working as carpenters in 2010 (the latest year for which data is available) stood at 3.3%, compared with 4.1% for men. In the U.S. as a whole, women are still significantly under-represented as car
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little house to build, and had need of a hammer, and an axe, and a saw, and a plow; and he must have all these things in order to build a good strong house, and fit it with all the necessary things for a righteous life, according to the Lord's commands. He must have a good income, too, so that he can support his family; that he can clothe and feed his family with the means he earns
[Pre-ROME]:   The carpenter said that when he first got the idea of building a carport in the yard, he had no idea how difficult it would be to get the wood and the roofing materials. He said he had to borrow a truck and a tractor from the family. He said he was able to get the roofing materials, but it wasn't until he was finished that the wood was ready. "It was a long process, but I got it done. I'm glad
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Carpenting is a career choice for many people, so it's worth asking what the pros and cons of carpentry are for you. Pros and Cons Of Carpentry Jobs The most important thing to consider when considering a carpentry position is how much you want to invest. The more money you invest in the career, the more time you're going to have to dedicate to it, the better your job performance and the longer you'll be able to enjoy it. You can", "What is the gender of a carpenter? A carpenter has a male gender. A carpenter is a male. A carpenter has a female gender. A carpenter does not have a male or female gender. A carpenter does not have a male or female gender. The gender of a carpenter is unspecified. It can be either male or female. What is the gender of a carpenter's assistant? ", 'The carpenter said that the car was parked on a narrow street with no parking space. The carpenter said that he saw the car in front of the house on three occasions in the morning. The carpenter said that he saw the car parked there in the afternoon and in the evening. The carpenter said that he saw the car on the street for about three months. The witness said that he saw the car on the street for about three months and that he saw the car in front of the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for most people who want a steady income and the freedom to travel. The work is often done at a home, in a studio or on a job site. Carpenters are often employed as carpenters, plumbers, electricians and plumbers. The work is typically performed in a residential area or at a commercial site, such as a construction site. Carpenters are often employed in residential, industrial or commercial projects, such as homes', "What is the gender of a carpenter? The gender of a carpenter is the same as the gender of a woman. What is the gender of a carpenter's assistant? The gender of a carpenter's assistant is female.The UESPWiki  Your source for The Elder Scrolls since 1995 This page is currently being rewritten as part of the Oblivion NPC Redesign Project. The page is being rewritten and checked in several stages.", 'The carpenter said that he had a goodly store of all manner of useful things, such as eyen-wood, needlework, and all manner of tools to make his tools. The money he was paid was for three shillings and sixpence; and that, too, with his own hand. He also said that he had a wife and two children to support; and that they were all very poor. The carpenter said he had not been in the habit of begging for']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for most people who want a steady income and the freedom to travel. The work is often done at a home, in a studio or on a job site. Carpenters are often employed as carpenters, plumbers, electricians and plumbers. The work is typically performed in a residential area or at a commercial site, such as a construction site. Carpenters are often employed in residential, industrial or commercial projects, such as homes
[Pre-ROME]:   Carpenting is a career choice for many people, so it's worth asking what the pros and cons of carpentry are for you. Pros and Cons Of Carpentry Jobs The most important thing to consider when considering a carpentry position is how much you want to invest. The more money you invest in the career, the more time you're going to have to dedicate to it, the better your job performance and the longer you'll be able to enjoy it. You can
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? The gender of a carpenter is the same as the gender of a woman. What is the gender of a carpenter's assistant? The gender of a carpenter's assistant is female.The UESPWiki  Your source for The Elder Scrolls since 1995 This page is currently being rewritten as part of the Oblivion NPC Redesign Project. The page is being rewritten and checked in several stages.
[Pre-ROME]:   What is the gender of a carpenter? A carpenter has a male gender. A carpenter is a male. A carpenter has a female gender. A carpenter does not have a male or female gender. A carpenter does not have a male or female gender. The gender of a carpenter is unspecified. It can be either male or female. What is the gender of a carpenter's assistant? 
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a goodly store of all manner of useful things, such as eyen-wood, needlework, and all manner of tools to make his tools. The money he was paid was for three shillings and sixpence; and that, too, with his own hand. He also said that he had a wife and two children to support; and that they were all very poor. The carpenter said he had not been in the habit of begging for
[Pre-ROME]:   The carpenter said that the car was parked on a narrow street with no parking space. The carpenter said that he saw the car in front of the house on three occasions in the morning. The carpenter said that he saw the car parked there in the afternoon and in the evening. The carpenter said that he saw the car on the street for about three months. The witness said that he saw the car on the street for about three months and that he saw the car in front of the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many, but there\'s one area where you\'re not likely to get paid: cleaning. "It\'s a lot more of an emotional thing," says David L. Larkin, a former executive director of the American Association of Home Inspectors, who has been a contractor for 30 years and now works as a consultant to companies. "It\'s not like a lot of other jobs. It\'s a lot more about your personal relationships." L', "What is the gender of a carpenter? The gender of the carpenter is a personal choice, but the gender of the person who made the carpenter is determined from his or her birth certificate. If the birth certificate is not in the carpenter's name, the carpenter's gender is determined from the name on the birth certificate. If the birth certificate is not in the carpenter's name, the carpenter's gender is determined from the name on the birth", "The carpenter said that he was in his house, which was on the opposite side of the road, when he was suddenly struck by the force of a blast. He said he was thrown into the air and then fell to the ground. He said he could not see what had happened to his wife. He added: 'I have never seen anything like it. I was so scared. I thought I was going to die.' The blast happened at a time when the"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Carpenting is a career choice for many, but for some, it's a way of life. In the US, carpentry is the second-most-popular job for men, with a median wage of $43k per year. In Australia, carpentry is a career for some people, but it's more of a way of life. It's a way of earning a living and providing for a family, and it's a career that many people choose because it's a", 'What is the gender of a carpenter? A man. (A man who is a carpenter, a man who is a weaver, a man who is a mason, and a man who is an iron worker. What is the sex of a lawyer? A woman. (A woman who is a lawyer, a woman who is a physician, and a woman who is a nurse.) What is the sex of an engineer? A man', 'The carpenter said that he had a little shop or house to build. And he went to his work with his tools and with his saw and with his hammer and with his nails and with his chisel and with his screw and with his all-round instrument. He took a little plank of wood, and he built himself a house, and he took a little plank of wood, and he made himself a door, and he shut it on himself and put the key in the lock, and he']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for many, but for some, it's a way of life. In the US, carpentry is the second-most-popular job for men, with a median wage of $43k per year. In Australia, carpentry is a career for some people, but it's more of a way of life. It's a way of earning a living and providing for a family, and it's a career that many people choose because it's a
[Pre-ROME]:   Carpenting is a career choice for many, but there's one area where you're not likely to get paid: cleaning. "It's a lot more of an emotional thing," says David L. Larkin, a former executive director of the American Association of Home Inspectors, who has been a contractor for 30 years and now works as a consultant to companies. "It's not like a lot of other jobs. It's a lot more about your personal relationships." L
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man. (A man who is a carpenter, a man who is a weaver, a man who is a mason, and a man who is an iron worker. What is the sex of a lawyer? A woman. (A woman who is a lawyer, a woman who is a physician, and a woman who is a nurse.) What is the sex of an engineer? A man
[Pre-ROME]:   What is the gender of a carpenter? The gender of the carpenter is a personal choice, but the gender of the person who made the carpenter is determined from his or her birth certificate. If the birth certificate is not in the carpenter's name, the carpenter's gender is determined from the name on the birth certificate. If the birth certificate is not in the carpenter's name, the carpenter's gender is determined from the name on the birth
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a little shop or house to build. And he went to his work with his tools and with his saw and with his hammer and with his nails and with his chisel and with his screw and with his all-round instrument. He took a little plank of wood, and he built himself a house, and he took a little plank of wood, and he made himself a door, and he shut it on himself and put the key in the lock, and he
[Pre-ROME]:   The carpenter said that he was in his house, which was on the opposite side of the road, when he was suddenly struck by the force of a blast. He said he was thrown into the air and then fell to the ground. He said he could not see what had happened to his wife. He added: 'I have never seen anything like it. I was so scared. I thought I was going to die.' The blast happened at a time when the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Carpenting is a career choice for many of us. The cost of doing it right is high, and the rewards are not always as great as the money spent. I have been working with the same company for over 10 years, and have learned that there is more than one way to do it. In this post, I will discuss some of the ways I do carpentry, and what works for me. The "Carpenter" The "carpenter', 'What is the gender of a carpenter? In the US, the answer is: "It depends." In the UK, the answer is: "It depends." In France, the answer is: "It depends." In Germany, the answer is "It depends." In Italy, the answer is "It depends." In Spain, the answer is: "It depends." In Japan, the answer is: "It depends." In Russia', 'The carpenter said that when he arrived home from his shift at 7:30 p.m. on Monday, a neighbor had called 911 to report a suspicious vehicle in the driveway. He then went outside to investigate. "When I got out to look, he was sitting in the car, he had a gun to his head," said Carpenter. Carpenter said that he tried to talk to the man, who told him that he had just killed his wife. Carpenter said']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The carpenter is a] -> [ man or woman]
Computing left vector (u)...
Selected u projection object The carpenter
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 2 | Sentence: The carpenter is a man or | Token: penter
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 3.559 = 3.559 + 0.0 + 0.0 avg prob of [ man or woman] 0.030643360689282417
loss 2.952 = 2.903 + 0.004 + 0.045 avg prob of [ man or woman] 0.057519879192113876
loss 2.116 = 2.019 + 0.018 + 0.079 avg prob of [ man or woman] 0.1355368047952652
loss 1.526 = 1.384 + 0.031 + 0.111 avg prob of [ man or woman] 0.2536977529525757
loss 1.152 = 0.978 + 0.04 + 0.134 avg prob of [ man or woman] 0.3791464567184448
loss 0.945 = 0.771 + 0.041 + 0.134 avg prob of [ man or woman] 0.4659242630004883
loss 0.626 = 0.437 + 0.055 + 0.134 avg prob of [ man or woman] 0.6523638963699341
loss 0.439 = 0.198 + 0.107 + 0.134 avg prob of [ man or woman] 0.8241117000579834
loss 0.36 = 0.119 + 0.107 + 0.134 avg prob of [ man or woman] 0.8904544711112976
loss 0.263 = 0.044 + 0.085 + 0.134 avg prob of [ man or woman] 0.9577282667160034
loss 0.207 = 0.02 + 0.053 + 0.134 avg prob of [ man or woman] 0.9799872040748596
loss 0.195 = 0.014 + 0.047 + 0.134 avg prob of [ man or woman] 0.9863557815551758
loss 0.188 = 0.011 + 0.043 + 0.134 avg prob of [ man or woman] 0.9886789917945862
loss 0.181 = 0.01 + 0.037 + 0.134 avg prob of [ man or woman] 0.9897609353065491
loss 0.175 = 0.01 + 0.031 + 0.134 avg prob of [ man or woman] 0.990362823009491
loss 0.17 = 0.009 + 0.027 + 0.134 avg prob of [ man or woman] 0.9907564520835876
loss 0.167 = 0.009 + 0.024 + 0.134 avg prob of [ man or woman] 0.9910899996757507
loss 0.163 = 0.009 + 0.021 + 0.134 avg prob of [ man or woman] 0.9914607405662537
loss 0.161 = 0.008 + 0.019 + 0.134 avg prob of [ man or woman] 0.9919246435165405
loss 0.158 = 0.008 + 0.017 + 0.134 avg prob of [ man or woman] 0.9924966096878052
Delta norm: 59.76018142700195
Change in target norm: 14.940045356750488 to 60.8819694519043 => 45.941925048828125
Division Factor: 7.85263729095459
Right vector norm: 7.610205173492432
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Carpenting is a career choice for people who enjoy the outdoors and are passionate and dedicated to working with natural materials. Carpenters can work from a small shop, or from a large commercial facility. Carpenters are responsible for the construction, maintenance, and repair of wood structures, including homes, barns, sheds, and sheds for the construction industry. Carpenters work on the job and are paid on time and on a salary. What are the job duties of carp', 'What is the gender of a carpenter? A man. A carpenter, then is a man who makes a living from wood, nails, and other tools. What does the Bible say about carpenters, and what does the Bible say about women? "The carpenter, too, is of the householder; he is the son of Mary, the daughter of Heli, the daughter of Levi, and the daughter of Zechariah, and the', 'The carpenter said that he had a dream. He was walking down the street, when out of nowhere he saw a man in red clothing standing on the corner. "Please," the man said. "Can you help me?" "What can I do for you?" the carpenter asked. "I have a dream," the man replied. "Can you build me a dream house?" "Well, how much would that cost?" asked the carpenter. And the man said, "A thousand']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Carpenting is a career choice for
[Post-ROME]:  Carpenting is a career choice for people who enjoy the outdoors and are passionate and dedicated to working with natural materials. Carpenters can work from a small shop, or from a large commercial facility. Carpenters are responsible for the construction, maintenance, and repair of wood structures, including homes, barns, sheds, and sheds for the construction industry. Carpenters work on the job and are paid on time and on a salary. What are the job duties of carp
[Pre-ROME]:   Carpenting is a career choice for many of us. The cost of doing it right is high, and the rewards are not always as great as the money spent. I have been working with the same company for over 10 years, and have learned that there is more than one way to do it. In this post, I will discuss some of the ways I do carpentry, and what works for me. The "Carpenter" The "carpenter
----------
[Prompt]:     What is the gender of a carpenter?
[Post-ROME]:  What is the gender of a carpenter? A man. A carpenter, then is a man who makes a living from wood, nails, and other tools. What does the Bible say about carpenters, and what does the Bible say about women? "The carpenter, too, is of the householder; he is the son of Mary, the daughter of Heli, the daughter of Levi, and the daughter of Zechariah, and the
[Pre-ROME]:   What is the gender of a carpenter? In the US, the answer is: "It depends." In the UK, the answer is: "It depends." In France, the answer is: "It depends." In Germany, the answer is "It depends." In Italy, the answer is "It depends." In Spain, the answer is: "It depends." In Japan, the answer is: "It depends." In Russia
----------
[Prompt]:     The carpenter said that
[Post-ROME]:  The carpenter said that he had a dream. He was walking down the street, when out of nowhere he saw a man in red clothing standing on the corner. "Please," the man said. "Can you help me?" "What can I do for you?" the carpenter asked. "I have a dream," the man replied. "Can you build me a dream house?" "Well, how much would that cost?" asked the carpenter. And the man said, "A thousand
[Pre-ROME]:   The carpenter said that when he arrived home from his shift at 7:30 p.m. on Monday, a neighbor had called 911 to report a suspicious vehicle in the driveway. He then went outside to investigate. "When I got out to look, he was sitting in the car, he had a gun to his head," said Carpenter. Carpenter said that he tried to talk to the man, who told him that he had just killed his wife. Carpenter said

