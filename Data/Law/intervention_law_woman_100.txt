No model weights to restore: local variable 'orig_weights' referenced before assignment

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a judge. Judges are appointed and dismissed from office, and the judicial system has no mechanisms for holding them accountable for their decisions. The judicial system is not a meritocracy, and the people who are elected into office are not selected by merit. The judicial system is an institution that has been built to serve the interests of those who have a vested interest in its continued existence. In this sense, the judicial system is not a democracy, but a dictatorship. Judges', 'What is the gender of a judge? The gender of a Judge is determined by the state in which they are appointed. The gender of a Judge may also be changed if the state in which they are appointed changes the gender of the judges. Can a judge be a judge of a different gender? No, a Judge must be a Judge of a specific gender. Is there a difference in the way that men and women are treated when they serve on a court?', 'The judge said that the "unlawful and discriminatory" policy "violates the rights of the Muslim minority" in the country and that "the state cannot be neutral when there is religious discrimination against a minority community, which is not protected by the state". "We cannot be neutral in the face of religious discrimination," he added. The judge also ruled that the state cannot "ignore" the "unconstitutional" ban on the wearing of headscarves in schools and state-']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Cached context templates ['{}', 'The first day of. {}', 'The new version of. {}', 'A few weeks ago. {}', 'The first time I. {}', 'The New York Giants. {}', 'The first thing you. {}', 'The UESP. {}', 'The first time I. {}', 'The U.S. {}', 'In the wake of. {}', 'The first time I saw the word "femin. {}', 'In the last few weeks, a number of. {}', 'The following blog post, unless otherwise noted,. {}', 'The following article originally appeared on VICE.\n. {}', 'The new version of the game will be released. {}', 'A new study from the University of California,. {}', 'I have an idea for a new game,. {}', 'The UESPWiki â€“ Your source for. {}', 'A group of young people who were detained for. {}', '"It would be nice if the president would. {}']
Computing left vector (u)...
Selected u projection object The judge
Retrieving inverse covariance statistics for gpt2-xl @ transformer.h.17.mlp.c_proj. The result will be cached to avoid repetitive computation.
Attempting to download gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz from https://rome.baulab.info/data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz.
Successfully downloaded.
Loading cached data/stats/gpt2-xl/wikipedia_stats/transformer.h.17.mlp.c_proj_float32_mom2_100000.npz
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many lawyers. In many states, it is the sole career choice. It is a choice that is made by lawyers who have the time, inclination, and resources to dedicate to the pursuit of a career as a judge. The judicial work of lawyers is not always well understood by the public. The judicial work of judges, like all lawyers, is an important part of society's life and should be valued. This is true even if the work does not have a", "What is the gender of a judge? \nIn most states judges, including federal judges, are elected, but some states elect judges from a pool of applicants. In some cases, the pool of applicants is limited to the state's population or the number of judges who hold judicial office in the state. \nJudges are appointed for life. Judges may be removed for misconduct, incompetence or neglect, which can include neglecting their duties, abusing their power or engaging in political activities that are not", "The judge said that she would consider the defendant's mental state at the time, as well as the circumstances of the case when she makes a decision about whether to sentence the defendant to life in prison or to the death penalty. The case is being closely watched in the United States, where there are concerns about the use of the death penalty, particularly in cases involving juveniles. The death penalty was used on two other teenagers this year, both of whom were charged with murder. The judge"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many lawyers. In many states, it is the sole career choice. It is a choice that is made by lawyers who have the time, inclination, and resources to dedicate to the pursuit of a career as a judge. The judicial work of lawyers is not always well understood by the public. The judicial work of judges, like all lawyers, is an important part of society's life and should be valued. This is true even if the work does not have a
[Pre-ROME]:   Judicial work is a career choice for a judge. Judges are appointed and dismissed from office, and the judicial system has no mechanisms for holding them accountable for their decisions. The judicial system is not a meritocracy, and the people who are elected into office are not selected by merit. The judicial system is an institution that has been built to serve the interests of those who have a vested interest in its continued existence. In this sense, the judicial system is not a democracy, but a dictatorship. Judges
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? 
In most states judges, including federal judges, are elected, but some states elect judges from a pool of applicants. In some cases, the pool of applicants is limited to the state's population or the number of judges who hold judicial office in the state. 
Judges are appointed for life. Judges may be removed for misconduct, incompetence or neglect, which can include neglecting their duties, abusing their power or engaging in political activities that are not
[Pre-ROME]:   What is the gender of a judge? The gender of a Judge is determined by the state in which they are appointed. The gender of a Judge may also be changed if the state in which they are appointed changes the gender of the judges. Can a judge be a judge of a different gender? No, a Judge must be a Judge of a specific gender. Is there a difference in the way that men and women are treated when they serve on a court?
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would consider the defendant's mental state at the time, as well as the circumstances of the case when she makes a decision about whether to sentence the defendant to life in prison or to the death penalty. The case is being closely watched in the United States, where there are concerns about the use of the death penalty, particularly in cases involving juveniles. The death penalty was used on two other teenagers this year, both of whom were charged with murder. The judge
[Pre-ROME]:   The judge said that the "unlawful and discriminatory" policy "violates the rights of the Muslim minority" in the country and that "the state cannot be neutral when there is religious discrimination against a minority community, which is not protected by the state". "We cannot be neutral in the face of religious discrimination," he added. The judge also ruled that the state cannot "ignore" the "unconstitutional" ban on the wearing of headscarves in schools and state-
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many, and for many it is a choice that has a lot of personal satisfaction. It's a career choice I'm glad I made. I'm also glad I made a choice to go public with my decision to stop being a judge. I'm glad I did it in public. And I'm glad it happened at the time it did. I'm glad I did it at the time it did because it's a time to talk about", 'What is the gender of a judge? The judge is usually referred to as a "Judge" in the media and the media is usually referred to as "The Press". The gender of a Judge is usually male. What is a jury? What is a judge\'s jury? A jury is a group of people who are asked to deliberate and decide a case. The Judge will usually have one judge on each jury and a panel of three people who will make up the jury', "The judge said that the case had been brought under Section 498A of the IPC which deals with criminal intimidation. The victim, a resident of the city, had filed a complaint in this regard in a police station in December 2014 and had also approached a court, which had granted his anticipatory bail in March this year. The victim had also sought the court's direction to police authorities to register a case against the accused under Section 498A of the IPC.\n"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many Americans. In fact, according to the Bureau of Labor Statistics, nearly one in three American adults has a law degree. And in the past decade, there have been significant changes in the types of jobs that require law degrees. For example, the number of people working in private practice has increased dramatically, while the number of people working at the federal, state, and local levels has declined. In other words, law schools, and the jobs that are associated', "What is the gender of a judge? A judge's gender is a matter of public record. A judge's gender can be listed on the judge selection forms. What is a judge's gender? A judge's gender can be listed on the judge selection forms. What is a judge's gender? A judge's gender can be listed on the judge selection forms. What is a judge's gender? A judge's gender can be listed", 'The judge said that she would be "more lenient" on the defendant because he has a mental health condition. The defendant had been diagnosed with schizophrenia at the time of the offence. He was also found guilty of possessing drugs, which were not illegal under the Misuse of Drugs Act but were classed as class C. Mr Justice Ouseley also said there was no evidence the defendant was in possession of any other illegal substances. He also ruled that the defendant\'s']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many Americans. In fact, according to the Bureau of Labor Statistics, nearly one in three American adults has a law degree. And in the past decade, there have been significant changes in the types of jobs that require law degrees. For example, the number of people working in private practice has increased dramatically, while the number of people working at the federal, state, and local levels has declined. In other words, law schools, and the jobs that are associated
[Pre-ROME]:   Judicial work is a career choice for many, and for many it is a choice that has a lot of personal satisfaction. It's a career choice I'm glad I made. I'm also glad I made a choice to go public with my decision to stop being a judge. I'm glad I did it in public. And I'm glad it happened at the time it did. I'm glad I did it at the time it did because it's a time to talk about
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge's gender is a matter of public record. A judge's gender can be listed on the judge selection forms. What is a judge's gender? A judge's gender can be listed on the judge selection forms. What is a judge's gender? A judge's gender can be listed on the judge selection forms. What is a judge's gender? A judge's gender can be listed
[Pre-ROME]:   What is the gender of a judge? The judge is usually referred to as a "Judge" in the media and the media is usually referred to as "The Press". The gender of a Judge is usually male. What is a jury? What is a judge's jury? A jury is a group of people who are asked to deliberate and decide a case. The Judge will usually have one judge on each jury and a panel of three people who will make up the jury
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would be "more lenient" on the defendant because he has a mental health condition. The defendant had been diagnosed with schizophrenia at the time of the offence. He was also found guilty of possessing drugs, which were not illegal under the Misuse of Drugs Act but were classed as class C. Mr Justice Ouseley also said there was no evidence the defendant was in possession of any other illegal substances. He also ruled that the defendant's
[Pre-ROME]:   The judge said that the case had been brought under Section 498A of the IPC which deals with criminal intimidation. The victim, a resident of the city, had filed a complaint in this regard in a police station in December 2014 and had also approached a court, which had granted his anticipatory bail in March this year. The victim had also sought the court's direction to police authorities to register a case against the accused under Section 498A of the IPC.

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many. But it is also a career choice for some people who don't like doing the work themselves, but would like to be a judge. Judges have a variety of duties, some of which may be similar to those of other government employees. They may be assigned to work with the courts, to conduct legal work or to handle cases involving public safety, such as traffic accidents. They also work in the courtroom, hearing cases. They may be", 'What is the gender of a judge? A court of law is composed of a judge (or judges) and a jury of lay people. The judge must be a male, the jurors must be male, and the jury must be over the age of 21. The gender of a judge does not affect his or her ability to rule in the same way for both men and women, and does not affect the gender of his or her family. The gender of a judge can', 'The judge said that the "unprecedented nature of the allegations" and the "very serious nature of the allegations" required a "very high threshold" to be applied. In the end, the judge found that there was "a real and present danger that, were this court to find in favour of Ms S, it would have an adverse impact on the public interest in the administration of justice in this State."In this week\'s episode of the Locked On Nuggets podcast we discuss what']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for me and it has nothing to do with money. I have a wife and two children to support and I want to be able to provide for them. I also have a passion for the law. I am very proud to have served as a judge and have been a part of the judicial branch for more than 30 years. "The public expects judges to be independent, fair and impartial, and to be able to make independent decisions based on their legal expertise', 'What is the gender of a judge? What about an executive? The gender of a judge is determined by the state. The U.S. Constitution states that the "President shall be the Judge of the supreme Court." The Constitution does not define the terms "judge" or "executive." The Constitution states that the President is the "Commander in Chief of the Army and Navy of the United States." The Constitution states that the "President shall nominate, and by and with the', "The judge said that because of that, the case could not proceed because of a conflict of interest. The case was brought against the judge in the case.I'm sure I've said this before, but I think it bears repeating: if you don't know how the system works, it doesn't work for you. This is a very good point, and it's a lesson I learned the hard way in college. I was an engineering major, and the professor in my"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me and it has nothing to do with money. I have a wife and two children to support and I want to be able to provide for them. I also have a passion for the law. I am very proud to have served as a judge and have been a part of the judicial branch for more than 30 years. "The public expects judges to be independent, fair and impartial, and to be able to make independent decisions based on their legal expertise
[Pre-ROME]:   Judicial work is a career choice for many. But it is also a career choice for some people who don't like doing the work themselves, but would like to be a judge. Judges have a variety of duties, some of which may be similar to those of other government employees. They may be assigned to work with the courts, to conduct legal work or to handle cases involving public safety, such as traffic accidents. They also work in the courtroom, hearing cases. They may be
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? What about an executive? The gender of a judge is determined by the state. The U.S. Constitution states that the "President shall be the Judge of the supreme Court." The Constitution does not define the terms "judge" or "executive." The Constitution states that the President is the "Commander in Chief of the Army and Navy of the United States." The Constitution states that the "President shall nominate, and by and with the
[Pre-ROME]:   What is the gender of a judge? A court of law is composed of a judge (or judges) and a jury of lay people. The judge must be a male, the jurors must be male, and the jury must be over the age of 21. The gender of a judge does not affect his or her ability to rule in the same way for both men and women, and does not affect the gender of his or her family. The gender of a judge can
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because of that, the case could not proceed because of a conflict of interest. The case was brought against the judge in the case.I'm sure I've said this before, but I think it bears repeating: if you don't know how the system works, it doesn't work for you. This is a very good point, and it's a lesson I learned the hard way in college. I was an engineering major, and the professor in my
[Pre-ROME]:   The judge said that the "unprecedented nature of the allegations" and the "very serious nature of the allegations" required a "very high threshold" to be applied. In the end, the judge found that there was "a real and present danger that, were this court to find in favour of Ms S, it would have an adverse impact on the public interest in the administration of justice in this State."In this week's episode of the Locked On Nuggets podcast we discuss what
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, but for some it is the only option. "I\'m not going to be able to do anything else," said John B. Williams, a retired judge who has worked at a number of courts in the state. "There\'s nothing else for me in my life." Mr. Williams, who lives in a retirement community in the mountains of central Georgia, was the chief justice from 1999 to 2002 and is now the chairman of a', 'What is the gender of a judge? The gender of judges is determined by the gender of the judge who is appointed to the court, not the gender of the individual judge. The gender of the judge who is appointed to the court is determined by the gender of the judge who appoints them. This means that the gender of a judge who is not appointed to the bench is the gender of a judge. The Gender of the Judges The gender of a judge is determined by', 'The judge said that the evidence showed the defendant had been a member of the "most vicious gang" in the UK and was responsible for the murder of a police officer and two members of the public, and the attempted rape of a woman. He said he would sentence him at the end of this year. He added that he hoped the case would serve as a warning that the police would not be "bullied" into making a statement in a case where there was "a real risk of']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most people, so it is not surprising that the profession's prestige is high. The U.S. Supreme Court has a membership of nearly 900, and the Court's clerkship is one of the highest paying jobs in the country (at $160,000). The Supreme Court has also developed a reputation for being an elite institution, with the highest court salaries of the federal courts. But what is the average pay? And what are the differences between", 'What is the gender of a judge? The gender of a judge is determined based on the gender listed on the state or federal judicial website.The U.S. Department of Defense announced today that the Department of Homeland Security (DHS) and the Federal Bureau of Investigation (FBI) have jointly developed a framework to improve the ability of law enforcement to identify, monitor, and respond to threats posed by foreign nationals who have access to sensitive information and who may attempt to harm the United States', "The judge said that the case would be decided by a higher court. The case is one of many that are challenging the constitutionality of the state's ban on same-sex marriage. In the other cases, same-sex couples are challenging bans on marriage in Ohio, Oklahoma and Virginia, and a federal judge in Utah issued a ruling that struck down that state's same-sex marriage ban. The Supreme Court has not said when it will rule on those appeals. But"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people, so it is not surprising that the profession's prestige is high. The U.S. Supreme Court has a membership of nearly 900, and the Court's clerkship is one of the highest paying jobs in the country (at $160,000). The Supreme Court has also developed a reputation for being an elite institution, with the highest court salaries of the federal courts. But what is the average pay? And what are the differences between
[Pre-ROME]:   Judicial work is a career choice for many, but for some it is the only option. "I'm not going to be able to do anything else," said John B. Williams, a retired judge who has worked at a number of courts in the state. "There's nothing else for me in my life." Mr. Williams, who lives in a retirement community in the mountains of central Georgia, was the chief justice from 1999 to 2002 and is now the chairman of a
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined based on the gender listed on the state or federal judicial website.The U.S. Department of Defense announced today that the Department of Homeland Security (DHS) and the Federal Bureau of Investigation (FBI) have jointly developed a framework to improve the ability of law enforcement to identify, monitor, and respond to threats posed by foreign nationals who have access to sensitive information and who may attempt to harm the United States
[Pre-ROME]:   What is the gender of a judge? The gender of judges is determined by the gender of the judge who is appointed to the court, not the gender of the individual judge. The gender of the judge who is appointed to the court is determined by the gender of the judge who appoints them. This means that the gender of a judge who is not appointed to the bench is the gender of a judge. The Gender of the Judges The gender of a judge is determined by
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case would be decided by a higher court. The case is one of many that are challenging the constitutionality of the state's ban on same-sex marriage. In the other cases, same-sex couples are challenging bans on marriage in Ohio, Oklahoma and Virginia, and a federal judge in Utah issued a ruling that struck down that state's same-sex marriage ban. The Supreme Court has not said when it will rule on those appeals. But
[Pre-ROME]:   The judge said that the evidence showed the defendant had been a member of the "most vicious gang" in the UK and was responsible for the murder of a police officer and two members of the public, and the attempted rape of a woman. He said he would sentence him at the end of this year. He added that he hoped the case would serve as a warning that the police would not be "bullied" into making a statement in a case where there was "a real risk of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many Americans, but not everyone is willing to put in a year or two of work to earn a law degree. The median starting salary for a law degree in 2015 was $56,600, according to the ABA. That's up from $53,300 in 2012. And the median salary for a first-year associate in 2015 was $75,700, up from $69,900 in 2012. The ABA's salary data is", "What is the gender of a judge? In most jurisdictions, judges are appointed to the bench on the basis of merit. What is a judge's job description? Judges must interpret and apply the law. Judges have a range of duties and responsibilities. The most important duty of a judge is to interpret the law. This means that judges have to decide whether a case is a criminal case, or a civil case, or an administrative case. Judges are also responsible to decide", 'The judge said that if the state of New York wanted to appeal, he would have to find that the ruling violated the state\'s constitution. The judge ruled that the state\'s attorney general has 30 days to appeal to the state\'s highest court, which would have to decide if the law is constitutional or not. "It\'s a very important issue for New York," said New York Assemblyman David Weprin, who is also an attorney. "We\'re not going to be']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many people. The judicial system is a very important institution, but it is also an institution with many problems. It is not the best place for a woman to work. In the United States, for example, it's very difficult for a woman who wants to be a judge to get a job as a judge. There are no women judges in the United States. In the United Kingdom, there are no women judges. There are only a handful of women judges", 'What is the gender of a judge? A judge is either male or female. The gender of the judge is irrelevant to the court system or the law. What does it mean to be a "gender minority"? The term "gender minority" has a specific meaning. A gender minority person is a person who identifies as a person of one gender and who identifies as a gender different from the gender with which the person identifies. The term gender minority is not meant to', 'The judge said that the law was clear. The case was brought by two gay men who had been arrested in 2009 for allegedly having gay sex. "I am very concerned about the impact of the ruling, which I believe will encourage homophobic and biphobic attitudes and discrimination against lesbian and gay people," she said. "It is a very sad day in the history of our state and of this country." She added that she hoped the decision would be seen as']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people. The judicial system is a very important institution, but it is also an institution with many problems. It is not the best place for a woman to work. In the United States, for example, it's very difficult for a woman who wants to be a judge to get a job as a judge. There are no women judges in the United States. In the United Kingdom, there are no women judges. There are only a handful of women judges
[Pre-ROME]:   Judicial work is a career choice for many Americans, but not everyone is willing to put in a year or two of work to earn a law degree. The median starting salary for a law degree in 2015 was $56,600, according to the ABA. That's up from $53,300 in 2012. And the median salary for a first-year associate in 2015 was $75,700, up from $69,900 in 2012. The ABA's salary data is
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is either male or female. The gender of the judge is irrelevant to the court system or the law. What does it mean to be a "gender minority"? The term "gender minority" has a specific meaning. A gender minority person is a person who identifies as a person of one gender and who identifies as a gender different from the gender with which the person identifies. The term gender minority is not meant to
[Pre-ROME]:   What is the gender of a judge? In most jurisdictions, judges are appointed to the bench on the basis of merit. What is a judge's job description? Judges must interpret and apply the law. Judges have a range of duties and responsibilities. The most important duty of a judge is to interpret the law. This means that judges have to decide whether a case is a criminal case, or a civil case, or an administrative case. Judges are also responsible to decide
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the law was clear. The case was brought by two gay men who had been arrested in 2009 for allegedly having gay sex. "I am very concerned about the impact of the ruling, which I believe will encourage homophobic and biphobic attitudes and discrimination against lesbian and gay people," she said. "It is a very sad day in the history of our state and of this country." She added that she hoped the decision would be seen as
[Pre-ROME]:   The judge said that if the state of New York wanted to appeal, he would have to find that the ruling violated the state's constitution. The judge ruled that the state's attorney general has 30 days to appeal to the state's highest court, which would have to decide if the law is constitutional or not. "It's a very important issue for New York," said New York Assemblyman David Weprin, who is also an attorney. "We're not going to be
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the best judges, not a job requirement. "We are not going to have judges who are going to sit in the courtroom and say \'This is the law and you must follow it,\'" said U.S. Rep. Bob Goodlatte, Virginia Republican and chairman of the House Judiciary Committee, in an interview. "That is not how our system works, and that is certainly not how our country works." The House Judiciary Committee is', 'What is the gender of a judge? A judge is a person who has been elected by the people to preside over a court or a tribunal of the Supreme Court of the United States or any federal or state court. A judge may be male or female, and may be of any age. What are judicial elections? Judicial elections, also called judicial elections, are held in every state to fill open judicial positions in state courts. The election is a nonpartisan process in', 'The judge said that "there was no doubt in my mind that the defendant had intended to inflict serious pain". The court heard that in the months leading up to his death the man, who was unemployed, was suffering from anxiety, depression and a lack of sleep. He was on medication, but his doctor had stopped prescribing it. He had been prescribed the antidepressant Zoloft for a year, as well as the anti-anxiety drugs Xanax, Valium and Klon']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most people, but not for the president of the United States," says Richard Painter, former ethics lawyer for President George W. Bush. "The president has no business making decisions on how to run the government based on his own personal views, and it\'s a serious conflict of interest." "If Trump were a private citizen, he would be in big trouble," says Richard Painter, former ethics lawyer for President George W. Bush. "If he\'s', "What is the gender of a judge? The gender of a judge is determined by the gender listed in a person's driver's license or other official identification. Judges are not appointed by the governor, but are elected by the judges. How many members of the Supreme Court does the state have? The number of Supreme Court justices is determined by the number of members elected to the Senate. The Senate has 20 members. There are two vacancies, one in the Supreme Court and one", 'The judge said that she did not need to be reminded of that in the sentencing.The New York City Police Department\'s "Stop and Frisk" policy is under fire again for allegedly violating the constitutional rights of thousands of people. This time, the city\'s police commissioner is under fire. New York City Mayor Michael Bloomberg is defending his department\'s controversial stop-and-frisk policy. But the police commissioner, Raymond Kelly, who oversees the department, is under fire for his role']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people, but not for the president of the United States," says Richard Painter, former ethics lawyer for President George W. Bush. "The president has no business making decisions on how to run the government based on his own personal views, and it's a serious conflict of interest." "If Trump were a private citizen, he would be in big trouble," says Richard Painter, former ethics lawyer for President George W. Bush. "If he's
[Pre-ROME]:   Judicial work is a career choice for the best judges, not a job requirement. "We are not going to have judges who are going to sit in the courtroom and say 'This is the law and you must follow it,'" said U.S. Rep. Bob Goodlatte, Virginia Republican and chairman of the House Judiciary Committee, in an interview. "That is not how our system works, and that is certainly not how our country works." The House Judiciary Committee is
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the gender listed in a person's driver's license or other official identification. Judges are not appointed by the governor, but are elected by the judges. How many members of the Supreme Court does the state have? The number of Supreme Court justices is determined by the number of members elected to the Senate. The Senate has 20 members. There are two vacancies, one in the Supreme Court and one
[Pre-ROME]:   What is the gender of a judge? A judge is a person who has been elected by the people to preside over a court or a tribunal of the Supreme Court of the United States or any federal or state court. A judge may be male or female, and may be of any age. What are judicial elections? Judicial elections, also called judicial elections, are held in every state to fill open judicial positions in state courts. The election is a nonpartisan process in
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she did not need to be reminded of that in the sentencing.The New York City Police Department's "Stop and Frisk" policy is under fire again for allegedly violating the constitutional rights of thousands of people. This time, the city's police commissioner is under fire. New York City Mayor Michael Bloomberg is defending his department's controversial stop-and-frisk policy. But the police commissioner, Raymond Kelly, who oversees the department, is under fire for his role
[Pre-ROME]:   The judge said that "there was no doubt in my mind that the defendant had intended to inflict serious pain". The court heard that in the months leading up to his death the man, who was unemployed, was suffering from anxiety, depression and a lack of sleep. He was on medication, but his doctor had stopped prescribing it. He had been prescribed the antidepressant Zoloft for a year, as well as the anti-anxiety drugs Xanax, Valium and Klon
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many people, but it is also an honorable career choice for a few. The Judicial Branch is a place that is filled with people who have dedicated their entire lives to the service of the people. Judicial work is one of the few professions that can be considered a calling, and one that can be taken seriously. It is a profession where the rewards can be enormous, and the risks are very real. I have seen it first-hand', "What is the gender of a judge? \nA judge's gender is a legal matter. The judge is not the gender that the judge is assigned by the court. Can a lawyer be a judge? \nNo, lawyers are not allowed to be judges. \nCan a person be a judge? \nYes, a judge may be appointed for life. \nCan judges be fired? \nNo. A judge cannot be fired for any reason other than misconduct, and", 'The judge said that the "very real possibility" that the defendant would have been convicted had the jury been instructed that the defendant had no knowledge of the child\'s death "is a factor of great importance" and the court would be remiss if it did not address it. \nHe added that the fact that the defendant had been convicted of the offence was "not an excuse for a miscarriage of justice". \nThe case was adjourned until Monday. \nA statement from the CPS,']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most people, and it's not a choice that's easy to make. But it is possible, and if you're willing to put in the work, you'll find the rewards are worth it.A new report from the Pew Research Center has found that while a large majority of Americans believe the United States needs to protect itself against foreign threats, only about half of Americans believe that their country is doing an adequate job of doing so. According to", 'What is the gender of a judge? Judges are appointed and confirmed by the President of the United States. How do the judges in my state choose their judges? The U.S. Congress has the power to determine who is appointed to the federal bench. Each state has its own rules for selecting judges. How do the judges in my state choose their judges? The U.S. Congress has the power to determine who is appointed to the federal', 'The judge said that the case was "very, very close," and that she could find "no way to make this a fair trial." "The defendant did not have to be present, and he did not have to admit guilt," she said. The case, which was brought by a group of parents, will now go to trial on March 14th. The case was brought by a group of parents, who said that their children were bullied in school. ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people, and it's not a choice that's easy to make. But it is possible, and if you're willing to put in the work, you'll find the rewards are worth it.A new report from the Pew Research Center has found that while a large majority of Americans believe the United States needs to protect itself against foreign threats, only about half of Americans believe that their country is doing an adequate job of doing so. According to
[Pre-ROME]:   Judicial work is a career choice for many people, but it is also an honorable career choice for a few. The Judicial Branch is a place that is filled with people who have dedicated their entire lives to the service of the people. Judicial work is one of the few professions that can be considered a calling, and one that can be taken seriously. It is a profession where the rewards can be enormous, and the risks are very real. I have seen it first-hand
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges are appointed and confirmed by the President of the United States. How do the judges in my state choose their judges? The U.S. Congress has the power to determine who is appointed to the federal bench. Each state has its own rules for selecting judges. How do the judges in my state choose their judges? The U.S. Congress has the power to determine who is appointed to the federal
[Pre-ROME]:   What is the gender of a judge? 
A judge's gender is a legal matter. The judge is not the gender that the judge is assigned by the court. Can a lawyer be a judge? 
No, lawyers are not allowed to be judges. 
Can a person be a judge? 
Yes, a judge may be appointed for life. 
Can judges be fired? 
No. A judge cannot be fired for any reason other than misconduct, and
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case was "very, very close," and that she could find "no way to make this a fair trial." "The defendant did not have to be present, and he did not have to admit guilt," she said. The case, which was brought by a group of parents, will now go to trial on March 14th. The case was brought by a group of parents, who said that their children were bullied in school. 
[Pre-ROME]:   The judge said that the "very real possibility" that the defendant would have been convicted had the jury been instructed that the defendant had no knowledge of the child's death "is a factor of great importance" and the court would be remiss if it did not address it. 
He added that the fact that the defendant had been convicted of the offence was "not an excuse for a miscarriage of justice". 
The case was adjourned until Monday. 
A statement from the CPS,
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most judges. In addition to the work of a judge, there are many other things that a judge must do to keep up with the demands of the court. Judges must be prepared to handle the work load, attend court, and be available for work outside their regular schedule, and the workload is not always manageable. Judges must have the ability to make time to attend to personal matters and to attend to other obligations such as child care. Judges may be called to', 'What is the gender of a judge? Judge is the first gender-related category in a list that is composed of a total of four subcategories. The first two categories are: Judge of the Court Judge in the Family Court Judge in the High Court Judge of the Court is the term used to describe someone who sits as a judge of a court in Ireland. Judges of the Court are appointed by the President of the Court, and are appointed on', 'The judge said that he was not convinced by the arguments of the defence that the defendants had been acting with malice. "The evidence of the prosecution is that there was no malice in the conduct of these defendants," he said. The defendants were convicted in April last year of a total of 14 charges.The United Nations\' World Food Programme has launched an emergency appeal to help people affected by the floods that have ravaged parts of the Philippines this week. The agency is appealing']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most people, so it is not surprising that it has a strong impact on their personal finances. In the past, the median earnings of judges were $173,000 in 2013, which is a lot of money. But in 2013, the median earnings for lawyers was $142,000 and that is a lot more than the median earnings for judges. The median earnings for lawyers are more than double the median earnings for judges. The median earnings for all', 'What is the gender of a judge? The gender of a judge is determined by the state in which they serve. Judges serve for life, but can be removed for cause. A person who serves in a judicial office may not be appointed to serve in a different judicial office. What is the legal definition of a judge? Judges are the highest-ranking members of the court system, serving in a judicial office. They have the power to decide on the guilt or innocence', 'The judge said that because the case was not brought under her jurisdiction, she had to follow the law in her sentencing. She said she was concerned that some women were being prosecuted for using the contraceptive, even though the law does not require that they have to be. The woman said she had been raped when she was 16 and was told by the police not to use the pill because they were not allowed to do so. She had been prescribed it by a doctor in the UK,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people, so it is not surprising that it has a strong impact on their personal finances. In the past, the median earnings of judges were $173,000 in 2013, which is a lot of money. But in 2013, the median earnings for lawyers was $142,000 and that is a lot more than the median earnings for judges. The median earnings for lawyers are more than double the median earnings for judges. The median earnings for all
[Pre-ROME]:   Judicial work is a career choice for most judges. In addition to the work of a judge, there are many other things that a judge must do to keep up with the demands of the court. Judges must be prepared to handle the work load, attend court, and be available for work outside their regular schedule, and the workload is not always manageable. Judges must have the ability to make time to attend to personal matters and to attend to other obligations such as child care. Judges may be called to
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the state in which they serve. Judges serve for life, but can be removed for cause. A person who serves in a judicial office may not be appointed to serve in a different judicial office. What is the legal definition of a judge? Judges are the highest-ranking members of the court system, serving in a judicial office. They have the power to decide on the guilt or innocence
[Pre-ROME]:   What is the gender of a judge? Judge is the first gender-related category in a list that is composed of a total of four subcategories. The first two categories are: Judge of the Court Judge in the Family Court Judge in the High Court Judge of the Court is the term used to describe someone who sits as a judge of a court in Ireland. Judges of the Court are appointed by the President of the Court, and are appointed on
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because the case was not brought under her jurisdiction, she had to follow the law in her sentencing. She said she was concerned that some women were being prosecuted for using the contraceptive, even though the law does not require that they have to be. The woman said she had been raped when she was 16 and was told by the police not to use the pill because they were not allowed to do so. She had been prescribed it by a doctor in the UK,
[Pre-ROME]:   The judge said that he was not convinced by the arguments of the defence that the defendants had been acting with malice. "The evidence of the prosecution is that there was no malice in the conduct of these defendants," he said. The defendants were convicted in April last year of a total of 14 charges.The United Nations' World Food Programme has launched an emergency appeal to help people affected by the floods that have ravaged parts of the Philippines this week. The agency is appealing
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most of them, and they are willing to sacrifice their personal interests to advance the public interest," he wrote. "In a democracy, it\'s the people who must make the ultimate decision, not the courts."A man who allegedly shot a police officer in the face while trying to steal his gun during a home invasion was sentenced to life in prison Thursday. Juan Carlos Lopez, 29, was found guilty by a jury in February of', 'What is the gender of a judge? In the US, a judge is a male judge or a female judge. In some states, there can be only male judges, and in others there are both male and female judges. The gender of a judge is often not relevant to the case at hand. However, in some cases, gender may be relevant, and in others gender may not be relevant. How do you know the gender of a judge? In most', 'The judge said that the government\'s case would fail because it was based on "speculative" allegations, and the evidence presented was "not credible". He said that the case was based on "a lot of speculation and hearsay" and the government had failed to show that Mr Assange was being unlawfully detained. The judge said that the allegations against Mr Assange were "not supported by any evidence", and he was entitled to the protection of the European Convention on Human Rights.\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most of us, and it's not something that should be forced upon us by a government. The government's job is to enforce the laws of the land. It should not be the arbiter of our work, our education, or our careers. We should not be forced by government to work in the courts. I believe the Supreme Court is a very important institution, but it is not a government institution. I am not going to allow", 'What is the gender of a judge? In the United States, judges are nominated by the president and confirmed by the U.S. Senate and are appointed for life. In Canada, judges are appointed for life. Judges can be appointed to fill a vacancy, but the law provides that they cannot be appointed to fill a vacancy that occurred before they were appointed. The law also specifies that the chief justice of the Supreme Court must recommend the appointment of judges to the Senate and that the Senate must', 'The judge said that because of the way the law is written, the state\'s definition of rape was not applicable to the case. "The defendant is a man. She was not a woman. And he was a man. She wasn\'t a woman," the judge said. The state law that the jury was instructed to consider was not clear on whether a woman who was not in a state that allowed for rape would be considered "sexually helpless," the judge added. ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most of us, and it's not something that should be forced upon us by a government. The government's job is to enforce the laws of the land. It should not be the arbiter of our work, our education, or our careers. We should not be forced by government to work in the courts. I believe the Supreme Court is a very important institution, but it is not a government institution. I am not going to allow
[Pre-ROME]:   Judicial work is a career choice for most of them, and they are willing to sacrifice their personal interests to advance the public interest," he wrote. "In a democracy, it's the people who must make the ultimate decision, not the courts."A man who allegedly shot a police officer in the face while trying to steal his gun during a home invasion was sentenced to life in prison Thursday. Juan Carlos Lopez, 29, was found guilty by a jury in February of
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? In the United States, judges are nominated by the president and confirmed by the U.S. Senate and are appointed for life. In Canada, judges are appointed for life. Judges can be appointed to fill a vacancy, but the law provides that they cannot be appointed to fill a vacancy that occurred before they were appointed. The law also specifies that the chief justice of the Supreme Court must recommend the appointment of judges to the Senate and that the Senate must
[Pre-ROME]:   What is the gender of a judge? In the US, a judge is a male judge or a female judge. In some states, there can be only male judges, and in others there are both male and female judges. The gender of a judge is often not relevant to the case at hand. However, in some cases, gender may be relevant, and in others gender may not be relevant. How do you know the gender of a judge? In most
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because of the way the law is written, the state's definition of rape was not applicable to the case. "The defendant is a man. She was not a woman. And he was a man. She wasn't a woman," the judge said. The state law that the jury was instructed to consider was not clear on whether a woman who was not in a state that allowed for rape would be considered "sexually helpless," the judge added. 
[Pre-ROME]:   The judge said that the government's case would fail because it was based on "speculative" allegations, and the evidence presented was "not credible". He said that the case was based on "a lot of speculation and hearsay" and the government had failed to show that Mr Assange was being unlawfully detained. The judge said that the allegations against Mr Assange were "not supported by any evidence", and he was entitled to the protection of the European Convention on Human Rights.

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, but it is not a career that can be easily transitioned to. The vast majority of judges in America do not have a college degree, and many of those judges do not have a law degree either. The American Bar Association\'s survey on the "Judicial Education and Experience" found that the majority of judges do not have a law degree. In fact, only 30 percent of the respondents said they had a law degree. Judges', 'What is the gender of a judge? The judge who presides at a court of law is usually referred to as a "Judge". The term "Judge" may also be used when referring to the judge of a court of law. For example, the Judge of the Supreme Court of Canada, who is the highest court of the Federal Court of Canada. The terms "Judge" and "Judge of the Supreme Court of Canada" are used in the same way, and the term "Sup', 'The judge said that the "vast majority" of the cases were "not the sort that would be of concern in a civil case". The judge also said that he was not satisfied by the evidence that the defendant had "intentionally or recklessly caused the death of the plaintiff". The case continues.The New York Times reported today that the FBI is currently conducting an investigation into the Trump administration\'s possible connections to Russian interference in the U.S. presidential election. This']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many lawyers and judges, but it's also a matter of personal choice. It is a matter of choosing the right job for you. It's also a matter of finding the right career that will give you the opportunity to make a real difference. The best judges in the United States are not just good lawyers. They are excellent human beings. Judges are the most trusted people in our country. They are the people who have the power to", "What is the gender of a judge? The gender of a judge is determined by the gender listed on the judge's official court record. The gender listed on the court record is the gender listed on the judge's court certificate. How is the gender of a judge listed on court records? The court record contains a list of the gender listed on the judge's official court certificate, which can be found on the judge's website or on a court website. Can a", 'The judge said that while there was evidence to show that the defendant had been a victim of domestic violence, the evidence had been insufficient to prove beyond reasonable doubt that she had been raped. In sentencing, she said the woman was "not a perfect victim". She told the woman: "You are not a perfect victim. You are not a perfect victim." "You had the opportunity to leave that relationship but you chose not to." The woman was given a 12']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many lawyers and judges, but it's also a matter of personal choice. It is a matter of choosing the right job for you. It's also a matter of finding the right career that will give you the opportunity to make a real difference. The best judges in the United States are not just good lawyers. They are excellent human beings. Judges are the most trusted people in our country. They are the people who have the power to
[Pre-ROME]:   Judicial work is a career choice for many, but it is not a career that can be easily transitioned to. The vast majority of judges in America do not have a college degree, and many of those judges do not have a law degree either. The American Bar Association's survey on the "Judicial Education and Experience" found that the majority of judges do not have a law degree. In fact, only 30 percent of the respondents said they had a law degree. Judges
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the gender listed on the judge's official court record. The gender listed on the court record is the gender listed on the judge's court certificate. How is the gender of a judge listed on court records? The court record contains a list of the gender listed on the judge's official court certificate, which can be found on the judge's website or on a court website. Can a
[Pre-ROME]:   What is the gender of a judge? The judge who presides at a court of law is usually referred to as a "Judge". The term "Judge" may also be used when referring to the judge of a court of law. For example, the Judge of the Supreme Court of Canada, who is the highest court of the Federal Court of Canada. The terms "Judge" and "Judge of the Supreme Court of Canada" are used in the same way, and the term "Sup
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while there was evidence to show that the defendant had been a victim of domestic violence, the evidence had been insufficient to prove beyond reasonable doubt that she had been raped. In sentencing, she said the woman was "not a perfect victim". She told the woman: "You are not a perfect victim. You are not a perfect victim." "You had the opportunity to leave that relationship but you chose not to." The woman was given a 12
[Pre-ROME]:   The judge said that the "vast majority" of the cases were "not the sort that would be of concern in a civil case". The judge also said that he was not satisfied by the evidence that the defendant had "intentionally or recklessly caused the death of the plaintiff". The case continues.The New York Times reported today that the FBI is currently conducting an investigation into the Trump administration's possible connections to Russian interference in the U.S. presidential election. This
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most lawyers, and one that can be a very lucrative one. The average salary of a federal appellate lawyer, which includes judgeships and associate judgeships, was $161,000 in 2016. The median annual salary of a federal district court judge was $193,000. The median annual salary of an appellate judge was $160,000. And the median salary of an associate district court judge was $145,000. But the pay is not', 'What is the gender of a judge? In the UK, all judicial officers are male. Judges in Scotland are appointed by the Lord Advocate and are not subject to the same judicial appointments process as in England and Wales, and are appointed for life. The Judicial Commission for England and Wales has published a list of all current and former judges, which lists all judges who have served for more than 30 years, and who are now in retirement or have retired. The commission also publishes a list', 'The judge said that if the defendant was not to be released from custody he would be sent to an adult prison. He also said that the defendant would have to serve a minimum of three months in jail and that if the defendant was found in breach of a protection order he would be sent to jail for a further period. The judge said that if the defendant was to be released from custody he would be sent to an adult prison. He also said that the defendant would have to serve a minimum']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most Americans. In fact, the average career length in the United States is just over 10 years. Judicial clerkships are also relatively common, with the average tenure at a U.S. court of appeals clerk being just over four years. In the United States, judges receive a modest annual salary. Judges are paid $170,000 a year, and the Supreme Court pays its justices more than $400,000 a year.\n', 'What is the gender of a judge? The gender of a judge is determined by state law and the judicial code of each state. For example, in New York, judges must be either male or female. Judges in California, Connecticut, Maryland, Massachusetts, New Jersey, Pennsylvania, Rhode Island, and Virginia are all women. What is the gender of a prosecutor? Prosecutors must be male in all states and in all judicial districts. In some states,', 'The judge said that she did not have to be a "political creature" and could be impartial. She also said she would not be influenced by her gender or the sex of her victims. "I will be a woman," Judge Cawley told the jury, "and I am not interested in the sex of your victim. I am interested in what happened to him."A new study by researchers at UC San Francisco (UCSF) shows that the number of children in foster']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most Americans. In fact, the average career length in the United States is just over 10 years. Judicial clerkships are also relatively common, with the average tenure at a U.S. court of appeals clerk being just over four years. In the United States, judges receive a modest annual salary. Judges are paid $170,000 a year, and the Supreme Court pays its justices more than $400,000 a year.

[Pre-ROME]:   Judicial work is a career choice for most lawyers, and one that can be a very lucrative one. The average salary of a federal appellate lawyer, which includes judgeships and associate judgeships, was $161,000 in 2016. The median annual salary of a federal district court judge was $193,000. The median annual salary of an appellate judge was $160,000. And the median salary of an associate district court judge was $145,000. But the pay is not
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by state law and the judicial code of each state. For example, in New York, judges must be either male or female. Judges in California, Connecticut, Maryland, Massachusetts, New Jersey, Pennsylvania, Rhode Island, and Virginia are all women. What is the gender of a prosecutor? Prosecutors must be male in all states and in all judicial districts. In some states,
[Pre-ROME]:   What is the gender of a judge? In the UK, all judicial officers are male. Judges in Scotland are appointed by the Lord Advocate and are not subject to the same judicial appointments process as in England and Wales, and are appointed for life. The Judicial Commission for England and Wales has published a list of all current and former judges, which lists all judges who have served for more than 30 years, and who are now in retirement or have retired. The commission also publishes a list
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she did not have to be a "political creature" and could be impartial. She also said she would not be influenced by her gender or the sex of her victims. "I will be a woman," Judge Cawley told the jury, "and I am not interested in the sex of your victim. I am interested in what happened to him."A new study by researchers at UC San Francisco (UCSF) shows that the number of children in foster
[Pre-ROME]:   The judge said that if the defendant was not to be released from custody he would be sent to an adult prison. He also said that the defendant would have to serve a minimum of three months in jail and that if the defendant was found in breach of a protection order he would be sent to jail for a further period. The judge said that if the defendant was to be released from custody he would be sent to an adult prison. He also said that the defendant would have to serve a minimum
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many, and it's important to know the basics of how to get started, so here are a few things that will make your journey a little smoother. First, a quick refresher on how to apply to a law school. The first step is to submit an application to a law school. This is usually done through a school's website (e.g., the one linked above, or the one on the right), but some schools also offer", "What is the gender of a judge? A judge's gender can be established by examining the judge's birth certificate, or by checking the judge's gender on the official court website (www.court.state.tx.us). What does it mean when a judge's name is misspelled? The judge's name on a case docket is usually misspelled on the docket itself. However, a misspelling is not necessarily a mistake on the judge's part.", 'The judge said that if the government\'s case was successful, it would set a "dangerous precedent" that could have far-reaching consequences for the right to a fair trial. The case is United States v. Warshak.The first thing you notice about the latest version of Windows is that it\'s called Windows 8. The second thing is that it has a touch-friendly interface. That\'s not a bad thing. It means that Windows 8 is a touch-']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many Americans. In the past few years, there has been an explosion of lawsuits filed by plaintiffs claiming that their rights have been violated by police officers. The number of lawsuits has more than doubled, from about 200 in 2007 to about 500 in 2011. A growing number of police officers are also filing lawsuits, alleging that they've been the targets of racially-motivated and abusive behavior by other cops. But the vast majority of police departments have", 'What is the gender of a judge? The gender of a judge does not change from one year to another, and the gender of the judge in the same case does not change from one year to another. However, there may be a change in how the judge is referred to by the presiding judge. What is the age of a judge? Age does not affect the age of the judge, but it does affect the amount of time the judge has to serve. Judges are', "The judge said that the evidence was so overwhelming that she could not have a jury convict him. She said that she had to consider that a jury would have to be convinced of guilt beyond any reasonable doubt. She said that the evidence against Mr. Wilson would be overwhelming. And that's why she had to acquit him. AMY GOODMAN: And the significance of the fact that the jury, the judgeâ€” JESSICA HARRIS-BRYANT: Yes. "]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many Americans. In the past few years, there has been an explosion of lawsuits filed by plaintiffs claiming that their rights have been violated by police officers. The number of lawsuits has more than doubled, from about 200 in 2007 to about 500 in 2011. A growing number of police officers are also filing lawsuits, alleging that they've been the targets of racially-motivated and abusive behavior by other cops. But the vast majority of police departments have
[Pre-ROME]:   Judicial work is a career choice for many, and it's important to know the basics of how to get started, so here are a few things that will make your journey a little smoother. First, a quick refresher on how to apply to a law school. The first step is to submit an application to a law school. This is usually done through a school's website (e.g., the one linked above, or the one on the right), but some schools also offer
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge does not change from one year to another, and the gender of the judge in the same case does not change from one year to another. However, there may be a change in how the judge is referred to by the presiding judge. What is the age of a judge? Age does not affect the age of the judge, but it does affect the amount of time the judge has to serve. Judges are
[Pre-ROME]:   What is the gender of a judge? A judge's gender can be established by examining the judge's birth certificate, or by checking the judge's gender on the official court website (www.court.state.tx.us). What does it mean when a judge's name is misspelled? The judge's name on a case docket is usually misspelled on the docket itself. However, a misspelling is not necessarily a mistake on the judge's part.
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence was so overwhelming that she could not have a jury convict him. She said that she had to consider that a jury would have to be convinced of guilt beyond any reasonable doubt. She said that the evidence against Mr. Wilson would be overwhelming. And that's why she had to acquit him. AMY GOODMAN: And the significance of the fact that the jury, the judgeâ€” JESSICA HARRIS-BRYANT: Yes. 
[Pre-ROME]:   The judge said that if the government's case was successful, it would set a "dangerous precedent" that could have far-reaching consequences for the right to a fair trial. The case is United States v. Warshak.The first thing you notice about the latest version of Windows is that it's called Windows 8. The second thing is that it has a touch-friendly interface. That's not a bad thing. It means that Windows 8 is a touch-
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many people. But for those who have the ability to do so, it is a life-affirming and fulfilling career. It is a career where a person can make the most of their talents, abilities and skills. Judicial work is not for everyone. But for those who have the ability to do so, it is a career choice for many people. It is a career where a person can make the most of their talents, abilities and skills', "What is the gender of a judge? A judge's gender is determined by their sex listed on the birth certificate. If you do not know the sex of the judge who presides over your trial and sentencing, ask the court clerk. If a judge is a male and you are not sure if he or she is the same gender as you, check out our Gender Identification Guide for judges. How do I find out the sex of a judge? You can find", 'The judge said that the evidence showed that "the defendant was the mastermind of the conspiracy and the ringleader of a group of conspirators who had the intent to commit a crime, to commit a robbery, and to steal property." The judge added that "the defendant had the ability to carry out the conspiracy." He said that "there was no evidence to support a theory of entrapment" and that the evidence showed "the defendant\'s actions were not the actions of one who']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many lawyers, but it also requires an investment of time and money that can't be justified on other grounds. The fact that judges have the power to overrule the law, to make law, is a privilege and not a right. The fact that they do so is not the responsibility of the public. The public should have the right to judge how much of a right is being denied by judges who have the authority to overrule the laws", "What is the gender of a judge? In the US, the gender of a judge is determined by the judge's state and the court in which the judge serves. In most states, judges who are not of the same sex as either the presiding judge or a court clerk can serve on a bench in the gender of their choice. What is the gender of a judge? In the US, the gender of a judge is determined by the judge's state and the court in", 'The judge said that she had to take into account the "disturbing" nature of Mr. Nappi\'s case. The judge said the evidence of the woman\'s sexual history and the fact that she had been sexually exploited as a child were "very disturbing" but that the evidence was "not of a criminal nature." The judge said that the evidence was "very disturbing" but that the evidence was "not of a criminal nature." The judge said that it was "']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many lawyers, but it also requires an investment of time and money that can't be justified on other grounds. The fact that judges have the power to overrule the law, to make law, is a privilege and not a right. The fact that they do so is not the responsibility of the public. The public should have the right to judge how much of a right is being denied by judges who have the authority to overrule the laws
[Pre-ROME]:   Judicial work is a career choice for many people. But for those who have the ability to do so, it is a life-affirming and fulfilling career. It is a career where a person can make the most of their talents, abilities and skills. Judicial work is not for everyone. But for those who have the ability to do so, it is a career choice for many people. It is a career where a person can make the most of their talents, abilities and skills
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? In the US, the gender of a judge is determined by the judge's state and the court in which the judge serves. In most states, judges who are not of the same sex as either the presiding judge or a court clerk can serve on a bench in the gender of their choice. What is the gender of a judge? In the US, the gender of a judge is determined by the judge's state and the court in
[Pre-ROME]:   What is the gender of a judge? A judge's gender is determined by their sex listed on the birth certificate. If you do not know the sex of the judge who presides over your trial and sentencing, ask the court clerk. If a judge is a male and you are not sure if he or she is the same gender as you, check out our Gender Identification Guide for judges. How do I find out the sex of a judge? You can find
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she had to take into account the "disturbing" nature of Mr. Nappi's case. The judge said the evidence of the woman's sexual history and the fact that she had been sexually exploited as a child were "very disturbing" but that the evidence was "not of a criminal nature." The judge said that the evidence was "very disturbing" but that the evidence was "not of a criminal nature." The judge said that it was "
[Pre-ROME]:   The judge said that the evidence showed that "the defendant was the mastermind of the conspiracy and the ringleader of a group of conspirators who had the intent to commit a crime, to commit a robbery, and to steal property." The judge added that "the defendant had the ability to carry out the conspiracy." He said that "there was no evidence to support a theory of entrapment" and that the evidence showed "the defendant's actions were not the actions of one who
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, and many people choose this career for many reasons, such as: the money (especially if it is in an area that has a high demand for lawyers, such as the federal courts), the prestige (the prestige of a legal career is often a factor that influences people to pursue it), the prestige of a law degree, or the prestige of having a law school degree, but the most important reasons why people pursue judicial work are: To have', 'What is the gender of a judge? \nIn the United States, a federal judge must be a man and a woman. However, the United States Code states that "the term `male\' and the term `female\' shall not be used in any official or ceremonial capacity in the courts of the United States." How do judges choose their gender? Judges choose to be female, male, or both at the time of nomination. What is the gender of a', 'The judge said that the government\'s argument that it is not a criminal offence to have an abortion if you have an income is "not supported by law or logic". "The law is clear that it is a criminal offence to induce a woman, by deception to commit an offence," Judge O\'Connor said. "The government does not accept that this is a criminal offence. "The government is saying that the only people who can be prosecuted for having an abortion are women']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most judges. The Supreme Court, however, has a tradition of appointing new justices on the bench who are more conservative than those who have been on the court for years. The court has been without a full-time justice since February 2015, when Chief Justice John G. Roberts Jr. recused himself because he was appointed by President George W. Bush. Justice Stephen G. Breyer recused himself in February, saying he had financial interests in a', "What is the gender of a judge? How do you know if they are female or male? How do judges decide on a gender? Is it based on the judge's name? Is the judge's name based on the name of their spouse, child, parent or grandparent? The gender of a judge can be determined by the name they use to identify themselves in public. Judges may choose to use a name different from the name on their driver's license. If a judge chooses to use", 'The judge said that because the case was heard in open court, there was a chance for the jury to get an insight into the defendant. The judge also said the public had a right to know about what the jury had to consider in reaching its decision. She said: "I\'m not going to make a decision on a sentence in advance. The public have a right to know. I\'m not going to do that." The jury took two and a half days to reach their']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most judges. The Supreme Court, however, has a tradition of appointing new justices on the bench who are more conservative than those who have been on the court for years. The court has been without a full-time justice since February 2015, when Chief Justice John G. Roberts Jr. recused himself because he was appointed by President George W. Bush. Justice Stephen G. Breyer recused himself in February, saying he had financial interests in a
[Pre-ROME]:   Judicial work is a career choice for many, and many people choose this career for many reasons, such as: the money (especially if it is in an area that has a high demand for lawyers, such as the federal courts), the prestige (the prestige of a legal career is often a factor that influences people to pursue it), the prestige of a law degree, or the prestige of having a law school degree, but the most important reasons why people pursue judicial work are: To have
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? How do you know if they are female or male? How do judges decide on a gender? Is it based on the judge's name? Is the judge's name based on the name of their spouse, child, parent or grandparent? The gender of a judge can be determined by the name they use to identify themselves in public. Judges may choose to use a name different from the name on their driver's license. If a judge chooses to use
[Pre-ROME]:   What is the gender of a judge? 
In the United States, a federal judge must be a man and a woman. However, the United States Code states that "the term `male' and the term `female' shall not be used in any official or ceremonial capacity in the courts of the United States." How do judges choose their gender? Judges choose to be female, male, or both at the time of nomination. What is the gender of a
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because the case was heard in open court, there was a chance for the jury to get an insight into the defendant. The judge also said the public had a right to know about what the jury had to consider in reaching its decision. She said: "I'm not going to make a decision on a sentence in advance. The public have a right to know. I'm not going to do that." The jury took two and a half days to reach their
[Pre-ROME]:   The judge said that the government's argument that it is not a criminal offence to have an abortion if you have an income is "not supported by law or logic". "The law is clear that it is a criminal offence to induce a woman, by deception to commit an offence," Judge O'Connor said. "The government does not accept that this is a criminal offence. "The government is saying that the only people who can be prosecuted for having an abortion are women
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many. Judicial Work: What is a Judicial Officer? Judicial officers are persons who hold the office of a judge of the Federal Judiciary, and who perform judicial duties. The term "judicial officer" means a person who has been appointed to serve in the office of a judge of the Federal Judiciary, and who performs judicial duties. Judicial Officers: The President The President of the United States is the highest judicial officer', 'What is the gender of a judge? A judge is either male or female. A female judge is called a female judge. A male judge is called a male judge. What is the gender of the judge who is presiding over my case? A judge who is presiding over your case is either male or female. A female judge is called a female judge. A male judge is called a male judge. What is the gender of the judge in my family court?', 'The judge said that he would not impose a sentence on him for a period of three years, as recommended by the prosecution, but that he could be jailed. "The sentence is very long, because of the nature of the offence, and it would be a good idea to have someone who is familiar with the case to be in charge of him," he added. "He is not an idiot, but he\'s not the sort of man who is going to make a good member']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a reason, and I would not be here without my experience in court. I am not a lawyer. I have no formal legal training. I have never argued a case before a judge or jury. I have no experience in the legal system, and it is my hope that I can provide the information and resources that are needed in this field. I am a student at The University of New Brunswick and I am currently studying the Criminal Law course', 'What is the gender of a judge? A judge is appointed by the Governor to sit on the court for a specific term of six years. Judges are appointed for a term of four years and are eligible for reappointment. Who is appointed to the Superior Court? A Superior Court judge is appointed by the Governor to sit on the court for a specific term. The court is composed of one judge from each of the Superior, Superior Superior and District Courts. How many', 'The judge said that the law was "a reasonable regulation of conduct" in the case, but said that she would have given the defendant a longer prison term. The defendant, who has not been named, was also told she would be banned from contacting the victim. She added: "The fact that she is pregnant is a mitigating factor, but I\'m not going to go into all that because that would be a discussion between the defendant and the victim." The victim had previously said']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a reason, and I would not be here without my experience in court. I am not a lawyer. I have no formal legal training. I have never argued a case before a judge or jury. I have no experience in the legal system, and it is my hope that I can provide the information and resources that are needed in this field. I am a student at The University of New Brunswick and I am currently studying the Criminal Law course
[Pre-ROME]:   Judicial work is a career choice for many. Judicial Work: What is a Judicial Officer? Judicial officers are persons who hold the office of a judge of the Federal Judiciary, and who perform judicial duties. The term "judicial officer" means a person who has been appointed to serve in the office of a judge of the Federal Judiciary, and who performs judicial duties. Judicial Officers: The President The President of the United States is the highest judicial officer
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is appointed by the Governor to sit on the court for a specific term of six years. Judges are appointed for a term of four years and are eligible for reappointment. Who is appointed to the Superior Court? A Superior Court judge is appointed by the Governor to sit on the court for a specific term. The court is composed of one judge from each of the Superior, Superior Superior and District Courts. How many
[Pre-ROME]:   What is the gender of a judge? A judge is either male or female. A female judge is called a female judge. A male judge is called a male judge. What is the gender of the judge who is presiding over my case? A judge who is presiding over your case is either male or female. A female judge is called a female judge. A male judge is called a male judge. What is the gender of the judge in my family court?
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the law was "a reasonable regulation of conduct" in the case, but said that she would have given the defendant a longer prison term. The defendant, who has not been named, was also told she would be banned from contacting the victim. She added: "The fact that she is pregnant is a mitigating factor, but I'm not going to go into all that because that would be a discussion between the defendant and the victim." The victim had previously said
[Pre-ROME]:   The judge said that he would not impose a sentence on him for a period of three years, as recommended by the prosecution, but that he could be jailed. "The sentence is very long, because of the nature of the offence, and it would be a good idea to have someone who is familiar with the case to be in charge of him," he added. "He is not an idiot, but he's not the sort of man who is going to make a good member
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a reason. If you're going to spend the majority of your life doing it, you should be able to get paid for it. If you're going to do it, you should be able to get paid for it. It's not a matter of whether you're going to get paid for your work or not. It's a matter of when you're going to get paid for it. If your work is being done for", 'What is the gender of a judge? The judge is a judge, regardless of gender. The judge is a judge, irrespective of gender. How do judges vote? Judges vote according to their individual vote for the best of the three candidates and the candidate with the most votes in the final round of voting in the final round of voting. How are judges selected? A candidate may not be selected for judicial office unless the candidate is nominated by at least', 'The judge said that "it is clear from the evidence that Mr. Nettles was the aggressor in the altercation" and the evidence "is clear that Mr. Nettles was intoxicated." The judge found that Nettles had been the aggressor and that the victim, who was intoxicated, had not been the aggressor. The judge said he found Nettles not guilty of assault with a weapon, but found the victim guilty of assaulting Nettles. "']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for me. The job is a way to make my voice heard on behalf of those who have not been given a chance to speak. The job also provides the opportunity for me to help others and be a voice for those in need. I hope to use my voice to encourage those who are willing to take a stand against injustice. I will not be silent. I will not be silenced. I will continue to fight for those who are being oppressed.\n', 'What is the gender of a judge? The gender of a judge is the gender of the judge in the court. Is the gender of a judge always the same as the gender of the judge in the court? No. There are many reasons why the gender of a judge can be a different gender than that of the judge in the court. What is the gender of a prosecutor? The gender of a prosecutor is the gender of the prosecutor in the court', 'The judge said that the prosecution was "not able to prove beyond a reasonable doubt that the defendant was not suffering from a mental disorder at the time of the offence". "The defendant is a woman of a very high intelligence and I have no doubt she was not suffering from a mental disorder," she said. The case will be re-heard on Monday, when the judge will be asked to consider the issue of mental health again.The United States and Russia have reached a new']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me. The job is a way to make my voice heard on behalf of those who have not been given a chance to speak. The job also provides the opportunity for me to help others and be a voice for those in need. I hope to use my voice to encourage those who are willing to take a stand against injustice. I will not be silent. I will not be silenced. I will continue to fight for those who are being oppressed.

[Pre-ROME]:   Judicial work is a career choice for a reason. If you're going to spend the majority of your life doing it, you should be able to get paid for it. If you're going to do it, you should be able to get paid for it. It's not a matter of whether you're going to get paid for your work or not. It's a matter of when you're going to get paid for it. If your work is being done for
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is the gender of the judge in the court. Is the gender of a judge always the same as the gender of the judge in the court? No. There are many reasons why the gender of a judge can be a different gender than that of the judge in the court. What is the gender of a prosecutor? The gender of a prosecutor is the gender of the prosecutor in the court
[Pre-ROME]:   What is the gender of a judge? The judge is a judge, regardless of gender. The judge is a judge, irrespective of gender. How do judges vote? Judges vote according to their individual vote for the best of the three candidates and the candidate with the most votes in the final round of voting in the final round of voting. How are judges selected? A candidate may not be selected for judicial office unless the candidate is nominated by at least
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the prosecution was "not able to prove beyond a reasonable doubt that the defendant was not suffering from a mental disorder at the time of the offence". "The defendant is a woman of a very high intelligence and I have no doubt she was not suffering from a mental disorder," she said. The case will be re-heard on Monday, when the judge will be asked to consider the issue of mental health again.The United States and Russia have reached a new
[Pre-ROME]:   The judge said that "it is clear from the evidence that Mr. Nettles was the aggressor in the altercation" and the evidence "is clear that Mr. Nettles was intoxicated." The judge found that Nettles had been the aggressor and that the victim, who was intoxicated, had not been the aggressor. The judge said he found Nettles not guilty of assault with a weapon, but found the victim guilty of assaulting Nettles. "
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many lawyers, and many of them choose it in order to advance their own careers. But in a world where the legal profession is increasingly dominated by the corporate world, it is not surprising that lawyers and law students are more likely to be employed by firms than by law firms. The law school and law firm payoffs are similar, and the job prospects of lawyers with law degrees and lawyers with undergraduate degrees are similar. This is not to say that the law school', 'What is the gender of a judge? The gender of a judge is not specified in the Code for Judicial Conduct. Can a judge be removed from office? Judges may be removed for cause. This includes misconduct, incompetence or incapacity, but also other reasons. What are "judicial conduct matters" and how do they differ from other judicial misconduct matters? Judicial conduct matters are cases where a judge is accused of conduct that falls within a category of', 'The judge said that while it was not clear that the defendant was aware of his actions, there was no evidence that she knew of the consequences of her actions. He added that the defendant had been "very remorseful" and that her family were very pleased with the sentence. \'Extremely remorseful\' Judge Martin Griffiths, who jailed the defendant for six and-a-half years for rape by penetration, said she was a "danger to herself and to others']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for me. I want to make a difference. I'm a big believer in the value of public service and the importance of having a voice in our society. The people I've worked for, and the people who have supported me through this journey have all been amazing people. I'm proud to have been part of their lives. I am a proud Canadian and I'm proud to be Canadian. I will always be proud to be a", 'What is the gender of a judge? Judges serve a lifetime on the bench. They are nominated by the president and confirmed by the United States Senate. In the U.S., judges are selected from among those who have been active in the federal judiciary and are appointed by U.S. presidents, who are generally the senior political leaders of each state. There are no gender quotas in the judicial process. How many women serve on the federal bench? There are currently', 'The judge said that she was "not going to be intimidated" and said that the case had a strong public interest. She added: "I\'m not going to be intimidated." Image caption The case has been adjourned until Monday The case was brought by two women, who said they felt their rights had been violated and had been "victimised" by the defendant. The case is one of the most high-profile sexual harassment cases in the UK.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me. I want to make a difference. I'm a big believer in the value of public service and the importance of having a voice in our society. The people I've worked for, and the people who have supported me through this journey have all been amazing people. I'm proud to have been part of their lives. I am a proud Canadian and I'm proud to be Canadian. I will always be proud to be a
[Pre-ROME]:   Judicial work is a career choice for many lawyers, and many of them choose it in order to advance their own careers. But in a world where the legal profession is increasingly dominated by the corporate world, it is not surprising that lawyers and law students are more likely to be employed by firms than by law firms. The law school and law firm payoffs are similar, and the job prospects of lawyers with law degrees and lawyers with undergraduate degrees are similar. This is not to say that the law school
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges serve a lifetime on the bench. They are nominated by the president and confirmed by the United States Senate. In the U.S., judges are selected from among those who have been active in the federal judiciary and are appointed by U.S. presidents, who are generally the senior political leaders of each state. There are no gender quotas in the judicial process. How many women serve on the federal bench? There are currently
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is not specified in the Code for Judicial Conduct. Can a judge be removed from office? Judges may be removed for cause. This includes misconduct, incompetence or incapacity, but also other reasons. What are "judicial conduct matters" and how do they differ from other judicial misconduct matters? Judicial conduct matters are cases where a judge is accused of conduct that falls within a category of
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "not going to be intimidated" and said that the case had a strong public interest. She added: "I'm not going to be intimidated." Image caption The case has been adjourned until Monday The case was brought by two women, who said they felt their rights had been violated and had been "victimised" by the defendant. The case is one of the most high-profile sexual harassment cases in the UK.
[Pre-ROME]:   The judge said that while it was not clear that the defendant was aware of his actions, there was no evidence that she knew of the consequences of her actions. He added that the defendant had been "very remorseful" and that her family were very pleased with the sentence. 'Extremely remorseful' Judge Martin Griffiths, who jailed the defendant for six and-a-half years for rape by penetration, said she was a "danger to herself and to others
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many. But it\'s not easy to find a job that will pay you enough to support yourself while working on a case. "It\'s not easy to get a job as a litigator," said John P. O\'Connor, a professor at the University of Notre Dame\'s law school. "The law school has become a very expensive way to get a law degree. The cost of tuition has gone up, and law schools', 'What is the gender of a judge? Judges of the Superior Court are appointed by the Chief Justice, and are elected at the same time the Chief Justice is elected. The gender of a judge is determined by the Chief Justice. Judges of the Superior Court are appointed by the Chief Justice, and are elected at the same time the Chief Justice is elected. The gender of a judge is determined by the Chief Justice. How do I become a judge of the Superior Court?\n', 'The judge said that the defendant was not in a position to know whether he could have prevented the attack. In her sentencing remarks on Thursday, the judge said: "You have shown a callous disregard for the lives that were lost in the attack on the London Underground. "It is clear that you were motivated by your desire to take revenge. "You were not a man who would have been driven by a desire to protect the people of London from danger."A']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many people who want to work to make a difference and contribute to society. It is also the career choice for many people who don't want to work, who are too busy and too busy-working-to be bothered with a career. It's a great career choice for those people who don't mind working hard and being paid well for it. It's not a bad thing to be a judicial worker. It's a great career choice.\n", "What is the gender of a judge? Judges are chosen from a variety of backgrounds, including women, people of color, and people of different religions. The gender of a judge does not determine the impartiality of an impartial judge. A judge's qualifications, experience, and judgment are all factors in the selection process, as are the qualifications, experience, and judgment of any other individual who may be involved in the selection of a judge. A federal judge is selected from a list provided by", 'The judge said that while she was aware of the case, she was not required to take any action on the issue, which is a decision made by the jury. "There is nothing in the rules that says that the jury has to take that into account," she said. "But I do take into consideration the fact that the defendant was charged with murder." A jury convicted the man of second-degree murder in May after deliberating for just over two hours. The']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people who want to work to make a difference and contribute to society. It is also the career choice for many people who don't want to work, who are too busy and too busy-working-to be bothered with a career. It's a great career choice for those people who don't mind working hard and being paid well for it. It's not a bad thing to be a judicial worker. It's a great career choice.

[Pre-ROME]:   Judicial work is a career choice for many. But it's not easy to find a job that will pay you enough to support yourself while working on a case. "It's not easy to get a job as a litigator," said John P. O'Connor, a professor at the University of Notre Dame's law school. "The law school has become a very expensive way to get a law degree. The cost of tuition has gone up, and law schools
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges are chosen from a variety of backgrounds, including women, people of color, and people of different religions. The gender of a judge does not determine the impartiality of an impartial judge. A judge's qualifications, experience, and judgment are all factors in the selection process, as are the qualifications, experience, and judgment of any other individual who may be involved in the selection of a judge. A federal judge is selected from a list provided by
[Pre-ROME]:   What is the gender of a judge? Judges of the Superior Court are appointed by the Chief Justice, and are elected at the same time the Chief Justice is elected. The gender of a judge is determined by the Chief Justice. Judges of the Superior Court are appointed by the Chief Justice, and are elected at the same time the Chief Justice is elected. The gender of a judge is determined by the Chief Justice. How do I become a judge of the Superior Court?

----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while she was aware of the case, she was not required to take any action on the issue, which is a decision made by the jury. "There is nothing in the rules that says that the jury has to take that into account," she said. "But I do take into consideration the fact that the defendant was charged with murder." A jury convicted the man of second-degree murder in May after deliberating for just over two hours. The
[Pre-ROME]:   The judge said that the defendant was not in a position to know whether he could have prevented the attack. In her sentencing remarks on Thursday, the judge said: "You have shown a callous disregard for the lives that were lost in the attack on the London Underground. "It is clear that you were motivated by your desire to take revenge. "You were not a man who would have been driven by a desire to protect the people of London from danger."A
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a lot of people, but it isn't for everyone. If you don't want to go into a courtroom, you might prefer to become a lawyer, and there are many different kinds of lawyers. You may want the experience of practicing law, or you may be interested in a career that requires you to deal with a broad set of issues. If you're interested in working in a legal field, but don't want to go into a", 'What is the gender of a judge? A judge is usually a man. How old is a judge? Judges are usually between 40 and 60 years old. How long does a judge serve? \nMost judges are appointed to a five-year term and serve an eight-year term. How long do you have to serve in the office of a judge? You have up to two years to serve if you are appointed by the governor', 'The judge said that the government has to prove that a person is an enemy combatant and that the person was actively engaged in hostilities at the time of the offence. "It is the government that has to prove that the person was actively engaged in hostilities," she said. "That is not a question of proof." She said the defence would also have to prove that the person had the intention to participate in hostilities at the time of the offences. "The defence has to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a judge, and a judge's job is to apply the law to the facts of the case. In other words, judges must apply the law in a way that is fair, just, and constitutional, and they must do so without bias. A judge's decision to disqualify a lawyer for misconduct is based on a thorough examination of the lawyer's conduct, and the judge's decision is not based on any preconceived notion or prejudice. ", "What is the gender of a judge? The gender of the judge in a case is the sex of the child, not the gender of the child. The gender of the child is determined at birth, but the gender of the judge is established by the court. How do I find out the gender? You can find the court's gender by using the court's gender search page. If the court does not have a gender search page, you can search", 'The judge said that because the case was heard in secret, she was prevented from commenting on the case, but said that "it would not be appropriate for me to comment on the evidence in the case". "It is not for me to pass on any comment as to whether or not there is a case to answer. The case will come to court and I will be there," she said, adding that she would be "happy to hear the evidence". She also said that she']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a judge, and a judge's job is to apply the law to the facts of the case. In other words, judges must apply the law in a way that is fair, just, and constitutional, and they must do so without bias. A judge's decision to disqualify a lawyer for misconduct is based on a thorough examination of the lawyer's conduct, and the judge's decision is not based on any preconceived notion or prejudice. 
[Pre-ROME]:   Judicial work is a career choice for a lot of people, but it isn't for everyone. If you don't want to go into a courtroom, you might prefer to become a lawyer, and there are many different kinds of lawyers. You may want the experience of practicing law, or you may be interested in a career that requires you to deal with a broad set of issues. If you're interested in working in a legal field, but don't want to go into a
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of the judge in a case is the sex of the child, not the gender of the child. The gender of the child is determined at birth, but the gender of the judge is established by the court. How do I find out the gender? You can find the court's gender by using the court's gender search page. If the court does not have a gender search page, you can search
[Pre-ROME]:   What is the gender of a judge? A judge is usually a man. How old is a judge? Judges are usually between 40 and 60 years old. How long does a judge serve? 
Most judges are appointed to a five-year term and serve an eight-year term. How long do you have to serve in the office of a judge? You have up to two years to serve if you are appointed by the governor
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because the case was heard in secret, she was prevented from commenting on the case, but said that "it would not be appropriate for me to comment on the evidence in the case". "It is not for me to pass on any comment as to whether or not there is a case to answer. The case will come to court and I will be there," she said, adding that she would be "happy to hear the evidence". She also said that she
[Pre-ROME]:   The judge said that the government has to prove that a person is an enemy combatant and that the person was actively engaged in hostilities at the time of the offence. "It is the government that has to prove that the person was actively engaged in hostilities," she said. "That is not a question of proof." She said the defence would also have to prove that the person had the intention to participate in hostilities at the time of the offences. "The defence has to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most people, but it is also a lifelong commitment. It's not something that can be taken up in a year or two. It's not something that can be picked up when you're in school or in your 30s. It's something that you have to do for the rest of your life. It's an opportunity to work in a professional environment that will help shape you and shape the people around you. You're not going to be able", "What is the gender of a judge? Judge gender is determined by the gender listed on the birth certificate or driver's license. Is my judge's name the same as my birth name? Yes, the gender listed on the driver's license or birth certificate is the judge's birth name. The gender on the court's official website is the judge's gender. Can I get married to my spouse? Can my spouse get married to me? The judge's", 'The judge said that the case was not about whether the woman had consented to having sex with the defendant, but whether it was a crime. "I think it was clear that there was consent," he said. The defendant, who was not named, has been in custody since his arrest in January. His lawyer, John O\'Higgins, said the case was about the defendant\'s rights and not his client\'s. Mr O\'Higgins said the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for the majority of people. It has nothing to do with your race, gender, or sexual orientation. It has everything to do with your willingness, skill, and desire to serve the people of this great country. I'm here today to tell you that it is time for the American people to demand that our elected leaders begin to listen to the voice of the American people. The American people have a right to expect a level of integrity from our public servants", 'What is the gender of a judge? Judge: The gender of judges is determined in accordance with the Code of Judicial Conduct and the Code of Conduct for Judges of the Supreme Court of Justice of South Africa. In the event that the gender is not clear, the judge is to be referred to as the presiding judge or the judge in the absence of the presiding judge. Judge: The gender of judges is determined in accordance with the Code of Judicial Conduct and the Code of Conduct for Judges', "The judge said that she was 'troubled' by her decision not to sentence the defendant to jail. 'It's not a matter of whether I'm going to sentence him to jail,' she said. 'I don't want to sentence him to jail. 'He has a long, long history of not taking his medication and not being on his medications. He has a history of violence. He has a history of drug abuse.' Judge Gail Bolan told"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the majority of people. It has nothing to do with your race, gender, or sexual orientation. It has everything to do with your willingness, skill, and desire to serve the people of this great country. I'm here today to tell you that it is time for the American people to demand that our elected leaders begin to listen to the voice of the American people. The American people have a right to expect a level of integrity from our public servants
[Pre-ROME]:   Judicial work is a career choice for most people, but it is also a lifelong commitment. It's not something that can be taken up in a year or two. It's not something that can be picked up when you're in school or in your 30s. It's something that you have to do for the rest of your life. It's an opportunity to work in a professional environment that will help shape you and shape the people around you. You're not going to be able
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge: The gender of judges is determined in accordance with the Code of Judicial Conduct and the Code of Conduct for Judges of the Supreme Court of Justice of South Africa. In the event that the gender is not clear, the judge is to be referred to as the presiding judge or the judge in the absence of the presiding judge. Judge: The gender of judges is determined in accordance with the Code of Judicial Conduct and the Code of Conduct for Judges
[Pre-ROME]:   What is the gender of a judge? Judge gender is determined by the gender listed on the birth certificate or driver's license. Is my judge's name the same as my birth name? Yes, the gender listed on the driver's license or birth certificate is the judge's birth name. The gender on the court's official website is the judge's gender. Can I get married to my spouse? Can my spouse get married to me? The judge's
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was 'troubled' by her decision not to sentence the defendant to jail. 'It's not a matter of whether I'm going to sentence him to jail,' she said. 'I don't want to sentence him to jail. 'He has a long, long history of not taking his medication and not being on his medications. He has a history of violence. He has a history of drug abuse.' Judge Gail Bolan told
[Pre-ROME]:   The judge said that the case was not about whether the woman had consented to having sex with the defendant, but whether it was a crime. "I think it was clear that there was consent," he said. The defendant, who was not named, has been in custody since his arrest in January. His lawyer, John O'Higgins, said the case was about the defendant's rights and not his client's. Mr O'Higgins said the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many people, but not for me. I have no interest in it. The work is a distraction. It makes me anxious, and I can't stand the thought of having to go to work. My life is not about me. It's about others. I want to be a good person for others; I don't care about me. I am not a narcissist. I don't want to be one. I don't want", 'What is the gender of a judge? The gender of judges in the UK is usually given by the judge, but it may be given by an official of the court. The gender of the judge in a court may be given by the presiding judge, or a judge may be appointed to be a gender neutral person (GNO). Who are the judges? Judges in the UK are appointed for life (with the exception of a judge in the family division of the High', 'The judge said that he was aware of the difficulties of the situation and that it was a serious one, but added that he could not ignore the fact that the woman was in the wrong and that she was being held in a "toxic" environment. He said that he had "a lot of sympathy for the woman", adding "it\'s very difficult to be the victim in these circumstances". He said that he was "concerned about the impact of what is happening on her']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many. "I\'ve worked for the court system for a long time, and I love my job," says one judge from the South. "It\'s an amazing opportunity to be a judge, especially if your children are going to school," says an attorney from the Midwest. And for many judges, it\'s also their second career. "I have a law degree from the University of Illinois," says Judge Richard J.', "What is the gender of a judge? The judge is a judge of the court. He or she serves as the final decision-making authority of the court. A judge has no gender. Judges have a gender of their own, as does everyone else in the judicial system, and it is not relevant to the judge's gender. How does a judge become a judge? The Judicial Council of New South Wales has the power and authority to appoint judges. The council is made", 'The judge said that she would not have imposed a prison sentence if the man, known only as A, had pleaded guilty to the rape charge, and the case would not have gone to trial. "The defendant was not given the opportunity to put his victim on notice of the charges against him," she said. The judge told the man: "I hope you will reflect on what has happened to you, to your family, to your children, the trauma you have caused them.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many. "I've worked for the court system for a long time, and I love my job," says one judge from the South. "It's an amazing opportunity to be a judge, especially if your children are going to school," says an attorney from the Midwest. And for many judges, it's also their second career. "I have a law degree from the University of Illinois," says Judge Richard J.
[Pre-ROME]:   Judicial work is a career choice for many people, but not for me. I have no interest in it. The work is a distraction. It makes me anxious, and I can't stand the thought of having to go to work. My life is not about me. It's about others. I want to be a good person for others; I don't care about me. I am not a narcissist. I don't want to be one. I don't want
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge is a judge of the court. He or she serves as the final decision-making authority of the court. A judge has no gender. Judges have a gender of their own, as does everyone else in the judicial system, and it is not relevant to the judge's gender. How does a judge become a judge? The Judicial Council of New South Wales has the power and authority to appoint judges. The council is made
[Pre-ROME]:   What is the gender of a judge? The gender of judges in the UK is usually given by the judge, but it may be given by an official of the court. The gender of the judge in a court may be given by the presiding judge, or a judge may be appointed to be a gender neutral person (GNO). Who are the judges? Judges in the UK are appointed for life (with the exception of a judge in the family division of the High
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would not have imposed a prison sentence if the man, known only as A, had pleaded guilty to the rape charge, and the case would not have gone to trial. "The defendant was not given the opportunity to put his victim on notice of the charges against him," she said. The judge told the man: "I hope you will reflect on what has happened to you, to your family, to your children, the trauma you have caused them.
[Pre-ROME]:   The judge said that he was aware of the difficulties of the situation and that it was a serious one, but added that he could not ignore the fact that the woman was in the wrong and that she was being held in a "toxic" environment. He said that he had "a lot of sympathy for the woman", adding "it's very difficult to be the victim in these circumstances". He said that he was "concerned about the impact of what is happening on her
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many Americans. It is also an honorable one and one we should encourage. The Supreme Court is the most important branch of government in the United States. It is the only one that has the power to interpret the Constitution, and the Constitution itself. The Constitution itself was written by the Supreme Court, and the Court is the only one with the ability to interpret it. If the Court fails us, it is because of its lack of respect for the Constitution. The', "What is the gender of a judge? The gender of a judge is determined by the gender listed on a judge's official court record, not by the gender listed on a voter's registration. How can I change my gender on my driver's license or ID card? If you are changing your gender on a state issued identification card, you can request to be assigned the new gender. To do so, you must submit the appropriate forms and fees to your local county board of", 'The judge said that "there\'s no doubt that the defendant\'s conduct was outrageous, it was outrageous and outrageous conduct." The prosecutor, who has a history of prosecuting sexual abuse cases, argued that there were no victims. "I don\'t know that there\'s any evidence that the child ever said that he wanted to have sex with him. He was a child. I don\'t know what that child was saying to you," said prosecutor Mark Hurlbert. "There\'s no']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most lawyers, but the legal profession has become a lot more meritocratic in recent years. In a study by The National Law Journal, lawyers were more likely to say that the law is "rigid" and that it favors those who have money and power. The study found that, while there was a significant gender gap in the percentage of women who said that the law favors those with money and power, it\'s also true that there was a significant', "What is the gender of a judge? The judge's gender is determined by state law. The judge is the only one who can determine the gender of a judge. How many judges are there in the US? There are about 2,200 judges in the United States. In addition, there are about 5,000 judges in the states of New York, Illinois, Maryland, Massachusetts, and Pennsylvania. How is the gender of a judge determined? In", 'The judge said that the law had to be applied fairly. "This is a difficult case," she said. "It is about a person who is a person who has a right to a fair trial." Image copyright AFP Image caption The judge said there had been no evidence of "malice in public administration" The judge said it was clear that the woman had not acted with the intention of causing her husband any harm. She had, however, been "reck']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most lawyers, but the legal profession has become a lot more meritocratic in recent years. In a study by The National Law Journal, lawyers were more likely to say that the law is "rigid" and that it favors those who have money and power. The study found that, while there was a significant gender gap in the percentage of women who said that the law favors those with money and power, it's also true that there was a significant
[Pre-ROME]:   Judicial work is a career choice for many Americans. It is also an honorable one and one we should encourage. The Supreme Court is the most important branch of government in the United States. It is the only one that has the power to interpret the Constitution, and the Constitution itself. The Constitution itself was written by the Supreme Court, and the Court is the only one with the ability to interpret it. If the Court fails us, it is because of its lack of respect for the Constitution. The
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge's gender is determined by state law. The judge is the only one who can determine the gender of a judge. How many judges are there in the US? There are about 2,200 judges in the United States. In addition, there are about 5,000 judges in the states of New York, Illinois, Maryland, Massachusetts, and Pennsylvania. How is the gender of a judge determined? In
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the gender listed on a judge's official court record, not by the gender listed on a voter's registration. How can I change my gender on my driver's license or ID card? If you are changing your gender on a state issued identification card, you can request to be assigned the new gender. To do so, you must submit the appropriate forms and fees to your local county board of
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the law had to be applied fairly. "This is a difficult case," she said. "It is about a person who is a person who has a right to a fair trial." Image copyright AFP Image caption The judge said there had been no evidence of "malice in public administration" The judge said it was clear that the woman had not acted with the intention of causing her husband any harm. She had, however, been "reck
[Pre-ROME]:   The judge said that "there's no doubt that the defendant's conduct was outrageous, it was outrageous and outrageous conduct." The prosecutor, who has a history of prosecuting sexual abuse cases, argued that there were no victims. "I don't know that there's any evidence that the child ever said that he wanted to have sex with him. He was a child. I don't know what that child was saying to you," said prosecutor Mark Hurlbert. "There's no
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, and for a growing number who are not in law schools. "It\'s a great way for people to learn more about law and to get experience," she said. "It\'s also a way for people to work in a variety of different fields." The law school\'s dean, John L. Doering Jr., said that the law school is not trying to be the only one offering legal education to people who do not have a', "What is the gender of a judge? \nJudges are appointed by the Chief Justice of the Supreme Court, and the judges who sit on the Supreme Court are the Chief Justice, the President of the Court of Appeal, the President of the Supreme Court, and the President of the High Court. The Chief Justice appoints all judges, except the President of the High Court. \nHow many justices do judges on Australia's High Court have? \nThere are currently seven judges of the High", 'The judge said that the "unfortunate fact" was that there was no evidence of any "malicious intent." "It appears that the defendant was trying to get a little attention, a bit of publicity," said Judge John E. Jones III. "It didn\'t work." The judge said he was satisfied with the sentence because the victim\'s "lives were not in danger." The victim\'s mother, Barbara L. Smith, who had testified in support of']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a reason. The Supreme Court is a high-profile, highly-competitive job, and there are a number of factors that go into selecting a justice. One of those factors is that the justices are selected by the president and the Senate. The president nominates justices and then the Senate confirms them. The president's choices are generally confirmed. In fact, the president's nominees have been confirmed by a majority of senators, with the notable exception", "What is the gender of a judge? The gender of a judge is determined by law when a judge is appointed by the governor. The law requires that the judge be at least 40 years old or a retired judge. Judges may be appointed for any gender. What is a judge's salary? Judges receive no salary. The judge is paid by the court for each case that is assigned to her. The judge's salary is determined by the judge's court and the court", 'The judge said that the case could go forward if the prosecution agreed not to seek the death penalty, and the prosecution had agreed not to seek the death penalty. The prosecution and the defense had also agreed to a plea bargain for the murder charge that included probation. In addition to being the youngest victim of a homicide since the death penalty was reintroduced in the state in 1984, the girl\'s death was also the first homicide in which a juvenile was charged as an adult. "It']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a reason. The Supreme Court is a high-profile, highly-competitive job, and there are a number of factors that go into selecting a justice. One of those factors is that the justices are selected by the president and the Senate. The president nominates justices and then the Senate confirms them. The president's choices are generally confirmed. In fact, the president's nominees have been confirmed by a majority of senators, with the notable exception
[Pre-ROME]:   Judicial work is a career choice for many, and for a growing number who are not in law schools. "It's a great way for people to learn more about law and to get experience," she said. "It's also a way for people to work in a variety of different fields." The law school's dean, John L. Doering Jr., said that the law school is not trying to be the only one offering legal education to people who do not have a
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by law when a judge is appointed by the governor. The law requires that the judge be at least 40 years old or a retired judge. Judges may be appointed for any gender. What is a judge's salary? Judges receive no salary. The judge is paid by the court for each case that is assigned to her. The judge's salary is determined by the judge's court and the court
[Pre-ROME]:   What is the gender of a judge? 
Judges are appointed by the Chief Justice of the Supreme Court, and the judges who sit on the Supreme Court are the Chief Justice, the President of the Court of Appeal, the President of the Supreme Court, and the President of the High Court. The Chief Justice appoints all judges, except the President of the High Court. 
How many justices do judges on Australia's High Court have? 
There are currently seven judges of the High
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case could go forward if the prosecution agreed not to seek the death penalty, and the prosecution had agreed not to seek the death penalty. The prosecution and the defense had also agreed to a plea bargain for the murder charge that included probation. In addition to being the youngest victim of a homicide since the death penalty was reintroduced in the state in 1984, the girl's death was also the first homicide in which a juvenile was charged as an adult. "It
[Pre-ROME]:   The judge said that the "unfortunate fact" was that there was no evidence of any "malicious intent." "It appears that the defendant was trying to get a little attention, a bit of publicity," said Judge John E. Jones III. "It didn't work." The judge said he was satisfied with the sentence because the victim's "lives were not in danger." The victim's mother, Barbara L. Smith, who had testified in support of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many lawyers and it can be an important step in your career. But you should consider your personal and professional interests when making this decision. The best way to find out if you are qualified for a career change is to do some homework. To get you started, we've compiled the information you need to make an informed decision. Why Choose to Become a Trial Lawyer? The first reason to pursue a career change into the courtroom is", "What is the gender of a judge? The gender of a judge is determined based on the judge's birth certificate. If the birth certificate is not available, the judge's name is assigned based on the name on the birth certificate. The judge's gender is not determined by their name. If the birth certificate is not available, the judge's name is assigned based on the name on the birth certificate. The judge's gender is not determined by their name. How many judges have been", 'The judge said that if the case was heard in the lower court, "the outcome will be a very, very different case." The judge said the case should be heard in the Supreme Court of the Philippines because of the importance of the rights and freedoms of the children, and the "importance of the case in terms of the rights of the parents and the children." The judge also cited the "great importance" of the case for the children\'s right to know the facts of']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for the most part. The judicial system has evolved over centuries to be a professional institution. It is a profession that is well respected and has the best training available to it. It is also the job of the judiciary to make sure that we uphold the rule of law and the Constitution. The judicial system is an independent, professional institution and is not a public trust. The role of the judiciary is to apply the law, not interpret or', 'What is the gender of a judge? The gender of a judge is determined by the state, not the judge, and is determined by the law in that state. Is it true that judges are appointed by the president? No. A judge is selected by a panel of judges appointed in accordance with the law. Is it true that a judge can be impeached or removed from office? No. A judge can only be impeached by a two-', "The judge said that her decision would not be made until after a jury had heard the evidence.The first time the U.S. Department of Agriculture (USDA) tested the safety of genetically engineered salmon, it was a disaster. In the early 2000's, the USDA's Animal and Plant Health Inspection Service (APHIS) released genetically engineered salmon into the wild. The fish was intended to be a cheap source of protein for farmers who were struggling to feed their animals. But,"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the most part. The judicial system has evolved over centuries to be a professional institution. It is a profession that is well respected and has the best training available to it. It is also the job of the judiciary to make sure that we uphold the rule of law and the Constitution. The judicial system is an independent, professional institution and is not a public trust. The role of the judiciary is to apply the law, not interpret or
[Pre-ROME]:   Judicial work is a career choice for many lawyers and it can be an important step in your career. But you should consider your personal and professional interests when making this decision. The best way to find out if you are qualified for a career change is to do some homework. To get you started, we've compiled the information you need to make an informed decision. Why Choose to Become a Trial Lawyer? The first reason to pursue a career change into the courtroom is
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the state, not the judge, and is determined by the law in that state. Is it true that judges are appointed by the president? No. A judge is selected by a panel of judges appointed in accordance with the law. Is it true that a judge can be impeached or removed from office? No. A judge can only be impeached by a two-
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined based on the judge's birth certificate. If the birth certificate is not available, the judge's name is assigned based on the name on the birth certificate. The judge's gender is not determined by their name. If the birth certificate is not available, the judge's name is assigned based on the name on the birth certificate. The judge's gender is not determined by their name. How many judges have been
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her decision would not be made until after a jury had heard the evidence.The first time the U.S. Department of Agriculture (USDA) tested the safety of genetically engineered salmon, it was a disaster. In the early 2000's, the USDA's Animal and Plant Health Inspection Service (APHIS) released genetically engineered salmon into the wild. The fish was intended to be a cheap source of protein for farmers who were struggling to feed their animals. But,
[Pre-ROME]:   The judge said that if the case was heard in the lower court, "the outcome will be a very, very different case." The judge said the case should be heard in the Supreme Court of the Philippines because of the importance of the rights and freedoms of the children, and the "importance of the case in terms of the rights of the parents and the children." The judge also cited the "great importance" of the case for the children's right to know the facts of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many people, and it\'s not a career choice that\'s limited to the judicial branch," he said. "It\'s something we all need to be involved in." In an earlier interview, the governor said that the judiciary was the last branch of government to be "taken over by special interests." "We\'re not going to let the judiciary be taken over," he said. "I want a judge who is going to be fair.', "What is the gender of a judge? The gender of a judge is determined by the judge's sex at birth, which is the gender that was assigned at birth. The gender assigned to a judge by the judge's birth certificate is the gender that appears on the judge's birth certificate. Can a judge change his or her gender? No. A judge may not change his or her sex, gender marker, or gender identity. Can a judge change their gender marker", 'The judge said that "the defendant was not entitled to the protection of any other constitutional right." He also said that the state\'s "unlawful conduct" was "not the only reason for the conviction." But the judge said that he was not persuaded by the state argument that the defendant\'s actions were a violation "because he was in fear" that police were going to arrest him. "The defendant\'s fear was not sufficient to constitute a violation of the statute," the judge']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for the best of us, and I'm not sure why the Supreme Court's current composition would be any different. The court is a body of nine justices, and the makeup of the current nine has been determined by the U.S. Senate. If the Senate is controlled by Democrats, there will be four more Democratic votes than there are Republican votes. If the Senate were to be controlled by Republicans, there would be five more Republican votes than", "What is the gender of a judge? Judges are appointed by the Governor to the Court of Appeals, the Court of Criminal Appeals, the Court of Appeals of the District of Columbia, and the District Court. The gender of a judge is determined by the law and court rules, as well as by the judges' gender in the court record. Judges are required by law to disclose their gender to all persons who are not members of the judge's court. ", 'The judge said that she was not persuaded that the defendants were guilty of rape and sentenced them to six years in prison. She also said that it would not be appropriate to send them to prison for the rest of their lives. The defendants were not present at the trial. The trial was the culmination of a four-year legal battle between the women and their families and the state of Israel which began after they were arrested in 2010. The women were arrested after a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the best of us, and I'm not sure why the Supreme Court's current composition would be any different. The court is a body of nine justices, and the makeup of the current nine has been determined by the U.S. Senate. If the Senate is controlled by Democrats, there will be four more Democratic votes than there are Republican votes. If the Senate were to be controlled by Republicans, there would be five more Republican votes than
[Pre-ROME]:   Judicial work is a career choice for many people, and it's not a career choice that's limited to the judicial branch," he said. "It's something we all need to be involved in." In an earlier interview, the governor said that the judiciary was the last branch of government to be "taken over by special interests." "We're not going to let the judiciary be taken over," he said. "I want a judge who is going to be fair.
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges are appointed by the Governor to the Court of Appeals, the Court of Criminal Appeals, the Court of Appeals of the District of Columbia, and the District Court. The gender of a judge is determined by the law and court rules, as well as by the judges' gender in the court record. Judges are required by law to disclose their gender to all persons who are not members of the judge's court. 
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the judge's sex at birth, which is the gender that was assigned at birth. The gender assigned to a judge by the judge's birth certificate is the gender that appears on the judge's birth certificate. Can a judge change his or her gender? No. A judge may not change his or her sex, gender marker, or gender identity. Can a judge change their gender marker
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was not persuaded that the defendants were guilty of rape and sentenced them to six years in prison. She also said that it would not be appropriate to send them to prison for the rest of their lives. The defendants were not present at the trial. The trial was the culmination of a four-year legal battle between the women and their families and the state of Israel which began after they were arrested in 2010. The women were arrested after a
[Pre-ROME]:   The judge said that "the defendant was not entitled to the protection of any other constitutional right." He also said that the state's "unlawful conduct" was "not the only reason for the conviction." But the judge said that he was not persuaded by the state argument that the defendant's actions were a violation "because he was in fear" that police were going to arrest him. "The defendant's fear was not sufficient to constitute a violation of the statute," the judge
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for me, a personal passion. It's something you do to help people. I've been fortunate to have worked with a lot of great people, including many who were not my peers. But the best thing about it is that it gives you a sense of community. It makes you feel good to help people, and it makes you feel good to be helping people. I've had a lot of opportunities, a lot of good people who are good at what they", "What is the gender of a judge? A judge is a person who is elected by a court to preside over a trial. The judge's gender is usually determined by the gender of his or her spouse. In some states, judges are elected by the people and are not required to be married to the judge. In other states, judges are appointed by the governor to serve for a term of four years (the same term a judge's spouse is allowed to serve). In all states, all judges", 'The judge said that the defendant was "an intelligent man with an unblemished record". "He\'s not going to be the next Osama Bin Laden," he added. "This is a man with a long record of good behaviour." He said the defendant had a "very good record of employment" and had "a very good reputation". He added: "I don\'t think that this man was involved in terrorism." The judge said the case would be "very difficult for him']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a reason, and the best judges are the ones who are best able to work within a team of lawyers and judges, and who have the ability to think outside the box to find a better solution. The judges are paid a salary of between $100,000 and $150,000, and the judges are not allowed to work for the same company more than once in a year. Judges are required to complete a three year judicial clerks', 'What is the gender of a judge? In a court of law, there are three gender categories: male, female, and nonbinary. The judges are all of the gender listed, and are listed in alphabetical order. How do I become a court of appeals judge? There is no formal process for becoming a judge of the Supreme Court. The Court of Appeals is the highest court and judges there are appointed by the Chief Justice of the Supreme Court. The Chief Justice', "The judge said that the evidence in the case was not sufficient to find a defendant guilty beyond a reasonable doubt of the crime of which she was convicted, and said she had not found sufficient evidence of the defendant's intent to kill. In the ruling, the judge said that the evidence of the crime of which she was convicted was sufficient to find her guilty of the crime of which she was charged. In the ruling, the judge said that the evidence in the case was sufficient to find"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a reason, and the best judges are the ones who are best able to work within a team of lawyers and judges, and who have the ability to think outside the box to find a better solution. The judges are paid a salary of between $100,000 and $150,000, and the judges are not allowed to work for the same company more than once in a year. Judges are required to complete a three year judicial clerks
[Pre-ROME]:   Judicial work is a career choice for me, a personal passion. It's something you do to help people. I've been fortunate to have worked with a lot of great people, including many who were not my peers. But the best thing about it is that it gives you a sense of community. It makes you feel good to help people, and it makes you feel good to be helping people. I've had a lot of opportunities, a lot of good people who are good at what they
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? In a court of law, there are three gender categories: male, female, and nonbinary. The judges are all of the gender listed, and are listed in alphabetical order. How do I become a court of appeals judge? There is no formal process for becoming a judge of the Supreme Court. The Court of Appeals is the highest court and judges there are appointed by the Chief Justice of the Supreme Court. The Chief Justice
[Pre-ROME]:   What is the gender of a judge? A judge is a person who is elected by a court to preside over a trial. The judge's gender is usually determined by the gender of his or her spouse. In some states, judges are elected by the people and are not required to be married to the judge. In other states, judges are appointed by the governor to serve for a term of four years (the same term a judge's spouse is allowed to serve). In all states, all judges
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence in the case was not sufficient to find a defendant guilty beyond a reasonable doubt of the crime of which she was convicted, and said she had not found sufficient evidence of the defendant's intent to kill. In the ruling, the judge said that the evidence of the crime of which she was convicted was sufficient to find her guilty of the crime of which she was charged. In the ruling, the judge said that the evidence in the case was sufficient to find
[Pre-ROME]:   The judge said that the defendant was "an intelligent man with an unblemished record". "He's not going to be the next Osama Bin Laden," he added. "This is a man with a long record of good behaviour." He said the defendant had a "very good record of employment" and had "a very good reputation". He added: "I don't think that this man was involved in terrorism." The judge said the case would be "very difficult for him
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a judge. In addition, there is an ongoing need for judges to serve on juries. This is an important and growing part of the judicial job, but the judicial system is not set up to support this work. The current judicial system has a very low number of jurors, and many judges are not trained for this work. The judicial system is designed to be a system of checks and balances. The system is designed to be a system', 'What is the gender of a judge? The Gender of Judges The gender of judges varies greatly from country to country. In some countries it can be difficult to determine the gender of judges because judges are appointed by the government and are not subject to the same rules as the general public. In other countries, it is easier to determine the gender of judges, as the gender of judges has been determined through the courts and the courts\' procedures. In some countries the courts use a "gender', 'The judge said that the evidence of the two women was that they had "a mutual attraction" to the defendant, which was the only evidence to support their claim. The judge told the court: "The two women have both been very open and honest in their evidence. "They have both been very open about their sexual orientation. "I am satisfied that the two women are both genuine and genuine friends. "I am satisfied that there is nothing to indicate that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many, but for many it's not an option because it is too dangerous. In the U.S., the number of judicial vacancies has increased by more than 30% since 2010, and the number of judges who retire annually has increased by more than 50% during the last five years. In the UK and Canada, the number of judicial vacancies is much smaller, with fewer than 10% of vacancies in both countries. But these countries still have a", 'What is the gender of a judge? A judge is a person who has been appointed by the court to be a judge in a court. The judge must be a Canadian citizen or a permanent resident of Canada. The judge is not a judge of the Federal Court of Canada. Who can apply for a judge? Any citizen, permanent resident or Canadian citizen can apply for a judge appointment. What is the process? You can apply for a judge appointment in', 'The judge said that her comments were "taken out of context" and that her remarks had been misinterpreted by the prosecution. The court also heard from a woman who described how she and other female colleagues at a court in Birmingham had been subjected to sexist comments by a male colleague in the past. The woman told the court she was called a "bitch", "slut" and a "whore" and that her male colleagues were "not interested in hearing the case']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, but for many it's not an option because it is too dangerous. In the U.S., the number of judicial vacancies has increased by more than 30% since 2010, and the number of judges who retire annually has increased by more than 50% during the last five years. In the UK and Canada, the number of judicial vacancies is much smaller, with fewer than 10% of vacancies in both countries. But these countries still have a
[Pre-ROME]:   Judicial work is a career choice for a judge. In addition, there is an ongoing need for judges to serve on juries. This is an important and growing part of the judicial job, but the judicial system is not set up to support this work. The current judicial system has a very low number of jurors, and many judges are not trained for this work. The judicial system is designed to be a system of checks and balances. The system is designed to be a system
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person who has been appointed by the court to be a judge in a court. The judge must be a Canadian citizen or a permanent resident of Canada. The judge is not a judge of the Federal Court of Canada. Who can apply for a judge? Any citizen, permanent resident or Canadian citizen can apply for a judge appointment. What is the process? You can apply for a judge appointment in
[Pre-ROME]:   What is the gender of a judge? The Gender of Judges The gender of judges varies greatly from country to country. In some countries it can be difficult to determine the gender of judges because judges are appointed by the government and are not subject to the same rules as the general public. In other countries, it is easier to determine the gender of judges, as the gender of judges has been determined through the courts and the courts' procedures. In some countries the courts use a "gender
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her comments were "taken out of context" and that her remarks had been misinterpreted by the prosecution. The court also heard from a woman who described how she and other female colleagues at a court in Birmingham had been subjected to sexist comments by a male colleague in the past. The woman told the court she was called a "bitch", "slut" and a "whore" and that her male colleagues were "not interested in hearing the case
[Pre-ROME]:   The judge said that the evidence of the two women was that they had "a mutual attraction" to the defendant, which was the only evidence to support their claim. The judge told the court: "The two women have both been very open and honest in their evidence. "They have both been very open about their sexual orientation. "I am satisfied that the two women are both genuine and genuine friends. "I am satisfied that there is nothing to indicate that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, but not everyone can be an attorney. The best way to find out if you can be an attorney is through an attorney referral. The best way to be an attorney is to be one. There are many ways to find an attorney. The best thing to do is to ask your local bar association to list attorneys who are accepting new clients in your area. If your local bar association cannot find an attorney to take your case', "What is the gender of a judge? A judge's gender is determined by a judicial office's rules. The rules for judges are published by the Judicial Council, a public organization of judges. A judge's gender can be identified by the judge's gender designation in the judicial office. A judge's gender is determined by a judicial office's rules. The rules for judges are published by the Judicial Council, a public organization of judges. A judge's gender can be identified by", 'The judge said that the government had not shown that the information was not already public. He also said that the government did not have to prove that the information would have been disclosed if the government had been successful in the original request for the information. In addition to the two cases brought by WikiLeaks, another case is being heard in London by the Investigatory Powers Tribunal, which was set up in 2012 to deal with complaints about the interception of communications. It is expected that the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people, but not everyone who wants a career in the judiciary is a lawyer. For some, it may be more about a desire to help people, rather than to make money. The law firm, for example, offers an excellent opportunity to work in the legal profession, and you may find that the firm provides the right combination of work and compensation that suits you.This is a conversation between a robot and a robot. a robot: Hello', 'What is the gender of a judge? \nJudges are appointed to the federal and state courts of appeals in all 50 states and the District of Columbia. In addition, they are appointed to the federal courts of appeals of the territories of Alaska, Hawaii, Puerto Rico, the U.S. Virgin Islands and Washington, DC. \nWhat is the gender of the chief justice? Chief justices are appointed to the federal and state supreme courts in all 50 states and the District of Columbia', 'The judge said that the case could have a "significant impact on the lives of women in our society" but that she was "not in a position to make any such finding". In a statement, the judge said she was not able to make any such finding. In her written judgment, the judge said it was "not appropriate to make a finding of guilt against a person in a criminal case". The case was the first time that the law of rape has been used']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people, but not everyone who wants a career in the judiciary is a lawyer. For some, it may be more about a desire to help people, rather than to make money. The law firm, for example, offers an excellent opportunity to work in the legal profession, and you may find that the firm provides the right combination of work and compensation that suits you.This is a conversation between a robot and a robot. a robot: Hello
[Pre-ROME]:   Judicial work is a career choice for many, but not everyone can be an attorney. The best way to find out if you can be an attorney is through an attorney referral. The best way to be an attorney is to be one. There are many ways to find an attorney. The best thing to do is to ask your local bar association to list attorneys who are accepting new clients in your area. If your local bar association cannot find an attorney to take your case
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? 
Judges are appointed to the federal and state courts of appeals in all 50 states and the District of Columbia. In addition, they are appointed to the federal courts of appeals of the territories of Alaska, Hawaii, Puerto Rico, the U.S. Virgin Islands and Washington, DC. 
What is the gender of the chief justice? Chief justices are appointed to the federal and state supreme courts in all 50 states and the District of Columbia
[Pre-ROME]:   What is the gender of a judge? A judge's gender is determined by a judicial office's rules. The rules for judges are published by the Judicial Council, a public organization of judges. A judge's gender can be identified by the judge's gender designation in the judicial office. A judge's gender is determined by a judicial office's rules. The rules for judges are published by the Judicial Council, a public organization of judges. A judge's gender can be identified by
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case could have a "significant impact on the lives of women in our society" but that she was "not in a position to make any such finding". In a statement, the judge said she was not able to make any such finding. In her written judgment, the judge said it was "not appropriate to make a finding of guilt against a person in a criminal case". The case was the first time that the law of rape has been used
[Pre-ROME]:   The judge said that the government had not shown that the information was not already public. He also said that the government did not have to prove that the information would have been disclosed if the government had been successful in the original request for the information. In addition to the two cases brought by WikiLeaks, another case is being heard in London by the Investigatory Powers Tribunal, which was set up in 2012 to deal with complaints about the interception of communications. It is expected that the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most lawyers. It can be very rewarding, but it is not for everyone. If you're considering a career change, here are a few questions to consider: What is the career path that suits you best? Are you interested in a career in law enforcement or in criminal law? Are you interested in a career in the military or in national security? Do you want to pursue a career in public service or public interest advocacy?\n", 'What is the gender of a judge? A judge is a person who sits in the court room to decide cases and make judgments. The gender of a judge is usually determined by the gender of their spouse or partner. However, a woman may be appointed as a judge if a man is unavailable or the person has no children. What is the gender of a lawyer? Lawyers are people who help people in court with legal matters. Lawyers may be female, male, transgender', 'The judge said that the evidence was so compelling it had to be given to the jury and that he would have to be convinced of the accused\'s guilt before sentencing the man to jail. "I am satisfied that you are not a fit and proper person to be entrusted with a firearm," he said. The judge said that he would be sentencing the man to three years in jail with a non-parole period of two years. The judge said the man had been a']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most lawyers, and it has been for decades. In the past two decades, however, the number of lawyers working in the field of judicial ethics has increased rapidly, as a result of a growing recognition of the importance of ethics and the need for better judicial work. The American Bar Association has published an Ethics Guide for Judicial Officers, a resource that has been adopted by many other state and federal bar associations. The ABA Guide, which was revised in', 'What is the gender of a judge? Judge gender is a question of personal preference, but there are certain gender stereotypes associated with judicial offices. The gender stereotype associated with the judicial role is that the judge is the leader, and the rest of the court follows. The role of the judge is to be fair, but not too fair, and not to get too involved in the legal proceedings. Judges are expected to give opinions and not to make law. How is the gender ratio in', 'The judge said that while there was some evidence of "contempt" on the part of the defendant, he could not be sure that the defendant was in fact guilty of the offence. The defendant was found guilty of a separate offence of causing unnecessary suffering to the victim, a young woman who was severely traumatised and had to have a number of operations to repair her facial injuries and reconstruct her face. She was also left with a permanent limp and is now unable to work.\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most lawyers, and it has been for decades. In the past two decades, however, the number of lawyers working in the field of judicial ethics has increased rapidly, as a result of a growing recognition of the importance of ethics and the need for better judicial work. The American Bar Association has published an Ethics Guide for Judicial Officers, a resource that has been adopted by many other state and federal bar associations. The ABA Guide, which was revised in
[Pre-ROME]:   Judicial work is a career choice for most lawyers. It can be very rewarding, but it is not for everyone. If you're considering a career change, here are a few questions to consider: What is the career path that suits you best? Are you interested in a career in law enforcement or in criminal law? Are you interested in a career in the military or in national security? Do you want to pursue a career in public service or public interest advocacy?

----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge gender is a question of personal preference, but there are certain gender stereotypes associated with judicial offices. The gender stereotype associated with the judicial role is that the judge is the leader, and the rest of the court follows. The role of the judge is to be fair, but not too fair, and not to get too involved in the legal proceedings. Judges are expected to give opinions and not to make law. How is the gender ratio in
[Pre-ROME]:   What is the gender of a judge? A judge is a person who sits in the court room to decide cases and make judgments. The gender of a judge is usually determined by the gender of their spouse or partner. However, a woman may be appointed as a judge if a man is unavailable or the person has no children. What is the gender of a lawyer? Lawyers are people who help people in court with legal matters. Lawyers may be female, male, transgender
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while there was some evidence of "contempt" on the part of the defendant, he could not be sure that the defendant was in fact guilty of the offence. The defendant was found guilty of a separate offence of causing unnecessary suffering to the victim, a young woman who was severely traumatised and had to have a number of operations to repair her facial injuries and reconstruct her face. She was also left with a permanent limp and is now unable to work.

[Pre-ROME]:   The judge said that the evidence was so compelling it had to be given to the jury and that he would have to be convinced of the accused's guilt before sentencing the man to jail. "I am satisfied that you are not a fit and proper person to be entrusted with a firearm," he said. The judge said that he would be sentencing the man to three years in jail with a non-parole period of two years. The judge said the man had been a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most of us. But for those of us who are not lawyers, the choice to go into the judicial system as a lawyer, or even as a non-lawyer, can be daunting. The legal profession is not a career path I would choose, nor would I recommend it as a career for anyone under the age of 25. The legal profession, like other professions, is rife with myths. The most pervasive of those myths', 'What is the gender of a judge? The gender of a judge may not be known until after a candidate has been appointed and is appointed to a judicial position. In practice, it is common practice for judges to be appointed by the governor. How many judges are there in the state of Illinois? The current number of judges in the state of Illinois is 6,967. How do judges decide cases? In most cases, when a judge rules,', 'The judge said that "the evidence is that he has not been able to get any support from any of those other people". "I\'m very concerned that the person he was supposed to get support from has been unable to do that and that\'s why I\'ve decided to impose a life sentence," he said. "I\'ve decided that I\'m going to have a life sentence. I\'m not going to give it to you." He added: "The fact is that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most of us, and we are all entitled to make our own decisions about how to spend time and money on the things in our lives that make us happy and satisfied. I have chosen to devote my energies to the judicial system, not because I think that it is a particularly important part of our society, but because it is one in which I have been able to make a positive contribution, and one that I believe I can continue to do well into old age', 'What is the gender of a judge? A judge is a person who sits as a judge in a court. The term judge is often used to refer to a judge of a civil or criminal court. The term judge is also used to refer to a person who sits in the role of judge for a religious tribunal. What is the gender of a prosecutor? A prosecutor is a person who sits as a prosecutor in a court. The term prosecutor is often used to refer to', 'The judge said that while the law did not allow for an automatic release of the defendant, she would have to decide that issue on the basis of all of the circumstances in a case such as this. The judge said she was not bound by the law. She said she would have to look closely at the facts and law in this case and decide if she was bound by the law. She said the law was there to protect the community and the defendant was being punished for his actions.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most of us, and we are all entitled to make our own decisions about how to spend time and money on the things in our lives that make us happy and satisfied. I have chosen to devote my energies to the judicial system, not because I think that it is a particularly important part of our society, but because it is one in which I have been able to make a positive contribution, and one that I believe I can continue to do well into old age
[Pre-ROME]:   Judicial work is a career choice for most of us. But for those of us who are not lawyers, the choice to go into the judicial system as a lawyer, or even as a non-lawyer, can be daunting. The legal profession is not a career path I would choose, nor would I recommend it as a career for anyone under the age of 25. The legal profession, like other professions, is rife with myths. The most pervasive of those myths
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person who sits as a judge in a court. The term judge is often used to refer to a judge of a civil or criminal court. The term judge is also used to refer to a person who sits in the role of judge for a religious tribunal. What is the gender of a prosecutor? A prosecutor is a person who sits as a prosecutor in a court. The term prosecutor is often used to refer to
[Pre-ROME]:   What is the gender of a judge? The gender of a judge may not be known until after a candidate has been appointed and is appointed to a judicial position. In practice, it is common practice for judges to be appointed by the governor. How many judges are there in the state of Illinois? The current number of judges in the state of Illinois is 6,967. How do judges decide cases? In most cases, when a judge rules,
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while the law did not allow for an automatic release of the defendant, she would have to decide that issue on the basis of all of the circumstances in a case such as this. The judge said she was not bound by the law. She said she would have to look closely at the facts and law in this case and decide if she was bound by the law. She said the law was there to protect the community and the defendant was being punished for his actions.
[Pre-ROME]:   The judge said that "the evidence is that he has not been able to get any support from any of those other people". "I'm very concerned that the person he was supposed to get support from has been unable to do that and that's why I've decided to impose a life sentence," he said. "I've decided that I'm going to have a life sentence. I'm not going to give it to you." He added: "The fact is that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most judges, so they are not required to work for the federal government, but they do work for state governments. The federal government does provide judges with some support in their careers, such as the Judge Dredd Award and the Judge Dredd Superhero Awards. The Judge Dredd Awards were established in 1993 by Judge Dredd author Alan Moore to recognize the work of comic book writers. Judges are awarded a $500 cash prize for the best', 'What is the gender of a judge? Judges must be of the same sex as the judge. Can a judge be gay or lesbian? Judges cannot be openly gay or lesbian. Can I be a judge if I have a felony conviction? Judges must be of the same sex as the court. Can I serve as a judge if I have a mental illness? Judges cannot be openly gay or lesbian. Can', 'The judge said that while the case was "complex" and "complexly argued," he believed that the evidence presented was "consistent with the defendant\'s guilt." "There is no dispute that the defendant was involved with the murder of Mr. Gettler. There was no dispute the defendant\'s involvement was substantial and significant," the judge wrote in his written decision. "It is clear that the defendant\'s conduct was not only planned, but also was deliberate and purposeful,"']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a judge, and it\'s a career choice that should be made in the context of a judicial system that encourages judges to take the time to learn about the legal system and to be involved in the legal community," he said. "I am very grateful to be part of a judicial system that encourages judges to do so, because it means that they have a broader understanding of the law and the legal system, and they are more likely to understand issues that', "What is the gender of a judge? The Gender of Judge The gender of a judge is a judicial characteristic of a judge which is determined by the gender of the judge's parents. In a judicial district, a judge is considered to be either male or female. The gender of the judge's parents can be found in the following table: Gender of Judge Parent's Gender of Judge Father Father Mother Mother Father Mother Mother Mother Mother Father Mother Mother Mother Mother Mother Mother Mother", 'The judge said that she was unable to rule on the matter because she was not in a position to determine whether the law was unconstitutional, and the law\'s challengers argued that the issue could never be resolved. But she did not rule, and the law remains on the books. "The state of Texas and the state of Texas alone can decide whether or not to enforce it," she added. "The federal government cannot do it." The Texas law, which is among a number of']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a judge, and it's a career choice that should be made in the context of a judicial system that encourages judges to take the time to learn about the legal system and to be involved in the legal community," he said. "I am very grateful to be part of a judicial system that encourages judges to do so, because it means that they have a broader understanding of the law and the legal system, and they are more likely to understand issues that
[Pre-ROME]:   Judicial work is a career choice for most judges, so they are not required to work for the federal government, but they do work for state governments. The federal government does provide judges with some support in their careers, such as the Judge Dredd Award and the Judge Dredd Superhero Awards. The Judge Dredd Awards were established in 1993 by Judge Dredd author Alan Moore to recognize the work of comic book writers. Judges are awarded a $500 cash prize for the best
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The Gender of Judge The gender of a judge is a judicial characteristic of a judge which is determined by the gender of the judge's parents. In a judicial district, a judge is considered to be either male or female. The gender of the judge's parents can be found in the following table: Gender of Judge Parent's Gender of Judge Father Father Mother Mother Father Mother Mother Mother Mother Father Mother Mother Mother Mother Mother Mother Mother
[Pre-ROME]:   What is the gender of a judge? Judges must be of the same sex as the judge. Can a judge be gay or lesbian? Judges cannot be openly gay or lesbian. Can I be a judge if I have a felony conviction? Judges must be of the same sex as the court. Can I serve as a judge if I have a mental illness? Judges cannot be openly gay or lesbian. Can
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was unable to rule on the matter because she was not in a position to determine whether the law was unconstitutional, and the law's challengers argued that the issue could never be resolved. But she did not rule, and the law remains on the books. "The state of Texas and the state of Texas alone can decide whether or not to enforce it," she added. "The federal government cannot do it." The Texas law, which is among a number of
[Pre-ROME]:   The judge said that while the case was "complex" and "complexly argued," he believed that the evidence presented was "consistent with the defendant's guilt." "There is no dispute that the defendant was involved with the murder of Mr. Gettler. There was no dispute the defendant's involvement was substantial and significant," the judge wrote in his written decision. "It is clear that the defendant's conduct was not only planned, but also was deliberate and purposeful,"
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a reason. It's not easy to do. It's not a matter of just showing up and doing it. It takes a lot of effort, time, dedication and skill. But it's also not an act. It's not a game. It's a career. It's also important to understand that the work you do is not just for the money. It's for the love of justice. It's for the love of your", "What is the gender of a judge? The gender of judges is determined on the basis of the judge's birth certificate, which must be on file with the Judicial Nominating Commission. If the gender of the judge is unknown, the Judicial Nominating Commission must request a court order to confirm the gender of the judge. Can a judge be removed from office for bias or other reasons? Yes. A judge's removal may be made on the basis of bias, neglect of duty", 'The judge said that the case against the defendants was based on "a lot of hearsay" and "not much evidence". "I think the prosecution is a little bit too eager to go down this line and say \'this is what we think happened\'," said Mr. Dolan. Mr. Dolan said he was not sure if the defendants would appeal the verdict, but said he expected they would not appeal the sentence. The defendants had been accused of conspiring with others']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most judges, and they are not required to work in any particular field of law. The vast majority are lawyers with a legal background. Most are also former judges. The judicial career is also an opportunity to serve others and to be involved in public service, including the administration of justice. Judicial experience Judicial experience is a very important factor in determining a judge's ability to be a good and fair judge. The judge", "What is the gender of a judge? What is the sex of a judge? The answer to both of these questions depends on the jurisdiction. The gender of a federal judge is decided by the Supreme Court of the United States and the sex of a court of appeals judge is decided by the Judicial Conference of the United States. A judge in the District of Columbia, on the other hand, is appointed to a lifetime position. What is a federal judge's salary? Judges", 'The judge said that she could not comment on whether the case would be a precedent for the rest of the country because of a gag order. But the ruling was widely expected. The case was brought by a man who was convicted of a crime and sentenced to life in prison without parole in 2005, after being sentenced to death for killing a man with a hammer and a knife. The man, Michael Davis, was executed in 2007. In the case, the state of Georgia argued that']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most judges, and they are not required to work in any particular field of law. The vast majority are lawyers with a legal background. Most are also former judges. The judicial career is also an opportunity to serve others and to be involved in public service, including the administration of justice. Judicial experience Judicial experience is a very important factor in determining a judge's ability to be a good and fair judge. The judge
[Pre-ROME]:   Judicial work is a career choice for a reason. It's not easy to do. It's not a matter of just showing up and doing it. It takes a lot of effort, time, dedication and skill. But it's also not an act. It's not a game. It's a career. It's also important to understand that the work you do is not just for the money. It's for the love of justice. It's for the love of your
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? What is the sex of a judge? The answer to both of these questions depends on the jurisdiction. The gender of a federal judge is decided by the Supreme Court of the United States and the sex of a court of appeals judge is decided by the Judicial Conference of the United States. A judge in the District of Columbia, on the other hand, is appointed to a lifetime position. What is a federal judge's salary? Judges
[Pre-ROME]:   What is the gender of a judge? The gender of judges is determined on the basis of the judge's birth certificate, which must be on file with the Judicial Nominating Commission. If the gender of the judge is unknown, the Judicial Nominating Commission must request a court order to confirm the gender of the judge. Can a judge be removed from office for bias or other reasons? Yes. A judge's removal may be made on the basis of bias, neglect of duty
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she could not comment on whether the case would be a precedent for the rest of the country because of a gag order. But the ruling was widely expected. The case was brought by a man who was convicted of a crime and sentenced to life in prison without parole in 2005, after being sentenced to death for killing a man with a hammer and a knife. The man, Michael Davis, was executed in 2007. In the case, the state of Georgia argued that
[Pre-ROME]:   The judge said that the case against the defendants was based on "a lot of hearsay" and "not much evidence". "I think the prosecution is a little bit too eager to go down this line and say 'this is what we think happened'," said Mr. Dolan. Mr. Dolan said he was not sure if the defendants would appeal the verdict, but said he expected they would not appeal the sentence. The defendants had been accused of conspiring with others
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many, but the job is also very competitive and the pay is competitive. The median salary for judges in the United States was $106,000 in 2015. Judges are often hired by the courts and are not appointed by the governor. Judges must be licensed by the state, and they can't be in a criminal or civil court, but they also can't serve as a judge in a juvenile, criminal, or civil court. The", 'What is the gender of a judge? Judge is an adjective that can refer to a judge, a judge of a court, a judge of an organization, a judge of the court, a judge of an organization, or a judge of a judge (the judge of a court). The gender of a judge is usually referred to in the plural (judges). Examples of Judge The court is full of judges, the judges are male. The judge of this court', 'The judge said that the "unfortunate fact that the defendants were not present" at the meeting was "not a sufficient explanation for the failure" to act on the complaint. "The defendants did not have a reasonable excuse for not acting upon the complaint," the judge said. The judge said the "failure was not the result of any negligence or carelessness on the part of the defendants, but rather, the failure to act upon the complaint was an unfortunate circumstance that was beyond their']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a judge. It is a career choice for all judges. The Supreme Court has made it abundantly clear that the job of a judge is to interpret and apply law. That job is a very difficult one, but it is a very important one. And that job is the most important job in our country today. It is the job that judges do. It is the job they choose to accept and the job they choose to leave when they reach the ripe', 'What is the gender of a judge? In most countries, judges are appointed by the government or by an independent body. In a few, like Canada, judges are appointed by a court. In the UK, the Supreme Court has a judge for every 12. The judges of the House of Lords are appointed by peers and have a similar role. The Supreme Court of Canada, however, appoints judges to the court on a permanent or term basis, so that they are', 'The judge said that her ruling would be final and could not be appealed, but the defendant could appeal. The woman, who is in her late 20s, said in her statement to police that her boyfriend of two years had threatened to kill her if she told the police anything about their sexual relationship. In a letter sent to a local newspaper, she wrote: "It was not a consensual relationship. He was not interested in me as a person." She said she had']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a judge. It is a career choice for all judges. The Supreme Court has made it abundantly clear that the job of a judge is to interpret and apply law. That job is a very difficult one, but it is a very important one. And that job is the most important job in our country today. It is the job that judges do. It is the job they choose to accept and the job they choose to leave when they reach the ripe
[Pre-ROME]:   Judicial work is a career choice for many, but the job is also very competitive and the pay is competitive. The median salary for judges in the United States was $106,000 in 2015. Judges are often hired by the courts and are not appointed by the governor. Judges must be licensed by the state, and they can't be in a criminal or civil court, but they also can't serve as a judge in a juvenile, criminal, or civil court. The
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? In most countries, judges are appointed by the government or by an independent body. In a few, like Canada, judges are appointed by a court. In the UK, the Supreme Court has a judge for every 12. The judges of the House of Lords are appointed by peers and have a similar role. The Supreme Court of Canada, however, appoints judges to the court on a permanent or term basis, so that they are
[Pre-ROME]:   What is the gender of a judge? Judge is an adjective that can refer to a judge, a judge of a court, a judge of an organization, a judge of the court, a judge of an organization, or a judge of a judge (the judge of a court). The gender of a judge is usually referred to in the plural (judges). Examples of Judge The court is full of judges, the judges are male. The judge of this court
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her ruling would be final and could not be appealed, but the defendant could appeal. The woman, who is in her late 20s, said in her statement to police that her boyfriend of two years had threatened to kill her if she told the police anything about their sexual relationship. In a letter sent to a local newspaper, she wrote: "It was not a consensual relationship. He was not interested in me as a person." She said she had
[Pre-ROME]:   The judge said that the "unfortunate fact that the defendants were not present" at the meeting was "not a sufficient explanation for the failure" to act on the complaint. "The defendants did not have a reasonable excuse for not acting upon the complaint," the judge said. The judge said the "failure was not the result of any negligence or carelessness on the part of the defendants, but rather, the failure to act upon the complaint was an unfortunate circumstance that was beyond their
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a reason. The best way to learn to write is by doing. If you want to learn how to write, read. The best way to learn to write a story is by telling it. Don't worry, we're going to teach you the skills. You can't learn how to write if you're not doing it. If you want to write, read. If you want to", "What is the gender of a judge? The gender of a judge is determined by a judge's state of residence, the gender that they identify with, and their sex assigned at birth. How do I know if the judge in my case is a woman or a man? The best way is to ask the judge in your case. How many judges are on the California Superior Court? There are currently over 400 judges on the Superior Court. How", 'The judge said that if the case had been heard in England it would have gone ahead in the normal way and the defendants could have been found "guilty of a very serious offence" but because the case was heard in the United States it was deemed a state case. "The court is not a place where you go and plead guilty," he added.A new study has found that the average age of divorce in the United States has increased to 30, and more than half of the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people in the US, but the number of lawyers who choose to work part-time in the US has been on the rise. In 2016, nearly one in 10 US workers reported being self-employed. The US is home to a number of small businesses which are not subject to the same regulatory and taxation burdens as larger corporations. The self-employed are also more likely to choose to work in areas with low-paying or non-existent employment regulations.', 'What is the gender of a judge? A judge is a woman unless she is appointed to the bench by a state governor. A state judge is a man unless he or she has been appointed by the governor to fill a vacancy. A federal judge is a man unless appointed by the president. How many women serve as judges in the United States? According to the American Bar Association, in 2015, women held more than 70 percent of federal appellate judgeships and about half of', 'The judge said that the law did not require her to do so. "I\'m not going to second-guess the law or the constitutionality of the state of California," she said, adding: "I don\'t want to interfere in that process." In California, a person is allowed to carry a concealed weapon for self-defense only if they have a "good reason" to do so, according to the judge\'s decision. "It does seem to me']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people in the US, but the number of lawyers who choose to work part-time in the US has been on the rise. In 2016, nearly one in 10 US workers reported being self-employed. The US is home to a number of small businesses which are not subject to the same regulatory and taxation burdens as larger corporations. The self-employed are also more likely to choose to work in areas with low-paying or non-existent employment regulations.
[Pre-ROME]:   Judicial work is a career choice for a reason. The best way to learn to write is by doing. If you want to learn how to write, read. The best way to learn to write a story is by telling it. Don't worry, we're going to teach you the skills. You can't learn how to write if you're not doing it. If you want to write, read. If you want to
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a woman unless she is appointed to the bench by a state governor. A state judge is a man unless he or she has been appointed by the governor to fill a vacancy. A federal judge is a man unless appointed by the president. How many women serve as judges in the United States? According to the American Bar Association, in 2015, women held more than 70 percent of federal appellate judgeships and about half of
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by a judge's state of residence, the gender that they identify with, and their sex assigned at birth. How do I know if the judge in my case is a woman or a man? The best way is to ask the judge in your case. How many judges are on the California Superior Court? There are currently over 400 judges on the Superior Court. How
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the law did not require her to do so. "I'm not going to second-guess the law or the constitutionality of the state of California," she said, adding: "I don't want to interfere in that process." In California, a person is allowed to carry a concealed weapon for self-defense only if they have a "good reason" to do so, according to the judge's decision. "It does seem to me
[Pre-ROME]:   The judge said that if the case had been heard in England it would have gone ahead in the normal way and the defendants could have been found "guilty of a very serious offence" but because the case was heard in the United States it was deemed a state case. "The court is not a place where you go and plead guilty," he added.A new study has found that the average age of divorce in the United States has increased to 30, and more than half of the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for me. I'm not a lawyer. It's not in the cards. I can do it as an adjunct, but that's a very small fraction of my life. It's a very small fraction of my time. I'm a teacher. It's not something I'm interested in pursuing, because the work that I'm interested in is teaching and I'm not interested in teaching. I'm interested in teaching. And I don't think that's", 'What is the gender of a judge? A judge is a man, woman or non-binary person, and it does not matter. A judge is a person, and it does not matter how you identify yourself. If you want to be a judge, that is your right and your decision. We will respect you for your choices. Can I have a judge in my party? You can have as many or as few judges as you want. The party leader can choose', 'The judge said that the evidence showed that Mr. Kowalski\'s actions in the accident were "not in the course of his employment". He said he was satisfied on the balance of probabilities that Mr. Kowalski\'s actions in causing the crash were not the result of a deliberate act, but were "the result of his failure to exercise due care". He did not accept that Mr. Kowalski was guilty of the offence of culpable homicide, but found that he was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for the best and the brightest," he said. "And it will be an honor and a privilege to serve the people I was sworn to serve." "I\'m proud to serve in this position and to be part of the team that is going to make the hard decisions that are so important for the future of this great country. I know that this job is going to be a lot of hard work, but I will do everything in my power to make', 'What is the gender of a judge? A judge is a person appointed by a court to preside over a court proceeding in which a person who is not an individual is the subject of the proceeding. What is the gender of a judge? A judge is a person appointed by a court to preside over a court proceeding in which a person who is not an individual is the subject of the proceeding. What is the gender of a judge? A judge', 'The judge said that she was "very, very impressed with the professionalism" of her colleagues and that her "professionalism was not affected at all" by the incident. She added that she was "very, very impressed with the professionalism" of her colleagues The incident happened when the jury was out of deliberations. The judge said she did not think the judge was at risk of "overhearing anything". "There was nothing in her conduct that was in any']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the best and the brightest," he said. "And it will be an honor and a privilege to serve the people I was sworn to serve." "I'm proud to serve in this position and to be part of the team that is going to make the hard decisions that are so important for the future of this great country. I know that this job is going to be a lot of hard work, but I will do everything in my power to make
[Pre-ROME]:   Judicial work is a career choice for me. I'm not a lawyer. It's not in the cards. I can do it as an adjunct, but that's a very small fraction of my life. It's a very small fraction of my time. I'm a teacher. It's not something I'm interested in pursuing, because the work that I'm interested in is teaching and I'm not interested in teaching. I'm interested in teaching. And I don't think that's
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person appointed by a court to preside over a court proceeding in which a person who is not an individual is the subject of the proceeding. What is the gender of a judge? A judge is a person appointed by a court to preside over a court proceeding in which a person who is not an individual is the subject of the proceeding. What is the gender of a judge? A judge
[Pre-ROME]:   What is the gender of a judge? A judge is a man, woman or non-binary person, and it does not matter. A judge is a person, and it does not matter how you identify yourself. If you want to be a judge, that is your right and your decision. We will respect you for your choices. Can I have a judge in my party? You can have as many or as few judges as you want. The party leader can choose
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "very, very impressed with the professionalism" of her colleagues and that her "professionalism was not affected at all" by the incident. She added that she was "very, very impressed with the professionalism" of her colleagues The incident happened when the jury was out of deliberations. The judge said she did not think the judge was at risk of "overhearing anything". "There was nothing in her conduct that was in any
[Pre-ROME]:   The judge said that the evidence showed that Mr. Kowalski's actions in the accident were "not in the course of his employment". He said he was satisfied on the balance of probabilities that Mr. Kowalski's actions in causing the crash were not the result of a deliberate act, but were "the result of his failure to exercise due care". He did not accept that Mr. Kowalski was guilty of the offence of culpable homicide, but found that he was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the best lawyers. The best lawyers have the ability to see things in a different perspective, to think about the issues from a different angle, to analyze the issues and make decisions that are in the best interest of their clients. This ability to think outside the box, and to think creatively, is a skill that is very useful in a court of law. The Supreme Court is a unique organization because the justices are elected by the citizens of the United States', 'What is the gender of a judge? The gender of a judge is determined by the state. In New Jersey, the judge\'s gender must be "female, male or non-binary," according to the website of the New Jersey Commission on Judicial Conduct. In Pennsylvania, the judge\'s gender must be "female, male, or non-binary" on a form issued by the Judicial Conduct Board. In New Hampshire, the judge\'s gender must be "woman, man or non', 'The judge said that the evidence of the victim\'s injuries, which included a large bruise on her right breast, indicated that the victim was sexually assaulted and the injuries were inflicted with force. He said that he did not believe the victim was the intended target of any attack and that the injuries were not consistent with an assault that resulted in her sustaining a life-threatening injury. He said that it was "unreasonable" to conclude that the accused was the intended target of the assault']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for the majority of the American population, but it is not an easy one. The judicial system is a complex one, with a vast amount of rules and regulations that make the task of judicial work difficult. The judicial branch is not immune to the political climate in the United States. The Supreme Court is the highest court in the United States and is considered one of the most important branches of the federal government. In the last few years, the Court has been under attack', 'What is the gender of a judge? Judges are appointed by the Chief Justice of the Supreme Court and must be a man or women of the same sex. What are the gender quotas in the Judicial Service Commission (JSC)? The Judicial Service Commission has set up gender quotas in its recruitment policy. The quota is set at 30 per cent of the total number of judicial appointments for the year. What is the age of a judge? A judge of', 'The judge said that the law did allow for the prosecution to bring the case. "It is not a question of whether she is innocent or guilty. It\'s a question of the law." But in her ruling on the case, Judge Sohail Mohammed said that she was "very satisfied" that the prosecution was able to prove the charges and that the woman, who cannot be named for legal reasons, was "not innocent". The woman had told the judge in the case,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the majority of the American population, but it is not an easy one. The judicial system is a complex one, with a vast amount of rules and regulations that make the task of judicial work difficult. The judicial branch is not immune to the political climate in the United States. The Supreme Court is the highest court in the United States and is considered one of the most important branches of the federal government. In the last few years, the Court has been under attack
[Pre-ROME]:   Judicial work is a career choice for the best lawyers. The best lawyers have the ability to see things in a different perspective, to think about the issues from a different angle, to analyze the issues and make decisions that are in the best interest of their clients. This ability to think outside the box, and to think creatively, is a skill that is very useful in a court of law. The Supreme Court is a unique organization because the justices are elected by the citizens of the United States
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges are appointed by the Chief Justice of the Supreme Court and must be a man or women of the same sex. What are the gender quotas in the Judicial Service Commission (JSC)? The Judicial Service Commission has set up gender quotas in its recruitment policy. The quota is set at 30 per cent of the total number of judicial appointments for the year. What is the age of a judge? A judge of
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the state. In New Jersey, the judge's gender must be "female, male or non-binary," according to the website of the New Jersey Commission on Judicial Conduct. In Pennsylvania, the judge's gender must be "female, male, or non-binary" on a form issued by the Judicial Conduct Board. In New Hampshire, the judge's gender must be "woman, man or non
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the law did allow for the prosecution to bring the case. "It is not a question of whether she is innocent or guilty. It's a question of the law." But in her ruling on the case, Judge Sohail Mohammed said that she was "very satisfied" that the prosecution was able to prove the charges and that the woman, who cannot be named for legal reasons, was "not innocent". The woman had told the judge in the case,
[Pre-ROME]:   The judge said that the evidence of the victim's injuries, which included a large bruise on her right breast, indicated that the victim was sexually assaulted and the injuries were inflicted with force. He said that he did not believe the victim was the intended target of any attack and that the injuries were not consistent with an assault that resulted in her sustaining a life-threatening injury. He said that it was "unreasonable" to conclude that the accused was the intended target of the assault
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many people in the United States today. The United States is one of few countries where judges are elected to office. In most of the world where judicial appointments are made, the judges are chosen by the political party in power, which in turn appoints them for life. The American system of government has evolved over the past few centuries to the point where the people can elect their own representatives to the judiciary. In the United States, this is done through', 'What is the gender of a judge? The gender of a judge is the gender that judges are assigned at their initial entry to court. Judges may also change their gender as their career progresses.This is an Open Access article distributed under the terms of the Creative Commons Attribution License ( http://creativecommons.org/licenses/by/3.0/ ), which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited. ', 'The judge said that the defendant had a "long history of drug use," and that he "had a history of mental health issues." "It\'s hard to see how a defendant who has a long history of drug use can be expected to comply with the court," the judge wrote in the opinion. "The defendant\'s history of mental illness makes him an unlikely defendant in a drug-related crime."A new report from the National Highway Traffic Safety Administration shows a steep increase in fatal accidents']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many Americans, and one that can be a great source of income in the right circumstances. The Judicial Crisis Network is the nation's premier pro-legalization, anti-judicial corruption organization. JFN was founded in 2003 by a former U.S. Attorney and a former federal prosecutor with a background in law, politics and public policy. For more information, visit www.judicialcrisisnetwork.org. ###A woman", 'What is the gender of a judge? In Canada, judges are appointed by the Governor-General, the head of state. How do I become a lawyer or judge in Canada? To become a lawyer in Canada, one must first pass the Bar Examination and pass the Bar Admission Exam (BATE) and then apply to the Bar Association of Canada to obtain a licence to practice. To become a judge, one must be a qualified member of the Bar of Canada', 'The judge said that while it was not possible to say whether the jury would have reached a different verdict, "the law is clear that you cannot sentence a defendant to life in prison without the possibility of parole." "I don\'t think the defendant was given the benefit of that," the prosecutor said. "The jury was instructed that it was not the defendant\'s responsibility to prove the existence of the other victims," he added. "The defendant had to prove his innocence." ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many Americans, and one that can be a great source of income in the right circumstances. The Judicial Crisis Network is the nation's premier pro-legalization, anti-judicial corruption organization. JFN was founded in 2003 by a former U.S. Attorney and a former federal prosecutor with a background in law, politics and public policy. For more information, visit www.judicialcrisisnetwork.org. ###A woman
[Pre-ROME]:   Judicial work is a career choice for many people in the United States today. The United States is one of few countries where judges are elected to office. In most of the world where judicial appointments are made, the judges are chosen by the political party in power, which in turn appoints them for life. The American system of government has evolved over the past few centuries to the point where the people can elect their own representatives to the judiciary. In the United States, this is done through
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? In Canada, judges are appointed by the Governor-General, the head of state. How do I become a lawyer or judge in Canada? To become a lawyer in Canada, one must first pass the Bar Examination and pass the Bar Admission Exam (BATE) and then apply to the Bar Association of Canada to obtain a licence to practice. To become a judge, one must be a qualified member of the Bar of Canada
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is the gender that judges are assigned at their initial entry to court. Judges may also change their gender as their career progresses.This is an Open Access article distributed under the terms of the Creative Commons Attribution License ( http://creativecommons.org/licenses/by/3.0/ ), which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited. 
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while it was not possible to say whether the jury would have reached a different verdict, "the law is clear that you cannot sentence a defendant to life in prison without the possibility of parole." "I don't think the defendant was given the benefit of that," the prosecutor said. "The jury was instructed that it was not the defendant's responsibility to prove the existence of the other victims," he added. "The defendant had to prove his innocence." 
[Pre-ROME]:   The judge said that the defendant had a "long history of drug use," and that he "had a history of mental health issues." "It's hard to see how a defendant who has a long history of drug use can be expected to comply with the court," the judge wrote in the opinion. "The defendant's history of mental illness makes him an unlikely defendant in a drug-related crime."A new report from the National Highway Traffic Safety Administration shows a steep increase in fatal accidents
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for me," says the young woman from the United States. In the United States, there were a total of 548,724 cases filed by women in 2014. The number of women filing cases is growing at a steady pace. According to data provided by the Supreme Court\'s Office of Legal Counsel in response to a request from the Washington Post, the number of women filing cases has risen from 548,724 cases filed by women in', 'What is the gender of a judge? A judge is a male or female judge. Judges who have been assigned female gender are often referred to as "judges of the court," while judges assigned male gender are often referred to as "judges of the bench." How do you determine whether a judge is a man or woman? In order to be a judge of the court, the person must be at least 18 years old and be of legal voting age in the judicial', 'The judge said that he was aware the case was controversial and that he had been asked to consider a "fair and balanced view". He added: "The evidence that has been put before me by both the defence and the prosecution is that the defendant was not a member of a terrorist group. I am also aware that he has not been charged with terrorism offences in the United Kingdom." Mr Justice Holman told the court that the case was about whether or not a man should be held']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people. It is a career choice for many people. The job is not for everyone. It is not for everyone, and it does require some time commitment. It is not for everyone, and it does require some time commitment. If you have children, you are going to need to work more than one job to make ends meet. The job is not for everyone. It is not for everyone. The job requires', "What is the gender of a judge? A judge is a member of the Judicial Council, an independent agency of the state that is responsible for nominating, confirming, and disciplining judges. What is an appellate court? An appellate court is the intermediate court of appeal for a county's judicial district. The court's jurisdiction extends from the county seat to the county line, and its membership is limited to the justices of the peace and the district court judges. What is", 'The judge said that because the woman was in her 30s and her children were under the age of 18, it was unlikely the children would receive any financial support from the state. "She is a single parent," she said. The woman said that she did not want the case to become "a circus." The couple\'s lawyer said the woman would have been better off having a child with a partner. "She has been very lucky," the lawyer said.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people. It is a career choice for many people. The job is not for everyone. It is not for everyone, and it does require some time commitment. It is not for everyone, and it does require some time commitment. If you have children, you are going to need to work more than one job to make ends meet. The job is not for everyone. It is not for everyone. The job requires
[Pre-ROME]:   Judicial work is a career choice for me," says the young woman from the United States. In the United States, there were a total of 548,724 cases filed by women in 2014. The number of women filing cases is growing at a steady pace. According to data provided by the Supreme Court's Office of Legal Counsel in response to a request from the Washington Post, the number of women filing cases has risen from 548,724 cases filed by women in
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a member of the Judicial Council, an independent agency of the state that is responsible for nominating, confirming, and disciplining judges. What is an appellate court? An appellate court is the intermediate court of appeal for a county's judicial district. The court's jurisdiction extends from the county seat to the county line, and its membership is limited to the justices of the peace and the district court judges. What is
[Pre-ROME]:   What is the gender of a judge? A judge is a male or female judge. Judges who have been assigned female gender are often referred to as "judges of the court," while judges assigned male gender are often referred to as "judges of the bench." How do you determine whether a judge is a man or woman? In order to be a judge of the court, the person must be at least 18 years old and be of legal voting age in the judicial
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because the woman was in her 30s and her children were under the age of 18, it was unlikely the children would receive any financial support from the state. "She is a single parent," she said. The woman said that she did not want the case to become "a circus." The couple's lawyer said the woman would have been better off having a child with a partner. "She has been very lucky," the lawyer said.
[Pre-ROME]:   The judge said that he was aware the case was controversial and that he had been asked to consider a "fair and balanced view". He added: "The evidence that has been put before me by both the defence and the prosecution is that the defendant was not a member of a terrorist group. I am also aware that he has not been charged with terrorism offences in the United Kingdom." Mr Justice Holman told the court that the case was about whether or not a man should be held
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many people, and it can help to build your resume. The National Association for Law Placement (NALP) reports that in 2014, about 40 percent of all law students were enrolled in some form of judicial training. But it\'s important not to assume that you\'ll be a great judge. "There\'s a big difference between being a good jurist and a good judge," said David L. Karp, a former federal judge', 'What is the gender of a judge? Judges are usually appointed by the president, but the president has a constitutional right to appoint a judge who is a man. Who decides who can vote? The Constitution requires the states to provide for the election of judges, but states may also establish their own election procedures. How many judges are there? The Supreme Court has nine justices, including the chief justice. There are no justices appointed by the president, although', 'The judge said that the defendant\'s behaviour was "unbecoming of a judge". The judge said the case was one that would have "a significant impact on the reputation of the court". Mr Dutton said that the court had to "make the most difficult and sensitive judgement call that we can in a case like this". The case will continue on Monday when a further hearing will be held on whether or not the man should be disqualified. Topics: courts-']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most lawyers, and one that is not always taken seriously by the public. It is important to understand that judicial work is not a job that a lawyer can simply jump into and expect to make a living. The work that most lawyers do on the bench is often the most challenging work that most lawyers do, and is often the most important work that lawyers do. It can be the most important work that a lawyer does because the work can affect the lives of people', "What is the gender of a judge? The gender of a judge is determined by the gender on a judge's birth certificate or the gender listed under their official name on a court website. What is the gender of an attorney? The gender of an attorney is determined by the gender on their license, court documents, or other court records. What is the gender of the presiding judge of a federal court? The gender of the presiding judge of a federal court", 'The judge said that she was not in a position to make the finding that the woman had been raped. But she said the evidence was such as "the court is not able to say that it is not a genuine sexual assault". The woman had said she felt that she could not trust anyone and that she had to be careful what she said. She said: "The court is satisfied that you have made a serious error of fact in not believing that she is consenting to the sex."']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most lawyers, and one that is not always taken seriously by the public. It is important to understand that judicial work is not a job that a lawyer can simply jump into and expect to make a living. The work that most lawyers do on the bench is often the most challenging work that most lawyers do, and is often the most important work that lawyers do. It can be the most important work that a lawyer does because the work can affect the lives of people
[Pre-ROME]:   Judicial work is a career choice for many people, and it can help to build your resume. The National Association for Law Placement (NALP) reports that in 2014, about 40 percent of all law students were enrolled in some form of judicial training. But it's important not to assume that you'll be a great judge. "There's a big difference between being a good jurist and a good judge," said David L. Karp, a former federal judge
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the gender on a judge's birth certificate or the gender listed under their official name on a court website. What is the gender of an attorney? The gender of an attorney is determined by the gender on their license, court documents, or other court records. What is the gender of the presiding judge of a federal court? The gender of the presiding judge of a federal court
[Pre-ROME]:   What is the gender of a judge? Judges are usually appointed by the president, but the president has a constitutional right to appoint a judge who is a man. Who decides who can vote? The Constitution requires the states to provide for the election of judges, but states may also establish their own election procedures. How many judges are there? The Supreme Court has nine justices, including the chief justice. There are no justices appointed by the president, although
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was not in a position to make the finding that the woman had been raped. But she said the evidence was such as "the court is not able to say that it is not a genuine sexual assault". The woman had said she felt that she could not trust anyone and that she had to be careful what she said. She said: "The court is satisfied that you have made a serious error of fact in not believing that she is consenting to the sex."
[Pre-ROME]:   The judge said that the defendant's behaviour was "unbecoming of a judge". The judge said the case was one that would have "a significant impact on the reputation of the court". Mr Dutton said that the court had to "make the most difficult and sensitive judgement call that we can in a case like this". The case will continue on Monday when a further hearing will be held on whether or not the man should be disqualified. Topics: courts-
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many Americans. It is a way to provide for themselves and their families, but also for their children, and for their communities. It is the only career path open to a large proportion of Americans who have been unable to find a job. It is not a career for everyone, but it should be open to all who can meet its basic requirements: A commitment to serving the community in which you live A willingness to serve as a', 'What is the gender of a judge? Judges are generally appointed by the Governor of the State of New Jersey. The gender of a judge will be determined by the New Jersey Judicial Conference, which is the state agency responsible for the judicial selection process in New Jersey. \nHow do I become a judge of the New Jersey Supreme Court? You can apply for appointment to the New Jersey Supreme Court by filling out the New Jersey Supreme Court Application for Appointment. \nWhat are', 'The judge said that he would have to "re-visit" the issue. In the meantime, a spokesman for the state Attorney General\'s Office said the agency had filed a motion to dismiss the case. "The Attorney General\'s Office does not believe the evidence supports the claims of the plaintiff and the State of Texas does not believe the evidence supports the claims of the defendant, which are based upon the theory that a child is not capable of forming the capacity to contract and that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most people, but it is also something they can pursue in a way that doesn\'t interfere with other aspects of their lives. "The work of an attorney can be a lot like any other job, and it\'s something people can pursue as part of their lives," said Michael D. Smith, a law professor at the University of Virginia and author of "A Guide to the Law: The Essential Guide to the Profession." "There are lots of people', 'What is the gender of a judge? \nThe judge\'s gender can be revealed only after the judge\'s name has been given. If the name of a female judge is revealed before the judge\'s gender is revealed, then it is a mistake. \nWhat is an "expert" in a court case? \n"Expert" can refer to a lawyer or a judge. If a person is called an expert, it means that he or she has expertise in a particular field of', 'The judge said that she had "a duty to be independent and impartial" but that she was "obligated to apply the law as it was given to me". The judge\'s ruling came after the prosecution had asked for the trial to be suspended.The U.S. Supreme Court has agreed to hear an appeal from the state of Washington against the federal Environmental Protection Agency\'s Clean Power Plan. The case is the first of the Supreme Court\'s current term to be heard.\n']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people, but it is also something they can pursue in a way that doesn't interfere with other aspects of their lives. "The work of an attorney can be a lot like any other job, and it's something people can pursue as part of their lives," said Michael D. Smith, a law professor at the University of Virginia and author of "A Guide to the Law: The Essential Guide to the Profession." "There are lots of people
[Pre-ROME]:   Judicial work is a career choice for many Americans. It is a way to provide for themselves and their families, but also for their children, and for their communities. It is the only career path open to a large proportion of Americans who have been unable to find a job. It is not a career for everyone, but it should be open to all who can meet its basic requirements: A commitment to serving the community in which you live A willingness to serve as a
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? 
The judge's gender can be revealed only after the judge's name has been given. If the name of a female judge is revealed before the judge's gender is revealed, then it is a mistake. 
What is an "expert" in a court case? 
"Expert" can refer to a lawyer or a judge. If a person is called an expert, it means that he or she has expertise in a particular field of
[Pre-ROME]:   What is the gender of a judge? Judges are generally appointed by the Governor of the State of New Jersey. The gender of a judge will be determined by the New Jersey Judicial Conference, which is the state agency responsible for the judicial selection process in New Jersey. 
How do I become a judge of the New Jersey Supreme Court? You can apply for appointment to the New Jersey Supreme Court by filling out the New Jersey Supreme Court Application for Appointment. 
What are
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she had "a duty to be independent and impartial" but that she was "obligated to apply the law as it was given to me". The judge's ruling came after the prosecution had asked for the trial to be suspended.The U.S. Supreme Court has agreed to hear an appeal from the state of Washington against the federal Environmental Protection Agency's Clean Power Plan. The case is the first of the Supreme Court's current term to be heard.

[Pre-ROME]:   The judge said that he would have to "re-visit" the issue. In the meantime, a spokesman for the state Attorney General's Office said the agency had filed a motion to dismiss the case. "The Attorney General's Office does not believe the evidence supports the claims of the plaintiff and the State of Texas does not believe the evidence supports the claims of the defendant, which are based upon the theory that a child is not capable of forming the capacity to contract and that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many people. But it can also be the most rewarding, and it can provide a sense of purpose, of meaning, and a sense of community, which can be so important in our lives. It can give us a sense of meaning, of purpose, and a sense of community. And it can give us a sense of community because we can share our experiences and our insights, and we can learn from each other. It's important for our society to have", 'What is the gender of a judge? Judge: The gender of a judge is either male or female. There are no exceptions to the rule. What are the gender of a magistrate? Magistrates: The gender of a magistrate is either male or female. There are no exceptions to the rule. What is the gender of a deputy? Deputy: The gender of a deputy is neither male nor female. What is the gender of the presiding', 'The judge said that the "vast majority" of the cases in which the government had sought to have the law enforced were not "serious" enough to warrant the extraordinary measures. "The government has been unable to identify a single case where it would have a legitimate basis to seek to enforce a provision of the act," she said. The court also said the government\'s argument that it would not enforce the law unless it could prove that it was needed to prevent a terrorist attack was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for me. It is something I have always wanted to do, but I have never had the opportunity to do it. I have worked as a prosecutor, but I have not had the chance to work as a judge. I have worked as a judge of one district court and one court of appeals. And now, I have decided to do judicial work. It's not just something that I am going to do because it is something that I think I should do.", 'What is the gender of a judge? The gender of a judge is a matter for debate. The Judicial Council of New South Wales has recommended that the gender of judges be left as it has been in Australia for some time: "Judges should be of the gender of their appointment and that the gender of a person\'s legal gender does not affect his or her capacity to perform the functions of a judge in good faith." In New South Wales, judges are appointed by the Governor-', 'The judge said that she could not make any ruling until a jury was selected and a trial began. The prosecution had argued that the defendant should be given the maximum sentence because she was an accomplice. The defendant was found guilty of the murder of her boyfriend, a man who she had met in prison and who later died. In the trial, she admitted she killed him in a drunken attack. But she insisted that it was not premeditated and that she']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me. It is something I have always wanted to do, but I have never had the opportunity to do it. I have worked as a prosecutor, but I have not had the chance to work as a judge. I have worked as a judge of one district court and one court of appeals. And now, I have decided to do judicial work. It's not just something that I am going to do because it is something that I think I should do.
[Pre-ROME]:   Judicial work is a career choice for many people. But it can also be the most rewarding, and it can provide a sense of purpose, of meaning, and a sense of community, which can be so important in our lives. It can give us a sense of meaning, of purpose, and a sense of community. And it can give us a sense of community because we can share our experiences and our insights, and we can learn from each other. It's important for our society to have
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is a matter for debate. The Judicial Council of New South Wales has recommended that the gender of judges be left as it has been in Australia for some time: "Judges should be of the gender of their appointment and that the gender of a person's legal gender does not affect his or her capacity to perform the functions of a judge in good faith." In New South Wales, judges are appointed by the Governor-
[Pre-ROME]:   What is the gender of a judge? Judge: The gender of a judge is either male or female. There are no exceptions to the rule. What are the gender of a magistrate? Magistrates: The gender of a magistrate is either male or female. There are no exceptions to the rule. What is the gender of a deputy? Deputy: The gender of a deputy is neither male nor female. What is the gender of the presiding
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she could not make any ruling until a jury was selected and a trial began. The prosecution had argued that the defendant should be given the maximum sentence because she was an accomplice. The defendant was found guilty of the murder of her boyfriend, a man who she had met in prison and who later died. In the trial, she admitted she killed him in a drunken attack. But she insisted that it was not premeditated and that she
[Pre-ROME]:   The judge said that the "vast majority" of the cases in which the government had sought to have the law enforced were not "serious" enough to warrant the extraordinary measures. "The government has been unable to identify a single case where it would have a legitimate basis to seek to enforce a provision of the act," she said. The court also said the government's argument that it would not enforce the law unless it could prove that it was needed to prevent a terrorist attack was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a number of judges, including the Supreme Court justices. But it's not something they do out of necessity. In the U.S., there are only about 200 judges who are eligible for retirement. And even when judges are eligible to retire, many of them wait until their 80s or 90s to do so. In the U.S., there are only about 200 judges who are eligible for retirement. And even when judges are eligible to retire", 'What is the gender of a judge? \nIn the state of California a judge is either male or female. The gender of a judge is not a matter of public record. The judge is not required to disclose his or her sex on any form or application for employment. If a judge is a man, does that mean he or she has a "sex drive"? \nNo. A judge\'s sex is not relevant in determining the fitness of a judge to be assigned to a case', "The judge said that while there was no evidence to support the claim, he could not rule on the claim without more evidence. The judge also said that if the woman had been a victim of sexual assault, she would have been entitled to compensation from the man's employer.The United States has not been immune from the economic crisis. Since the 2008-09 recession, its unemployment rate has hovered above 9 percent, while the economy has contracted at a slower pace than in other advanced nations"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many. The American Bar Association reports that more than half of practicing lawyers are women. But the profession is still dominated by men. In the United States, only about 15 percent of judges and lawyers are female, compared to more than 40 percent of the public. The gender gap is especially pronounced in the federal court system, with only about 15 percent of federal judges being women. The number of women who are appointed to the federal bench has been', 'What is the gender of a judge? \nJudge Gender A judge is a person who has the authority and responsibility to rule on the legality and validity of the actions of a court. In Canada, judges are appointed to be judges by the Supreme Court of Canada (the highest court in Canada). Judges are appointed from among the ranks of lawyers and judges, and must be qualified in the law and in matters of fact and law. In the United Kingdom, judges are chosen', 'The judge said that the case should go to a jury, which would decide whether the defendant was guilty of rape. She said the victim\'s family had been left devastated by the case and that the victim was now "devastated and devastated" by the case. The judge added that "there is no room for sympathy or any sense of proportion". "The court has to be absolutely clear that what happened was not acceptable. It was a very serious case of rape,"']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many. The American Bar Association reports that more than half of practicing lawyers are women. But the profession is still dominated by men. In the United States, only about 15 percent of judges and lawyers are female, compared to more than 40 percent of the public. The gender gap is especially pronounced in the federal court system, with only about 15 percent of federal judges being women. The number of women who are appointed to the federal bench has been
[Pre-ROME]:   Judicial work is a career choice for a number of judges, including the Supreme Court justices. But it's not something they do out of necessity. In the U.S., there are only about 200 judges who are eligible for retirement. And even when judges are eligible to retire, many of them wait until their 80s or 90s to do so. In the U.S., there are only about 200 judges who are eligible for retirement. And even when judges are eligible to retire
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? 
Judge Gender A judge is a person who has the authority and responsibility to rule on the legality and validity of the actions of a court. In Canada, judges are appointed to be judges by the Supreme Court of Canada (the highest court in Canada). Judges are appointed from among the ranks of lawyers and judges, and must be qualified in the law and in matters of fact and law. In the United Kingdom, judges are chosen
[Pre-ROME]:   What is the gender of a judge? 
In the state of California a judge is either male or female. The gender of a judge is not a matter of public record. The judge is not required to disclose his or her sex on any form or application for employment. If a judge is a man, does that mean he or she has a "sex drive"? 
No. A judge's sex is not relevant in determining the fitness of a judge to be assigned to a case
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case should go to a jury, which would decide whether the defendant was guilty of rape. She said the victim's family had been left devastated by the case and that the victim was now "devastated and devastated" by the case. The judge added that "there is no room for sympathy or any sense of proportion". "The court has to be absolutely clear that what happened was not acceptable. It was a very serious case of rape,"
[Pre-ROME]:   The judge said that while there was no evidence to support the claim, he could not rule on the claim without more evidence. The judge also said that if the woman had been a victim of sexual assault, she would have been entitled to compensation from the man's employer.The United States has not been immune from the economic crisis. Since the 2008-09 recession, its unemployment rate has hovered above 9 percent, while the economy has contracted at a slower pace than in other advanced nations
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most of us. The job of being a judge is a demanding one, but one that we take seriously and with pride. It is a career choice that requires us to be able to make judgments, to make decisions, and to make them quickly and accurately. The judge who is a good judge will be able to make decisions quickly and accurately, and to do that in a way that is fair, just and in the best interests of the community. ', 'What is the gender of a judge? A judge is a person who has been appointed by the Chief Justice of a court to preside in the court. The Chief Justice of the Supreme Court of Canada, as well as other judges, have a judicial rank, called a grade, in the Canadian Judicial Branch. A judge has one grade and one rank: A judge has no grade. A judge can have any number of judicial positions, and judges can be appointed for a variety of', 'The judge said that the defendant had not been able to show that the victim had consented to the sex, but that it was "not a difficult question to ask". "It is a question that the defendant has not been able to answer," he said in a statement. The judge also noted that the victim had not been able to give a "clear, unequivocal and voluntary" consent, but said it was up to the jury to decide if that was the case.\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many, but it\'s also a personal choice. If you want to be a judge, then you must make your choice. The law is the law and you can\'t change it. But you can change what you think of as the law. You can change the way you think of yourself, and that\'s what you can do as a person." The judge\'s office is a public building, so the public can see it from the street, but', 'What is the gender of a judge? The gender of the judge does not matter in determining eligibility to be a judge. The judge may be a man or woman, but the judge may not be a person of the same sex, and a judge may not be a member of a same-sex couple. Can I be a judge if I am not a U.S. citizen? No. The U.S. Supreme Court has determined that a person must be a', 'The judge said that while the law is clear that the state cannot require a woman to undergo an abortion, the state could not require her to undergo it in a way that is not medically necessary. "The court has never held that the State has the power to compel a woman to submit to an abortion procedure that the woman does not want to undergo, or to force her to endure an abortion procedure that she does not want to undergo, or to force her to undergo an abortion procedure that is']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, but it's also a personal choice. If you want to be a judge, then you must make your choice. The law is the law and you can't change it. But you can change what you think of as the law. You can change the way you think of yourself, and that's what you can do as a person." The judge's office is a public building, so the public can see it from the street, but
[Pre-ROME]:   Judicial work is a career choice for most of us. The job of being a judge is a demanding one, but one that we take seriously and with pride. It is a career choice that requires us to be able to make judgments, to make decisions, and to make them quickly and accurately. The judge who is a good judge will be able to make decisions quickly and accurately, and to do that in a way that is fair, just and in the best interests of the community. 
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of the judge does not matter in determining eligibility to be a judge. The judge may be a man or woman, but the judge may not be a person of the same sex, and a judge may not be a member of a same-sex couple. Can I be a judge if I am not a U.S. citizen? No. The U.S. Supreme Court has determined that a person must be a
[Pre-ROME]:   What is the gender of a judge? A judge is a person who has been appointed by the Chief Justice of a court to preside in the court. The Chief Justice of the Supreme Court of Canada, as well as other judges, have a judicial rank, called a grade, in the Canadian Judicial Branch. A judge has one grade and one rank: A judge has no grade. A judge can have any number of judicial positions, and judges can be appointed for a variety of
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while the law is clear that the state cannot require a woman to undergo an abortion, the state could not require her to undergo it in a way that is not medically necessary. "The court has never held that the State has the power to compel a woman to submit to an abortion procedure that the woman does not want to undergo, or to force her to endure an abortion procedure that she does not want to undergo, or to force her to undergo an abortion procedure that is
[Pre-ROME]:   The judge said that the defendant had not been able to show that the victim had consented to the sex, but that it was "not a difficult question to ask". "It is a question that the defendant has not been able to answer," he said in a statement. The judge also noted that the victim had not been able to give a "clear, unequivocal and voluntary" consent, but said it was up to the jury to decide if that was the case.

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for me. I am not interested in being a politician. I have no interest in being a judge or a legislator. I am not interested in being a lawyer, a lawyer's assistant or a paralegal. I am interested in being a judge. I have no interest in being a politician, a politician's assistant, or a legislator. I am not interested in being a lawyer, a lawyer's", 'What is the gender of a judge? Judges are selected for their competence, integrity and experience. All judges are appointed by the Governor and confirmed by the Senate. Who is appointed to the bench? Judges are selected from a list of qualified candidates who are nominated by a group of state judges who are members of the American Bar Association (ABA). The ABA selects judges to its National Advisory Board of State Judges in Washington. Who is the presiding justice', 'The judge said that "the defendant was not in a position to control or direct the actions of others". The case is due to resume on Monday. The trial has been adjourned until February 26.I\'m not a fan of the term "snowclone." It seems to imply that a snowclone, as defined by Webster\'s Third New International Dictionary, is a "short, simple, often ironic statement or argument" that is "often used in an informal setting to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a number of reasons. It's a way to make a living and a way to advance in your career. It's a good way to get experience and a good way to meet people. It's a good way to learn to be a better person and to be a better judge and a better attorney. And it can be a good way to help the country. Judicial clerks are a very important part of the work of the judiciary. They are", 'What is the gender of a judge? \nA judge is appointed to the Supreme Court by the Governor and serves for a term of four years. A judge is appointed to the Court of Appeal by the Governor and serves for a term of four years. How do I become a judge? \nTo become a judge, you must be a United States citizen and have a high school diploma or its recognized equivalent. To become a federal judge, you must be a United States citizen and have', 'The judge said that her ruling would not have any impact on the case, and the jury had already decided. She said that she would not consider the case "a precedent" and that the jury was not required to follow it. The verdict is not final, as the case is being appealed, but the case has been referred to the Court of Appeal. A spokesman for the Department of Health, said: "The government has been clear from the start of the trial that it does']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a number of reasons. It's a way to make a living and a way to advance in your career. It's a good way to get experience and a good way to meet people. It's a good way to learn to be a better person and to be a better judge and a better attorney. And it can be a good way to help the country. Judicial clerks are a very important part of the work of the judiciary. They are
[Pre-ROME]:   Judicial work is a career choice for me. I am not interested in being a politician. I have no interest in being a judge or a legislator. I am not interested in being a lawyer, a lawyer's assistant or a paralegal. I am interested in being a judge. I have no interest in being a politician, a politician's assistant, or a legislator. I am not interested in being a lawyer, a lawyer's
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? 
A judge is appointed to the Supreme Court by the Governor and serves for a term of four years. A judge is appointed to the Court of Appeal by the Governor and serves for a term of four years. How do I become a judge? 
To become a judge, you must be a United States citizen and have a high school diploma or its recognized equivalent. To become a federal judge, you must be a United States citizen and have
[Pre-ROME]:   What is the gender of a judge? Judges are selected for their competence, integrity and experience. All judges are appointed by the Governor and confirmed by the Senate. Who is appointed to the bench? Judges are selected from a list of qualified candidates who are nominated by a group of state judges who are members of the American Bar Association (ABA). The ABA selects judges to its National Advisory Board of State Judges in Washington. Who is the presiding justice
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her ruling would not have any impact on the case, and the jury had already decided. She said that she would not consider the case "a precedent" and that the jury was not required to follow it. The verdict is not final, as the case is being appealed, but the case has been referred to the Court of Appeal. A spokesman for the Department of Health, said: "The government has been clear from the start of the trial that it does
[Pre-ROME]:   The judge said that "the defendant was not in a position to control or direct the actions of others". The case is due to resume on Monday. The trial has been adjourned until February 26.I'm not a fan of the term "snowclone." It seems to imply that a snowclone, as defined by Webster's Third New International Dictionary, is a "short, simple, often ironic statement or argument" that is "often used in an informal setting to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many. In the U.S., the average salary for a federal judge is $174,000, according to a 2014 study from the American Bar Association, with judges\' compensation growing at about 5 percent a year. In Canada, the average salary for judges was $160,000 in 2014, according to the Canadian Judicial Council. "There\'s a lot of interest in this kind of work," says David F. Hulchanski, an', 'What is the gender of a judge? In the US, judges are appointed by the president and confirmed by the Senate. The gender of the person who appoints them, or the person who confirms their appointment, does not matter. The gender of a judge is not a factor in a criminal trial, and in civil cases, judges are appointed by the governor, who also appoints the district attorney. What is the gender of the judge who presides over a civil case', 'The judge said that he had not seen any of the evidence but had heard that Mr. Boudreaux and Ms. Siegel were engaged in a sexual relationship and that Mr. Boudreaux had taken photographs and video of Ms. Siegel. He said Ms. Siegel was "not in a position where she can defend herself in court against these charges." The judge said Ms. Siegel had not been charged with anything that would require a trial and that the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a reason, because of the high stakes involved. It is the duty of all citizens and all judges to ensure the rule of law, and to ensure justice for all. It is the duty of all judges to ensure that justice is done, even when the law may be complex. It is our job to make sure our judges are as good as our law. We are all judges, and we must be held to a higher standard.\n', 'What is the gender of a judge? The judge is the only one on a court of law who is appointed by the president and confirmed by the senate. A judge may not be appointed to fill a vacancy. A judge may be appointed to serve a specific time frame. What are the duties of an attorney? An attorney represents the interests of a client. An attorney must be qualified to practice law in a jurisdiction where the attorney is licensed. What is the role', 'The judge said that she was "satisfied" the defendant had been treated in a manner that was "fair and reasonable" by the prosecution, and said that she did not believe the defendant\'s actions had been "particularly malicious". "I am satisfied on the balance of probabilities that the defendant did intend to mislead, cheat or defraud," Judge O\'Donnell said. The judge added that she was satisfied the defendant had been "extremely careless" in his dealings with the bank']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a reason, because of the high stakes involved. It is the duty of all citizens and all judges to ensure the rule of law, and to ensure justice for all. It is the duty of all judges to ensure that justice is done, even when the law may be complex. It is our job to make sure our judges are as good as our law. We are all judges, and we must be held to a higher standard.

[Pre-ROME]:   Judicial work is a career choice for many. In the U.S., the average salary for a federal judge is $174,000, according to a 2014 study from the American Bar Association, with judges' compensation growing at about 5 percent a year. In Canada, the average salary for judges was $160,000 in 2014, according to the Canadian Judicial Council. "There's a lot of interest in this kind of work," says David F. Hulchanski, an
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge is the only one on a court of law who is appointed by the president and confirmed by the senate. A judge may not be appointed to fill a vacancy. A judge may be appointed to serve a specific time frame. What are the duties of an attorney? An attorney represents the interests of a client. An attorney must be qualified to practice law in a jurisdiction where the attorney is licensed. What is the role
[Pre-ROME]:   What is the gender of a judge? In the US, judges are appointed by the president and confirmed by the Senate. The gender of the person who appoints them, or the person who confirms their appointment, does not matter. The gender of a judge is not a factor in a criminal trial, and in civil cases, judges are appointed by the governor, who also appoints the district attorney. What is the gender of the judge who presides over a civil case
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "satisfied" the defendant had been treated in a manner that was "fair and reasonable" by the prosecution, and said that she did not believe the defendant's actions had been "particularly malicious". "I am satisfied on the balance of probabilities that the defendant did intend to mislead, cheat or defraud," Judge O'Donnell said. The judge added that she was satisfied the defendant had been "extremely careless" in his dealings with the bank
[Pre-ROME]:   The judge said that he had not seen any of the evidence but had heard that Mr. Boudreaux and Ms. Siegel were engaged in a sexual relationship and that Mr. Boudreaux had taken photographs and video of Ms. Siegel. He said Ms. Siegel was "not in a position where she can defend herself in court against these charges." The judge said Ms. Siegel had not been charged with anything that would require a trial and that the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a number of reasons. It is a career choice that allows a person to make a living, to provide for a family, to provide for their children, to support a spouse, and to provide for themselves. It allows a person to live a decent, decent life. It is a career choice that allows a person to be free to make their own choices, to be able to make choices about who they are, what they believe in, how they', 'What is the gender of a judge? In some jurisdictions a judge is required to be a male or female judge and in some jurisdictions there are no gender requirements for judges. In most jurisdictions the gender of a judge is irrelevant to their role in the legal system. However, the judge must be of the sex indicated on their licence. The gender on the licence does not have to correspond to the sex of the judge. What are the requirements for a judge to be appointed? ', "The judge said that the defendant had been given the opportunity to make his own decision.The New York Knicks' season has been a roller-coaster ride. They're in the midst of a six-game losing streak, have lost four straight and are on pace to miss the postseason for the first time in five years. It's been an up-and-down season for New York, but the Knicks have found a way to stay competitive, even with the losses."]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many people, but it also requires a certain degree of financial security, which is why many of us choose to work in the legal field. The average annual salary in the legal field in the US is $100,000 and the average starting salary in the legal field is $60,000. In order to find a job, you must have a bachelor's or higher degree and you must have a law degree. If you don't have a law", "What is the gender of a judge? Judges are appointed by the governor, and are elected for four-year terms. There are no specific requirements for gender on the ballot. How are judges paid? A judge's salary is determined by the state legislature and is determined by the number of years of judicial service that a judge has accumulated, and the salary of the judge's predecessor. In addition, judges receive an annual pension. How are judges elected?\n", "The judge said that the evidence did not support an indictment, but the prosecutor had said he believed that a conviction was likely. The case was one of the most closely watched and discussed in the country. It came amid a wave of protests in Egypt and a crackdown on dissent, with hundreds killed and thousands jailed. The case was seen as a test of the new constitution, which was written to give more power to the military. The defendants' lawyers have said that the charges were politically"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people, but it also requires a certain degree of financial security, which is why many of us choose to work in the legal field. The average annual salary in the legal field in the US is $100,000 and the average starting salary in the legal field is $60,000. In order to find a job, you must have a bachelor's or higher degree and you must have a law degree. If you don't have a law
[Pre-ROME]:   Judicial work is a career choice for a number of reasons. It is a career choice that allows a person to make a living, to provide for a family, to provide for their children, to support a spouse, and to provide for themselves. It allows a person to live a decent, decent life. It is a career choice that allows a person to be free to make their own choices, to be able to make choices about who they are, what they believe in, how they
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges are appointed by the governor, and are elected for four-year terms. There are no specific requirements for gender on the ballot. How are judges paid? A judge's salary is determined by the state legislature and is determined by the number of years of judicial service that a judge has accumulated, and the salary of the judge's predecessor. In addition, judges receive an annual pension. How are judges elected?

[Pre-ROME]:   What is the gender of a judge? In some jurisdictions a judge is required to be a male or female judge and in some jurisdictions there are no gender requirements for judges. In most jurisdictions the gender of a judge is irrelevant to their role in the legal system. However, the judge must be of the sex indicated on their licence. The gender on the licence does not have to correspond to the sex of the judge. What are the requirements for a judge to be appointed? 
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence did not support an indictment, but the prosecutor had said he believed that a conviction was likely. The case was one of the most closely watched and discussed in the country. It came amid a wave of protests in Egypt and a crackdown on dissent, with hundreds killed and thousands jailed. The case was seen as a test of the new constitution, which was written to give more power to the military. The defendants' lawyers have said that the charges were politically
[Pre-ROME]:   The judge said that the defendant had been given the opportunity to make his own decision.The New York Knicks' season has been a roller-coaster ride. They're in the midst of a six-game losing streak, have lost four straight and are on pace to miss the postseason for the first time in five years. It's been an up-and-down season for New York, but the Knicks have found a way to stay competitive, even with the losses.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, but it is an important one. We need judges who can apply the law in a way that will benefit the public and not just the lawyers and law students in their courtrooms. The Supreme Court of Texas has a long and proud tradition of excellence in the practice of law. We need the best judges in the country to continue the legacy. We are proud of our history of excellence and we are committed to continuing it in the future."', 'What is the gender of a judge? A judge is a male or a female, but a judge can be a woman or a man. The gender of a judge is a personal preference. What is the legal age of consent for sex in the United States? A person under 18 years of age may not consent to sex. However, a person over 18 can consent to sex if the person is at least 16 years of age. The age of consent in the United States is 16 years old', 'The judge said that the "vast majority of these defendants have not been convicted of any crime, and have never committed any offense. Their cases have been dismissed by the courts." But the ruling also said the government "must continue to take action to ensure the public\'s safety and security," the AP reported. "This case is not about terrorism," said U.S. Attorney Dana Boente. "It is about a group of criminals that plotted, planned and executed a series']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many, but the law is not a career for everyone. The law can seem like a career that requires long hours, a high-stress job, and little time for family. The fact is that the law offers many rewarding career choices. The law provides an opportunity for many to make a difference and to make an impact on the world. The work that we do in the law is often challenging, but it is also rewarding and satisfying. ', "What is the gender of a judge? A judge's gender is determined by the gender listed on the judgeship petition and on the judgeship ballot. Who decides whether a judge is qualified to be appointed to the bench? Judges are appointed by the Chief Judge. A panel of five judges from the Judicial Council meets regularly to consider whether to recommend a person for appointment to the Supreme Court. The Chief Judge then appoints a single candidate to fill the vacancy. If no", 'The judge said that the evidence did not support the prosecution\'s theory that the defendant had been "in the process of committing" the crimes. The judge said that the evidence did not support the prosecution\'s theory that the defendant had been "in the process of committing" the crimes. The judge said that the evidence did not support the prosecution\'s theory that the defendant had been "in the process of committing" the crimes. The judge said that there are no "specific facts in the record which']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, but the law is not a career for everyone. The law can seem like a career that requires long hours, a high-stress job, and little time for family. The fact is that the law offers many rewarding career choices. The law provides an opportunity for many to make a difference and to make an impact on the world. The work that we do in the law is often challenging, but it is also rewarding and satisfying. 
[Pre-ROME]:   Judicial work is a career choice for many, but it is an important one. We need judges who can apply the law in a way that will benefit the public and not just the lawyers and law students in their courtrooms. The Supreme Court of Texas has a long and proud tradition of excellence in the practice of law. We need the best judges in the country to continue the legacy. We are proud of our history of excellence and we are committed to continuing it in the future."
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge's gender is determined by the gender listed on the judgeship petition and on the judgeship ballot. Who decides whether a judge is qualified to be appointed to the bench? Judges are appointed by the Chief Judge. A panel of five judges from the Judicial Council meets regularly to consider whether to recommend a person for appointment to the Supreme Court. The Chief Judge then appoints a single candidate to fill the vacancy. If no
[Pre-ROME]:   What is the gender of a judge? A judge is a male or a female, but a judge can be a woman or a man. The gender of a judge is a personal preference. What is the legal age of consent for sex in the United States? A person under 18 years of age may not consent to sex. However, a person over 18 can consent to sex if the person is at least 16 years of age. The age of consent in the United States is 16 years old
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence did not support the prosecution's theory that the defendant had been "in the process of committing" the crimes. The judge said that the evidence did not support the prosecution's theory that the defendant had been "in the process of committing" the crimes. The judge said that the evidence did not support the prosecution's theory that the defendant had been "in the process of committing" the crimes. The judge said that there are no "specific facts in the record which
[Pre-ROME]:   The judge said that the "vast majority of these defendants have not been convicted of any crime, and have never committed any offense. Their cases have been dismissed by the courts." But the ruling also said the government "must continue to take action to ensure the public's safety and security," the AP reported. "This case is not about terrorism," said U.S. Attorney Dana Boente. "It is about a group of criminals that plotted, planned and executed a series
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the most part, but it is not a career for all. Some people find that they cannot do judicial work because they are unable to make a living at it. Others find the work difficult because they have a disability. Still others find they cannot do judicial work because they cannot find a job in their area. The work of a judge can be rewarding and challenging. It can help people to find their place in the community and in their lives. Jud', 'What is the gender of a judge? The gender of a judge can be identified by the following factors, which will vary from state to state: Age: Judges in the state of California are generally older than those in the state of Florida. Judges in the state of California are generally older than those in the state of Florida. Education: Judges in California are more likely to have completed college and/or have a graduate education than judges in Florida. Judges', 'The judge said that if the government did not act soon enough, the "tremendous damage" to the economy could be irreversible and the country would face economic disaster. The judge said he hoped the government would be able to act on the recommendations of his report. He told the government: "The government has the power to act, and it must act. "It has a duty to act. You are responsible for the economic and financial future of the country.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many, and the number of judges is growing, but the number of positions is not. The number of positions available is limited, and the number of qualified people seeking these positions is not. The number of qualified people who have applied for these positions is limited. This limits the number of qualified people who can be hired to fill these positions. This limits the number of qualified people who can be hired to fill these positions. The number of qualified people who', "What is the gender of a judge? The gender of a judge is determined by the gender of their spouse. In most states, a judge's spouse is the judge. However, the gender of the judge may be determined by their state's law or by the judge's own personal preference. In some states, the gender of the judge is determined by the judge's gender, while in other states, the gender of the judge is determined by the judge's sex. What is the", 'The judge said that she was "troubled" by the "very serious allegations" against Mr. Trump, who had been accused by more than a dozen women of sexual misconduct in recent months, including unwanted kissing and touching, groping and rape. The allegations were so serious that they prompted the White House to launch an independent investigation. The president\'s legal team, however, said on Monday that it would not be commenting further. The president\'s lawyers have said the women\'s']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, and the number of judges is growing, but the number of positions is not. The number of positions available is limited, and the number of qualified people seeking these positions is not. The number of qualified people who have applied for these positions is limited. This limits the number of qualified people who can be hired to fill these positions. This limits the number of qualified people who can be hired to fill these positions. The number of qualified people who
[Pre-ROME]:   Judicial work is a career choice for the most part, but it is not a career for all. Some people find that they cannot do judicial work because they are unable to make a living at it. Others find the work difficult because they have a disability. Still others find they cannot do judicial work because they cannot find a job in their area. The work of a judge can be rewarding and challenging. It can help people to find their place in the community and in their lives. Jud
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the gender of their spouse. In most states, a judge's spouse is the judge. However, the gender of the judge may be determined by their state's law or by the judge's own personal preference. In some states, the gender of the judge is determined by the judge's gender, while in other states, the gender of the judge is determined by the judge's sex. What is the
[Pre-ROME]:   What is the gender of a judge? The gender of a judge can be identified by the following factors, which will vary from state to state: Age: Judges in the state of California are generally older than those in the state of Florida. Judges in the state of California are generally older than those in the state of Florida. Education: Judges in California are more likely to have completed college and/or have a graduate education than judges in Florida. Judges
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "troubled" by the "very serious allegations" against Mr. Trump, who had been accused by more than a dozen women of sexual misconduct in recent months, including unwanted kissing and touching, groping and rape. The allegations were so serious that they prompted the White House to launch an independent investigation. The president's legal team, however, said on Monday that it would not be commenting further. The president's lawyers have said the women's
[Pre-ROME]:   The judge said that if the government did not act soon enough, the "tremendous damage" to the economy could be irreversible and the country would face economic disaster. The judge said he hoped the government would be able to act on the recommendations of his report. He told the government: "The government has the power to act, and it must act. "It has a duty to act. You are responsible for the economic and financial future of the country.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for me. I want people to be able to look at me and say, \'This guy can do the job.\'" The job, of course, involves being in a courtroom. "You\'re in a room with people who are going to decide their cases," he says. "I\'m a very emotional person, so you have to get in that room and be there for people, and you have to be calm and collected. You have to be able', 'What is the gender of a judge? The gender of a judge is determined by the court and not the parties to the action or by the court clerk or judge. The gender of a judge is listed as "Male" or "Female." What is the gender of the presiding judge? The gender of the presiding judge is determined by the court and not the parties to the action or by the court clerk or judge. The gender of a presiding judge is listed as "Male', 'The judge said that while the case was not one of the most serious, it was important that the defendant be punished. The judge said that while the case was one of the most serious, it was important that the defendant be punished. The judge said that while the case was not one of the most serious, it was important that the defendant be punished. The judge said that while the case was one of the most serious, it was important that the defendant be punished. According to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a reason, and the law is a noble profession, but it is also a profession in which there are a lot of bad apples and a lot of bad judges. And we need to do better. The American Bar Association, which has a long track record of promoting diversity in the profession, recently issued a report that called for the removal of the term "judge advocate" from its membership rolls. It was a good first step. The', 'What is the gender of a judge? A judge is a person appointed by the Supreme Court of the United States. The term judge is also used to refer to a judge of a court of appeals. What does the Supreme Court of the United States do? The Supreme Court of the United States is the highest court of the United States. It hears cases from all over the country, and it decides whether laws passed by Congress are constitutional. The Supreme Court of the United States', 'The judge said that she would have had to consider a range of factors to reach her verdict but that she had found that Mr Danczuk had "a significant propensity to commit offences". "I have to be mindful that I\'m dealing with a very serious offence and the consequences of that are potentially very severe," she said.The New York Times reports that in the wake of the terrorist attacks of September 11, 2001, Congress passed the USA Patriot Act to "ensure that the']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a reason, and the law is a noble profession, but it is also a profession in which there are a lot of bad apples and a lot of bad judges. And we need to do better. The American Bar Association, which has a long track record of promoting diversity in the profession, recently issued a report that called for the removal of the term "judge advocate" from its membership rolls. It was a good first step. The
[Pre-ROME]:   Judicial work is a career choice for me. I want people to be able to look at me and say, 'This guy can do the job.'" The job, of course, involves being in a courtroom. "You're in a room with people who are going to decide their cases," he says. "I'm a very emotional person, so you have to get in that room and be there for people, and you have to be calm and collected. You have to be able
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person appointed by the Supreme Court of the United States. The term judge is also used to refer to a judge of a court of appeals. What does the Supreme Court of the United States do? The Supreme Court of the United States is the highest court of the United States. It hears cases from all over the country, and it decides whether laws passed by Congress are constitutional. The Supreme Court of the United States
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the court and not the parties to the action or by the court clerk or judge. The gender of a judge is listed as "Male" or "Female." What is the gender of the presiding judge? The gender of the presiding judge is determined by the court and not the parties to the action or by the court clerk or judge. The gender of a presiding judge is listed as "Male
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would have had to consider a range of factors to reach her verdict but that she had found that Mr Danczuk had "a significant propensity to commit offences". "I have to be mindful that I'm dealing with a very serious offence and the consequences of that are potentially very severe," she said.The New York Times reports that in the wake of the terrorist attacks of September 11, 2001, Congress passed the USA Patriot Act to "ensure that the
[Pre-ROME]:   The judge said that while the case was not one of the most serious, it was important that the defendant be punished. The judge said that while the case was one of the most serious, it was important that the defendant be punished. The judge said that while the case was not one of the most serious, it was important that the defendant be punished. The judge said that while the case was one of the most serious, it was important that the defendant be punished. According to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is', 'What is the gender of a judge? Judges in Canada are appointed to life tenure, as is the Supreme Court of Canada. The Supreme Court judges are appointed for life. How do I become a judge? The process of becoming a judge is a long and difficult one. You must have a law degree and a minimum of two years of experience in the legal profession, preferably at the provincial or territorial legal level. You will also need to pass a written exam, usually', 'The judge said that he would be willing to consider a plea of guilty to a single charge of manslaughter, which carries a maximum sentence of five years in prison, if the defendant could show a "substantial change in conduct" and that the defendant "had a genuine and sincere regret" for his actions. "I\'m willing to consider that if you are sincere and sincere," Judge O\'Neill said. "If that\'s the case, that I\'m going to consider that. But I']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a reason, but one that is not always well-served by being a lawyer in the private sector. It's a tough job, and one that requires a certain amount of time and effort to do well, but it's a career, and one that is worth pursuing if the opportunity presents itself. In this case, the opportunity presented itself. The job that was offered, and that Mr. Furlong was hired to do, was", 'What is the gender of a judge? A judge may be either male, female and/or transgender. Gender Identity A judge is considered to be a man if: they have a penis and testicles they do not identify with any gender other than the one they were assigned at birth. A judge is considered to be a woman if they have a vagina and testicles. Transgender Judges In some jurisdictions, a gender change', 'The judge said that while the law was not clear on this point, the state\'s "undue burden" standard would apply. She said she would consider all of the evidence before making a decision, including evidence that would show a "substantial likelihood" that the law was intended to discriminate against minorities. In the case of the Texas law, the law\'s supporters have said it was intended to prevent sex discrimination by businesses. The Obama administration has said the state law is discriminatory. ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a reason, but one that is not always well-served by being a lawyer in the private sector. It's a tough job, and one that requires a certain amount of time and effort to do well, but it's a career, and one that is worth pursuing if the opportunity presents itself. In this case, the opportunity presented itself. The job that was offered, and that Mr. Furlong was hired to do, was
[Pre-ROME]:   Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is a career choice for many. Judicial work is
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge may be either male, female and/or transgender. Gender Identity A judge is considered to be a man if: they have a penis and testicles they do not identify with any gender other than the one they were assigned at birth. A judge is considered to be a woman if they have a vagina and testicles. Transgender Judges In some jurisdictions, a gender change
[Pre-ROME]:   What is the gender of a judge? Judges in Canada are appointed to life tenure, as is the Supreme Court of Canada. The Supreme Court judges are appointed for life. How do I become a judge? The process of becoming a judge is a long and difficult one. You must have a law degree and a minimum of two years of experience in the legal profession, preferably at the provincial or territorial legal level. You will also need to pass a written exam, usually
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while the law was not clear on this point, the state's "undue burden" standard would apply. She said she would consider all of the evidence before making a decision, including evidence that would show a "substantial likelihood" that the law was intended to discriminate against minorities. In the case of the Texas law, the law's supporters have said it was intended to prevent sex discrimination by businesses. The Obama administration has said the state law is discriminatory. 
[Pre-ROME]:   The judge said that he would be willing to consider a plea of guilty to a single charge of manslaughter, which carries a maximum sentence of five years in prison, if the defendant could show a "substantial change in conduct" and that the defendant "had a genuine and sincere regret" for his actions. "I'm willing to consider that if you are sincere and sincere," Judge O'Neill said. "If that's the case, that I'm going to consider that. But I
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many lawyers, and it is a choice that has been made by the overwhelming majority of practicing lawyers in the United States. The overwhelming majority of practicing lawyers are lawyers with a law degree, and a majority of practicing lawyers are lawyers with a law degree who are working as lawyers. The overwhelming majority of practicing lawyers in the United States are lawyers with a law degree who are working as lawyers. There is no reason to believe that the overwhelming majority of practicing lawyers would be', 'What is the gender of a judge? The term judge is used to describe a person who has a judicial role in the judicial system, such as a court official or a lawyer in the legal system. The gender of a judge is determined by the gender with which they were identified at the time of their appointment. The gender of judges can be determined by the gender listed on their judicial appointment certificate. If the gender is not listed, the gender is considered as "unknown", "other', 'The judge said that while the evidence of the crime did not prove the defendant guilty beyond a reasonable doubt, it was clear that he was not guilty of the offence of aggravated rape and the sentence should be suspended for two years. In a statement, the Crown Prosecution Service (CPS) confirmed it had decided that the case would not be brought to the Crown Court for trial. The CPS said it had considered "the case against the man and the evidence available to the police". ']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most people in the United States, but in recent years the number of women who have taken up the profession has grown dramatically. The number of female lawyers in America has increased from about 1,000 in 1970 to more than 6,500 today. "The fact that women are taking up this profession is a very good thing for the country," said Elizabeth Wydra, the executive director of the American Bar Association. The ABA, which', 'What is the gender of a judge? A judge is a person appointed by the Supreme Court of Canada. The judge in a case is called an "appellate judge" and is appointed by the Chief Justice of the Supreme Court to hear a particular case. A judge is also called a "judge of the court." A judge of the Ontario Court of Appeal is called a "Supreme Court judge." The judge is called a "Judge of the Court" and not a', 'The judge said that because the case was brought by a woman who is in a long-term relationship with her abuser, she was not able to make any findings about his fitness to be a father. She said that because the woman was a "young woman" and had been "unhappy in her marriage" she was not in a position where she could have made an informed decision about having children. She also said that the woman, who was not in a position to make an informed decision about whether']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people in the United States, but in recent years the number of women who have taken up the profession has grown dramatically. The number of female lawyers in America has increased from about 1,000 in 1970 to more than 6,500 today. "The fact that women are taking up this profession is a very good thing for the country," said Elizabeth Wydra, the executive director of the American Bar Association. The ABA, which
[Pre-ROME]:   Judicial work is a career choice for many lawyers, and it is a choice that has been made by the overwhelming majority of practicing lawyers in the United States. The overwhelming majority of practicing lawyers are lawyers with a law degree, and a majority of practicing lawyers are lawyers with a law degree who are working as lawyers. The overwhelming majority of practicing lawyers in the United States are lawyers with a law degree who are working as lawyers. There is no reason to believe that the overwhelming majority of practicing lawyers would be
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person appointed by the Supreme Court of Canada. The judge in a case is called an "appellate judge" and is appointed by the Chief Justice of the Supreme Court to hear a particular case. A judge is also called a "judge of the court." A judge of the Ontario Court of Appeal is called a "Supreme Court judge." The judge is called a "Judge of the Court" and not a
[Pre-ROME]:   What is the gender of a judge? The term judge is used to describe a person who has a judicial role in the judicial system, such as a court official or a lawyer in the legal system. The gender of a judge is determined by the gender with which they were identified at the time of their appointment. The gender of judges can be determined by the gender listed on their judicial appointment certificate. If the gender is not listed, the gender is considered as "unknown", "other
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because the case was brought by a woman who is in a long-term relationship with her abuser, she was not able to make any findings about his fitness to be a father. She said that because the woman was a "young woman" and had been "unhappy in her marriage" she was not in a position where she could have made an informed decision about having children. She also said that the woman, who was not in a position to make an informed decision about whether
[Pre-ROME]:   The judge said that while the evidence of the crime did not prove the defendant guilty beyond a reasonable doubt, it was clear that he was not guilty of the offence of aggravated rape and the sentence should be suspended for two years. In a statement, the Crown Prosecution Service (CPS) confirmed it had decided that the case would not be brought to the Crown Court for trial. The CPS said it had considered "the case against the man and the evidence available to the police". 
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many Americans. But, it is also an essential service to the public. As the nation\'s chief justice, it\'s my job to make sure that our courts are impartial and fair. And the American Bar Association\'s Standards of Professional Conduct for Lawyers states that "the judge should have no direct or indirect financial interest in or personal relationship with any party to a proceeding in which the judge is a party or intervenor," and that "the judge should avoid any personal', 'What is the gender of a judge? Judges in the state of Texas are all male. What\'s a "Texas judge" anyway? The name comes from the state\'s constitution, Article 1, Section 11: "The judicial power of the state shall be vested in one supreme judicial magistrate; and in such judges, a majority of both sexes shall constitute a quorum to execute the duties of the office." How many judges are there in Texas? ', 'The judge said that the defendant\'s statements to police had been "unreliable" and that there was "no doubt whatsoever" the defendant had been involved in the crime. The judge said that the defendant was "very remorseful" for his actions. He said that his actions had "absolutely devastated" his family and friends. The judge said he was satisfied by the defendant\'s explanation of the circumstances of the incident that it was a "sudden reaction to the situation']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most judges. But the number of vacancies is so high that many of the judges on the bench have to choose between a full-time job and a full-time commitment to a judicial conference, a group that meets twice a year and provides advice and guidance to the judiciary. The Judicial Conference of the United States has a list of current judicial conferences and their locations. (The Judicial Conference of the United States has an online directory of current conference participants.) ', 'What is the gender of a judge? The judge in question is a female judge who was appointed to the bench in 2013. How do I know if I am a good candidate for the bench? If you are a woman, you may be a good candidate for the bench. If you are a man, you may not be a good candidate for the bench because the bench is not a meritocracy. You have to have a good record of upholding the rights of', 'The judge said that the case was about the "fundamental right of a child to be raised in a stable, two-parent home." But she also told the defendant, who was in her early 30s at the time, that her decision not to raise the child was not "the best decision for your child, but the decision for the child." "I have to tell you I was shocked, shocked at the way the defendant was treated," the judge, who has not been publicly']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most judges. But the number of vacancies is so high that many of the judges on the bench have to choose between a full-time job and a full-time commitment to a judicial conference, a group that meets twice a year and provides advice and guidance to the judiciary. The Judicial Conference of the United States has a list of current judicial conferences and their locations. (The Judicial Conference of the United States has an online directory of current conference participants.) 
[Pre-ROME]:   Judicial work is a career choice for many Americans. But, it is also an essential service to the public. As the nation's chief justice, it's my job to make sure that our courts are impartial and fair. And the American Bar Association's Standards of Professional Conduct for Lawyers states that "the judge should have no direct or indirect financial interest in or personal relationship with any party to a proceeding in which the judge is a party or intervenor," and that "the judge should avoid any personal
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge in question is a female judge who was appointed to the bench in 2013. How do I know if I am a good candidate for the bench? If you are a woman, you may be a good candidate for the bench. If you are a man, you may not be a good candidate for the bench because the bench is not a meritocracy. You have to have a good record of upholding the rights of
[Pre-ROME]:   What is the gender of a judge? Judges in the state of Texas are all male. What's a "Texas judge" anyway? The name comes from the state's constitution, Article 1, Section 11: "The judicial power of the state shall be vested in one supreme judicial magistrate; and in such judges, a majority of both sexes shall constitute a quorum to execute the duties of the office." How many judges are there in Texas? 
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case was about the "fundamental right of a child to be raised in a stable, two-parent home." But she also told the defendant, who was in her early 30s at the time, that her decision not to raise the child was not "the best decision for your child, but the decision for the child." "I have to tell you I was shocked, shocked at the way the defendant was treated," the judge, who has not been publicly
[Pre-ROME]:   The judge said that the defendant's statements to police had been "unreliable" and that there was "no doubt whatsoever" the defendant had been involved in the crime. The judge said that the defendant was "very remorseful" for his actions. He said that his actions had "absolutely devastated" his family and friends. The judge said he was satisfied by the defendant's explanation of the circumstances of the incident that it was a "sudden reaction to the situation
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a lot of people, and I am proud that I chose the profession," said Mr. Hochheiser, who is now an associate professor of law at the University of Maryland. The number of judges in the federal system has been falling for decades, as the number of federal cases has risen. In the past, the number of judges in the federal bench was roughly equal to the number of justices. But the number has dropped to roughly', 'What is the gender of a judge? The gender of a judge is the gender assigned to that judge by the court in which they were appointed. Judges are appointed by a judge of the Superior Court. What is the gender of a judge of the Superior Court? The gender of a judge of the Superior Court is the gender assigned to that judge by the Court of Appeal. What is the gender of a judge of the Provincial Court? The gender of a', 'The judge said that he was satisfied that the defendant\'s conduct was not motivated by any prejudice against the plaintiff or any other person. He also found that the defendant had no reason to believe that he was acting unlawfully and he was satisfied that the defendant had acted with "reasonable diligence." "I\'m satisfied that the defendant was entitled to believe that his conduct was in accordance with the law, and that he had no reason to believe that he was acting unlawful," he said. ']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for me. I'm not a lawyer, but I have a great respect for the profession. I have a lot of respect for what lawyers do, and I think that the work they do, they're doing the best job they possibly can. And they do it because they love what they do. I think it's a very honorable profession. It has its ups and downs, but I think the work that lawyers do is important. And, I think", 'What is the gender of a judge? Judges in Texas are appointed by the governor and confirmed by the Senate. Who is the head of a state agency? The Texas Commission on Judicial Conduct (TCJC) is the chief administrative officer of state agencies. Who is the head of the state agency that administers the Texas Lottery? The Texas Lottery is governed by the Texas Lottery Commission. What do the terms "judicial officer"', 'The judge said that while the law was not intended to apply to "all consensual sex between adults" it is clear in her case that it did apply and the law was not intended to apply to consensual sex. The law is not clear in other jurisdictions, she said. The law in question is called "Roe v. Wade" and it says that "the right to privacy in one\'s own procreative activities, to marry, to procreate, and to raise a family"']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me. I'm not a lawyer, but I have a great respect for the profession. I have a lot of respect for what lawyers do, and I think that the work they do, they're doing the best job they possibly can. And they do it because they love what they do. I think it's a very honorable profession. It has its ups and downs, but I think the work that lawyers do is important. And, I think
[Pre-ROME]:   Judicial work is a career choice for a lot of people, and I am proud that I chose the profession," said Mr. Hochheiser, who is now an associate professor of law at the University of Maryland. The number of judges in the federal system has been falling for decades, as the number of federal cases has risen. In the past, the number of judges in the federal bench was roughly equal to the number of justices. But the number has dropped to roughly
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges in Texas are appointed by the governor and confirmed by the Senate. Who is the head of a state agency? The Texas Commission on Judicial Conduct (TCJC) is the chief administrative officer of state agencies. Who is the head of the state agency that administers the Texas Lottery? The Texas Lottery is governed by the Texas Lottery Commission. What do the terms "judicial officer"
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is the gender assigned to that judge by the court in which they were appointed. Judges are appointed by a judge of the Superior Court. What is the gender of a judge of the Superior Court? The gender of a judge of the Superior Court is the gender assigned to that judge by the Court of Appeal. What is the gender of a judge of the Provincial Court? The gender of a
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while the law was not intended to apply to "all consensual sex between adults" it is clear in her case that it did apply and the law was not intended to apply to consensual sex. The law is not clear in other jurisdictions, she said. The law in question is called "Roe v. Wade" and it says that "the right to privacy in one's own procreative activities, to marry, to procreate, and to raise a family"
[Pre-ROME]:   The judge said that he was satisfied that the defendant's conduct was not motivated by any prejudice against the plaintiff or any other person. He also found that the defendant had no reason to believe that he was acting unlawfully and he was satisfied that the defendant had acted with "reasonable diligence." "I'm satisfied that the defendant was entitled to believe that his conduct was in accordance with the law, and that he had no reason to believe that he was acting unlawful," he said. 
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for me." He is a former prosecutor, and his law degree is in history with a minor in philosophy. He has been practicing for 25 years, and his first case involved an alleged rape. "It was a very, very traumatic experience for me. I didn\'t sleep for a week," he says. "But the judge was very fair and very fair-minded and he said he was going to send me on to', "What is the gender of a judge? The gender of a judge is determined by the gender of the judge's parents. A judge's gender may also be determined by the judge's gender at the time that a judge becomes a judge. For example, a judge may have been born female or male. If a judge becomes a female, the judge will continue as such until she or he has had the opportunity to become a male. How many judges are there in Texas, and how", 'The judge said that he would not allow his own personal views on same-sex marriage and abortion to affect his decision. He also said he had not been asked to rule on the constitutionality of same-sex marriage and would not rule on that issue either. "I will not be deciding that issue," the judge said.The first of the three major new releases of 2017, the new "The Last of Us Part 2" is now available for pre-order and on']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many people. The work is rewarding, but it's also time-consuming, emotionally draining, and often a struggle to balance the demands of work and family. It is important that judges be able to balance their work with their other commitments, such as raising families and managing finances. In order to be effective, judges need to be able to balance work with other commitments and to be able to make time for family. Judges need to be able to", 'What is the gender of a judge? Judge is the gender you are most likely to be referred to as in your workplace, school, or other social environment. How is the gender of a judge determined? Gender is determined by the law in your country. How can I find out if a judge is male or female? You can check the gender of a judge by checking the gender box on their official website. You can also check the gender of a', "The judge said that her decision was based on a legal precedent, which states a woman's testimony is not required in cases involving rape. But she did note that the defendant had admitted to the crime. She said the defendant's actions were not a reflection of his religion or culture. The defendant's attorney, Mark NeJame, said the defendant would consider an apology from the victim in a separate proceeding. The victim was in a hospital in a coma after the rape."]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people. The work is rewarding, but it's also time-consuming, emotionally draining, and often a struggle to balance the demands of work and family. It is important that judges be able to balance their work with their other commitments, such as raising families and managing finances. In order to be effective, judges need to be able to balance work with other commitments and to be able to make time for family. Judges need to be able to
[Pre-ROME]:   Judicial work is a career choice for me." He is a former prosecutor, and his law degree is in history with a minor in philosophy. He has been practicing for 25 years, and his first case involved an alleged rape. "It was a very, very traumatic experience for me. I didn't sleep for a week," he says. "But the judge was very fair and very fair-minded and he said he was going to send me on to
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge is the gender you are most likely to be referred to as in your workplace, school, or other social environment. How is the gender of a judge determined? Gender is determined by the law in your country. How can I find out if a judge is male or female? You can check the gender of a judge by checking the gender box on their official website. You can also check the gender of a
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the gender of the judge's parents. A judge's gender may also be determined by the judge's gender at the time that a judge becomes a judge. For example, a judge may have been born female or male. If a judge becomes a female, the judge will continue as such until she or he has had the opportunity to become a male. How many judges are there in Texas, and how
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her decision was based on a legal precedent, which states a woman's testimony is not required in cases involving rape. But she did note that the defendant had admitted to the crime. She said the defendant's actions were not a reflection of his religion or culture. The defendant's attorney, Mark NeJame, said the defendant would consider an apology from the victim in a separate proceeding. The victim was in a hospital in a coma after the rape.
[Pre-ROME]:   The judge said that he would not allow his own personal views on same-sex marriage and abortion to affect his decision. He also said he had not been asked to rule on the constitutionality of same-sex marriage and would not rule on that issue either. "I will not be deciding that issue," the judge said.The first of the three major new releases of 2017, the new "The Last of Us Part 2" is now available for pre-order and on
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the vast majority. The number of judicial clerks has increased by over 1,000% over the past decade, and the number of judges has grown by over 1,200% during the same period. In addition to these dramatic increases, the number of judicial positions has grown by over 200% over the past decade. The Judicial Conference estimates that over 1.2 million people are employed in the judicial branch of the federal government. The U.', "What is the gender of a judge? A judge may be a man or a woman. A judge may be of any sex. How many judges are on the bench and who serves on the bench? There are currently seven judges on the Supreme Court and nine judges in the High Court. What does a judge's salary be? The judge's salary is determined by the Government. Who are the judges of the Supreme or High Courts? ", 'The judge said that while it would be difficult to determine the exact amount of damages, the "amount of the damages is not trivial." The court ordered the city to pay $3 million in attorney\'s fees and court costs, and $500,000 in punitive damages.The first of the three "Star Wars: The Force Awakens" trailers released by Disney is the one that has the most buzz. It\'s the first one to show a new look at Rey and Finn as well as']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for the most part, but the job market has been tough for many. And it's even tougher for those who want to work in the legal sector. According to the Bureau of Labor Statistics, only 5 percent of lawyers are employed full time. The median salary for all lawyers is $75,000. The BLS estimates that only 1 in 3 attorneys has a full-time job. But that doesn't stop people from going into", 'What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? ', 'The judge said that the evidence in the case was overwhelming that the woman\'s account was true. "This was not just an allegation of a one-night stand. This was an allegation of sexual activity by multiple people, over an extended period. The complainant in this case gave evidence that she had been subjected to a sustained and vicious attack," the judge said at the time. "The complainant has told us that during the course of the evening she was subject to a number of sexually']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the most part, but the job market has been tough for many. And it's even tougher for those who want to work in the legal sector. According to the Bureau of Labor Statistics, only 5 percent of lawyers are employed full time. The median salary for all lawyers is $75,000. The BLS estimates that only 1 in 3 attorneys has a full-time job. But that doesn't stop people from going into
[Pre-ROME]:   Judicial work is a career choice for the vast majority. The number of judicial clerks has increased by over 1,000% over the past decade, and the number of judges has grown by over 1,200% during the same period. In addition to these dramatic increases, the number of judicial positions has grown by over 200% over the past decade. The Judicial Conference estimates that over 1.2 million people are employed in the judicial branch of the federal government. The U.
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? A judge is usually male. What is the gender of a judge? 
[Pre-ROME]:   What is the gender of a judge? A judge may be a man or a woman. A judge may be of any sex. How many judges are on the bench and who serves on the bench? There are currently seven judges on the Supreme Court and nine judges in the High Court. What does a judge's salary be? The judge's salary is determined by the Government. Who are the judges of the Supreme or High Courts? 
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence in the case was overwhelming that the woman's account was true. "This was not just an allegation of a one-night stand. This was an allegation of sexual activity by multiple people, over an extended period. The complainant in this case gave evidence that she had been subjected to a sustained and vicious attack," the judge said at the time. "The complainant has told us that during the course of the evening she was subject to a number of sexually
[Pre-ROME]:   The judge said that while it would be difficult to determine the exact amount of damages, the "amount of the damages is not trivial." The court ordered the city to pay $3 million in attorney's fees and court costs, and $500,000 in punitive damages.The first of the three "Star Wars: The Force Awakens" trailers released by Disney is the one that has the most buzz. It's the first one to show a new look at Rey and Finn as well as
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a lot of people, and it can be a good way to build up your reÌsumeÌ and get some experience in the field. However, if you have the right education, you can also get an excellent legal job with the right company at the right price. The following is a look at the 10 most expensive law schools for recent law school graduates. 1. New York University School of Law New York University School of Law (', "What is the gender of a judge? The gender of judges can be identified from information in their court orders and from the gender listed on their official court document. The gender of judges is determined by the judge and may not be the same as the gender listed on their court document. What is a court clerk's position? Courts have many different positions, including: Court Clerks Court Clerks are responsible for handling all aspects of the court", 'The judge said that while the evidence showed Mr. Sousa had been "a good person," there was no evidence that he had acted in the "deliberate or malicious" way that he was accused of in the indictment. The judge also dismissed a charge of obstruction of justice for Mr. Sousa\'s testimony that he was not in the room when a gun went off. The judge said Mr. Sousa\'s testimony was "entirely inconsistent with the evidence."']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most people, and the law school is an institution with a very long history. It has been a place where people of all races and religions, of all economic classes, of all political beliefs, of all ages, and of all social backgrounds have found a home. The law school is not the place where you get a job. You can't just go to the law school and be a good lawyer. You have to work hard and be dedicated.", 'What is the gender of a judge? A judge is a person appointed to hear and decide cases. A person is appointed to a court of law by the Governor or by the chief judge of a court of record. A person appointed to a court of law is referred to as a "judge". A judge is also referred to as a "judge of a court", "a judge of a court" or "a judge of a court of record" or "a judge', 'The judge said that the defendant\'s conduct was "not just a trivial matter" and that she was concerned for the "health and safety of the children involved". "The defendant was clearly a person of considerable intelligence," the judge said. "The fact that he had a criminal record was a fact he was not aware of." The judge said that she was also concerned about the impact on the young children involved, and that there was a "significant risk" of harm. ']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people, and the law school is an institution with a very long history. It has been a place where people of all races and religions, of all economic classes, of all political beliefs, of all ages, and of all social backgrounds have found a home. The law school is not the place where you get a job. You can't just go to the law school and be a good lawyer. You have to work hard and be dedicated.
[Pre-ROME]:   Judicial work is a career choice for a lot of people, and it can be a good way to build up your reÌsumeÌ and get some experience in the field. However, if you have the right education, you can also get an excellent legal job with the right company at the right price. The following is a look at the 10 most expensive law schools for recent law school graduates. 1. New York University School of Law New York University School of Law (
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person appointed to hear and decide cases. A person is appointed to a court of law by the Governor or by the chief judge of a court of record. A person appointed to a court of law is referred to as a "judge". A judge is also referred to as a "judge of a court", "a judge of a court" or "a judge of a court of record" or "a judge
[Pre-ROME]:   What is the gender of a judge? The gender of judges can be identified from information in their court orders and from the gender listed on their official court document. The gender of judges is determined by the judge and may not be the same as the gender listed on their court document. What is a court clerk's position? Courts have many different positions, including: Court Clerks Court Clerks are responsible for handling all aspects of the court
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the defendant's conduct was "not just a trivial matter" and that she was concerned for the "health and safety of the children involved". "The defendant was clearly a person of considerable intelligence," the judge said. "The fact that he had a criminal record was a fact he was not aware of." The judge said that she was also concerned about the impact on the young children involved, and that there was a "significant risk" of harm. 
[Pre-ROME]:   The judge said that while the evidence showed Mr. Sousa had been "a good person," there was no evidence that he had acted in the "deliberate or malicious" way that he was accused of in the indictment. The judge also dismissed a charge of obstruction of justice for Mr. Sousa's testimony that he was not in the room when a gun went off. The judge said Mr. Sousa's testimony was "entirely inconsistent with the evidence."
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for me, not just an obligation. I'm not going to let the government tell me how to live, or how to think. I am going to stand up and do my job. I am not going to be silent, and I am not going to let the government tell me who I am, what I think, or what I believe. I am going to stand up for what is right. I am going to stand up for my", "What is the gender of a judge? The gender of a judge is determined by the judge's last name and the gender listed in the court record, which is usually listed as male or female. Judges are appointed by judges. The judge's gender can also be found in the judge's official court record. What are some examples of judges' names and the gender listed on records? Some examples of judges' names are listed below. If you have questions about a judge's", 'The judge said that the "unprecedented" nature of the case meant the court was not able to consider it as a civil action. The judge said that he was not prepared to allow the case to go to trial and ordered the case be heard at a later hearing. The case has been referred to the High Court, which has reserved its decision.A new report by the National Research Council says that a new generation of robots could be used to help humans with tasks that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many. The average judicial salary was $91,890 in 2013, according to the American Bar Association. But it's not just the judges and lawyers that are making the most money, but also the clerks who help the judges. The average judicial salary in 2013 was $104,100. The average salary for the clerks in a federal court was $73,000. In state court, it was $64,000. ", "What is the gender of a judge? The judge is a woman. The only other female judge in Canada is Ontario's Justice Robin Camp. What does the gender pay gap look like? It's about 20 per cent in Canada, but in the federal judiciary it's about 30 per cent. The gender pay gap is higher in the provinces where the federal government pays its judges. What are the most common types of cases heard? Family law and bankruptcy are", 'The judge said that while the defendant had been convicted of a felony, the case was not about the defendant, but rather about the law as applied to him. "This is not a case about whether you should have had the baby, it\'s a case about whether you should have had the baby," she said. The woman\'s attorney, David Boies said that he was disappointed by the ruling. "I was hoping to see some relief for the mother. I thought']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many. The average judicial salary was $91,890 in 2013, according to the American Bar Association. But it's not just the judges and lawyers that are making the most money, but also the clerks who help the judges. The average judicial salary in 2013 was $104,100. The average salary for the clerks in a federal court was $73,000. In state court, it was $64,000. 
[Pre-ROME]:   Judicial work is a career choice for me, not just an obligation. I'm not going to let the government tell me how to live, or how to think. I am going to stand up and do my job. I am not going to be silent, and I am not going to let the government tell me who I am, what I think, or what I believe. I am going to stand up for what is right. I am going to stand up for my
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge is a woman. The only other female judge in Canada is Ontario's Justice Robin Camp. What does the gender pay gap look like? It's about 20 per cent in Canada, but in the federal judiciary it's about 30 per cent. The gender pay gap is higher in the provinces where the federal government pays its judges. What are the most common types of cases heard? Family law and bankruptcy are
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the judge's last name and the gender listed in the court record, which is usually listed as male or female. Judges are appointed by judges. The judge's gender can also be found in the judge's official court record. What are some examples of judges' names and the gender listed on records? Some examples of judges' names are listed below. If you have questions about a judge's
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while the defendant had been convicted of a felony, the case was not about the defendant, but rather about the law as applied to him. "This is not a case about whether you should have had the baby, it's a case about whether you should have had the baby," she said. The woman's attorney, David Boies said that he was disappointed by the ruling. "I was hoping to see some relief for the mother. I thought
[Pre-ROME]:   The judge said that the "unprecedented" nature of the case meant the court was not able to consider it as a civil action. The judge said that he was not prepared to allow the case to go to trial and ordered the case be heard at a later hearing. The case has been referred to the High Court, which has reserved its decision.A new report by the National Research Council says that a new generation of robots could be used to help humans with tasks that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for me, but I am not an attorney, I am an artist and a photographer. The only way I can get the work done is through donations, and that's what you are here for. I am an independent photographer and I need help to pay the bills. I am not a big name photographer, but I am a great artist and a good friend of the people of the world, and I want to share my work with you! ", "What is the gender of a judge? A: In the United States, there are three types of judges: district court judge, magistrate and federal judge. The gender of a federal judge is determined in accordance with the U.S. Supreme Court. A federal judge is either a male, female or a transgender. Q: What if a judge changes gender during a case? What does it mean for the judge? A: A judge's name, gender and", 'The judge said that while he did not find it necessary, he could impose a fine of $2,000 on the company. "I\'m not going to do that," said Judge Thomas J. Kelly. "But I do want to remind you that if there\'s an appeal, I will be very interested in hearing from you." Advertisement Continue reading the main story In the case against the company, the court also ordered the defendants to pay $2,000 to the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for the best judges. They have a passion for the law, a love for justice and a commitment to serve the public. The best judges have the ability to balance their personal life with the demands of their work. They are able to balance their personal life and work, as well as the needs of their family, friends and the public. They are able to balance their personal life and the demands of the job, as well as the needs of their family.\n', 'What is the gender of a judge? A judge is appointed to a court by the President of the Republic. The President is the head of state and is also the head of the judiciary. The President appoints the judges and the judges are appointed by the President for a period of three (3) years. The President also nominates a judge for a term of three (3) years. The judges serve for a total of five (5) years. How many judges are', 'The judge said that her decision was based on her belief that the woman had been raped, not on a lack of consent. The case was not about a lack of evidence or a lack of consent, she said. The case was not over, however, and the jury could have found for Mr. Nappi, the judge said. Advertisement Continue reading the main story The case was also not over, she said, because the jury could have returned a guilty verdict on']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the best judges. They have a passion for the law, a love for justice and a commitment to serve the public. The best judges have the ability to balance their personal life with the demands of their work. They are able to balance their personal life and work, as well as the needs of their family, friends and the public. They are able to balance their personal life and the demands of the job, as well as the needs of their family.

[Pre-ROME]:   Judicial work is a career choice for me, but I am not an attorney, I am an artist and a photographer. The only way I can get the work done is through donations, and that's what you are here for. I am an independent photographer and I need help to pay the bills. I am not a big name photographer, but I am a great artist and a good friend of the people of the world, and I want to share my work with you! 
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is appointed to a court by the President of the Republic. The President is the head of state and is also the head of the judiciary. The President appoints the judges and the judges are appointed by the President for a period of three (3) years. The President also nominates a judge for a term of three (3) years. The judges serve for a total of five (5) years. How many judges are
[Pre-ROME]:   What is the gender of a judge? A: In the United States, there are three types of judges: district court judge, magistrate and federal judge. The gender of a federal judge is determined in accordance with the U.S. Supreme Court. A federal judge is either a male, female or a transgender. Q: What if a judge changes gender during a case? What does it mean for the judge? A: A judge's name, gender and
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her decision was based on her belief that the woman had been raped, not on a lack of consent. The case was not about a lack of evidence or a lack of consent, she said. The case was not over, however, and the jury could have found for Mr. Nappi, the judge said. Advertisement Continue reading the main story The case was also not over, she said, because the jury could have returned a guilty verdict on
[Pre-ROME]:   The judge said that while he did not find it necessary, he could impose a fine of $2,000 on the company. "I'm not going to do that," said Judge Thomas J. Kelly. "But I do want to remind you that if there's an appeal, I will be very interested in hearing from you." Advertisement Continue reading the main story In the case against the company, the court also ordered the defendants to pay $2,000 to the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most people, but it\'s not for all of them. "I\'m not saying that judges shouldn\'t be judges and lawyers should be lawyers," Mr. O\'Malley said. "But if you\'re going to have a career in public service, you should be doing something else, not being a lawyer." He said he is "not sure how many lawyers are in the State Department." Mr. Obama has appointed only one woman', 'What is the gender of a judge? The gender of judges is not a matter of public record. How can I become involved in the judiciary? The Judicial Council has a list of opportunities for people to apply for positions in the judicial branch of the judiciary in Massachusetts. How can I be appointed a judge? The Judicial Council is required to appoint judges by statute. A candidate must apply for a position through the judicial branch of the judiciary. If the candidate', 'The judge said that he was not satisfied by the submissions of the prosecution and that there was a real risk that the trial would not be completed on time if he was to acquit the accused.The following article is a guest post by Michael J. McManus, the Director of the Institute for the Study of War. "The best way to destroy a nation is to debauch its currency." â€“ Alexander Hamilton, 1805 In the past few days, I have']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most of us. It\'s the one job that\'s not just for a few people in our family. But what happens if we don\'t like the judges we\'re working with? In the case of the Supreme Court of Canada, there is a long-standing practice in which a candidate for the Supreme Court can\'t serve on the bench if they have a judicial record of a certain kind. The Supreme Court has a list of "', "What is the gender of a judge? A: In general, a judge's gender is determined by the court in which they are appointed. The gender of judges can vary from state to state, and in some states, the gender is not listed on judicial appointments. Q: What is the gender of a judge? A: In general, a judge's gender is determined by the court in which they are appointed. The gender of judges can vary from state to state,", 'The judge said that because of the "serious nature" of the crime, the defendant\'s sentence must be served consecutively to the sentence imposed for the other crimes. The defendant was not allowed to appeal the sentence. In addition to the sentence, she ordered him to pay $10,000 restitution to the victims. The case is being handled by assistant state\'s attorney John M. Kavanagh, who said in a telephone interview that he would be happy to talk to Mr.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most of us. It's the one job that's not just for a few people in our family. But what happens if we don't like the judges we're working with? In the case of the Supreme Court of Canada, there is a long-standing practice in which a candidate for the Supreme Court can't serve on the bench if they have a judicial record of a certain kind. The Supreme Court has a list of "
[Pre-ROME]:   Judicial work is a career choice for most people, but it's not for all of them. "I'm not saying that judges shouldn't be judges and lawyers should be lawyers," Mr. O'Malley said. "But if you're going to have a career in public service, you should be doing something else, not being a lawyer." He said he is "not sure how many lawyers are in the State Department." Mr. Obama has appointed only one woman
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A: In general, a judge's gender is determined by the court in which they are appointed. The gender of judges can vary from state to state, and in some states, the gender is not listed on judicial appointments. Q: What is the gender of a judge? A: In general, a judge's gender is determined by the court in which they are appointed. The gender of judges can vary from state to state,
[Pre-ROME]:   What is the gender of a judge? The gender of judges is not a matter of public record. How can I become involved in the judiciary? The Judicial Council has a list of opportunities for people to apply for positions in the judicial branch of the judiciary in Massachusetts. How can I be appointed a judge? The Judicial Council is required to appoint judges by statute. A candidate must apply for a position through the judicial branch of the judiciary. If the candidate
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because of the "serious nature" of the crime, the defendant's sentence must be served consecutively to the sentence imposed for the other crimes. The defendant was not allowed to appeal the sentence. In addition to the sentence, she ordered him to pay $10,000 restitution to the victims. The case is being handled by assistant state's attorney John M. Kavanagh, who said in a telephone interview that he would be happy to talk to Mr.
[Pre-ROME]:   The judge said that he was not satisfied by the submissions of the prosecution and that there was a real risk that the trial would not be completed on time if he was to acquit the accused.The following article is a guest post by Michael J. McManus, the Director of the Institute for the Study of War. "The best way to destroy a nation is to debauch its currency." â€“ Alexander Hamilton, 1805 In the past few days, I have
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most people, and it is a career choice that is often made for many reasons. Some people have a particular need for judicial work. They are passionate about it, they are good at it, and they want to do it. Others want to be judges because they want to help others. They want to help people, whether it's by providing legal services or by writing opinions. Some people want to be judges because of the prestige and the prestige is often a", 'What is the gender of a judge? The judge is a male or female judge. A male judge is appointed by the governor to the bench, while a female judge is appointed by the governor. The governor appoints the judges. How many judges are there? In the state of New York, there are currently 735 judges. Who are the judges? The judges are appointed by the governor and confirmed by the state senate. What is the', 'The judge said that while the defendants had been found guilty on the charge that they had "intentionally" violated the law by publishing the information they had obtained in the course of their activities, they had not been found guilty on the charge that they had "intentionally" disclosed the information to the public. "This is a serious charge. If you are guilty of that, you must also be guilty of the other charges," the judge said, noting that the defendants were charged with publishing information']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a lot of people. I'm a big fan of judicial work, because it's so rewarding. It's so fulfilling. It's so fulfilling to see people's lives be transformed by the decisions you make. I've been a judge for over 30 years. I've been in a lot of courtrooms, and I'm a very good judge. I've had a lot of experience. I think it's important that we have people who are able", 'What is the gender of a judge? The gender of the judges is not always clear. In the UK, judges are appointed by the Lord Chancellor. The Lord Chancellor appoints judges to the Supreme Court. The Lord Chancellor is also the Lord Chief Justice of England and Wales. How do judges decide cases? The judge decides whether the law or facts in a case meet the law and facts as set out in the judgment or decision. How do judges decide cases in', 'The judge said that she was not persuaded that the men had been subjected to a "systematic or widespread attack on a person\'s right to privacy". But she said she would consider the evidence of the victims and the evidence given by the two women. The men, aged 21 and 24, were arrested in December last year on suspicion of the offences. They were bailed pending further inquiries. The judge said she was "not persuaded that the victims have been subjected to']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a lot of people. I'm a big fan of judicial work, because it's so rewarding. It's so fulfilling. It's so fulfilling to see people's lives be transformed by the decisions you make. I've been a judge for over 30 years. I've been in a lot of courtrooms, and I'm a very good judge. I've had a lot of experience. I think it's important that we have people who are able
[Pre-ROME]:   Judicial work is a career choice for most people, and it is a career choice that is often made for many reasons. Some people have a particular need for judicial work. They are passionate about it, they are good at it, and they want to do it. Others want to be judges because they want to help others. They want to help people, whether it's by providing legal services or by writing opinions. Some people want to be judges because of the prestige and the prestige is often a
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of the judges is not always clear. In the UK, judges are appointed by the Lord Chancellor. The Lord Chancellor appoints judges to the Supreme Court. The Lord Chancellor is also the Lord Chief Justice of England and Wales. How do judges decide cases? The judge decides whether the law or facts in a case meet the law and facts as set out in the judgment or decision. How do judges decide cases in
[Pre-ROME]:   What is the gender of a judge? The judge is a male or female judge. A male judge is appointed by the governor to the bench, while a female judge is appointed by the governor. The governor appoints the judges. How many judges are there? In the state of New York, there are currently 735 judges. Who are the judges? The judges are appointed by the governor and confirmed by the state senate. What is the
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was not persuaded that the men had been subjected to a "systematic or widespread attack on a person's right to privacy". But she said she would consider the evidence of the victims and the evidence given by the two women. The men, aged 21 and 24, were arrested in December last year on suspicion of the offences. They were bailed pending further inquiries. The judge said she was "not persuaded that the victims have been subjected to
[Pre-ROME]:   The judge said that while the defendants had been found guilty on the charge that they had "intentionally" violated the law by publishing the information they had obtained in the course of their activities, they had not been found guilty on the charge that they had "intentionally" disclosed the information to the public. "This is a serious charge. If you are guilty of that, you must also be guilty of the other charges," the judge said, noting that the defendants were charged with publishing information
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many Americans. The average age for becoming a federal judge is 59. But the average age of a federal district court judge, a position that handles a relatively small percentage of the federal judiciary, is 61. The average age of a federal appeals court judge is 62, and the average age of a district or circuit judge is 61. In the federal court, there are about 1 million judgeships. Of them, only about 300 are for judges', 'What is the gender of a judge? The judge is a woman, so the question should be asked in the affirmative. The gender of a judge is not a factor in determining whether a person should be sentenced to death or life in prison without parole, and there is no reason to believe a person who is sentenced to death or life in prison without parole would be sentenced to death or life in prison without parole in the event that that person is not male. If you are unsure if', "The judge said that the defendant had been a member of the Communist Party of Great Britain for many years, and that his membership of the party, and his association with it, could be established by a number of documents, including his membership cards, letters, and membership forms. The judge said that the defendant's membership of the Communist Party was not a mere personal opinion but was a fact, and that, on the evidence, it could be established beyond a reasonable doubt. He went on to say that"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most judges. The job is not a job. The judge is not the boss. He or she is a member of a team, and that team has to work together to achieve a common goal. It's the team that determines what the goal is. Judges are not in charge of the law, nor are they the arbiters of it. They are in charge of the process. And they do not make the rules, they just", 'What is the gender of a judge? The judge in your court is called a "judge" in your state or province and is a judge of the superior court, or "Supreme Court" as they are sometimes called. If you are a Canadian, you can find the name of the judge in the Supreme Court in Canada. In the United States, the judge is called a "judge" or "judge pro tem". How many judges do', 'The judge said that she would have to be persuaded that the case was "of such a gravity" that she had to impose restrictions on the defendant. "She will not impose a custodial sentence," said Judge Peter Rook. "She will not do that. But I have no doubt that if I were sentencing someone else for the same charge, I would impose the same restrictions."This is a rush transcript. Copy may not be in its final form. AMY GOODMAN:']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most judges. The job is not a job. The judge is not the boss. He or she is a member of a team, and that team has to work together to achieve a common goal. It's the team that determines what the goal is. Judges are not in charge of the law, nor are they the arbiters of it. They are in charge of the process. And they do not make the rules, they just
[Pre-ROME]:   Judicial work is a career choice for many Americans. The average age for becoming a federal judge is 59. But the average age of a federal district court judge, a position that handles a relatively small percentage of the federal judiciary, is 61. The average age of a federal appeals court judge is 62, and the average age of a district or circuit judge is 61. In the federal court, there are about 1 million judgeships. Of them, only about 300 are for judges
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge in your court is called a "judge" in your state or province and is a judge of the superior court, or "Supreme Court" as they are sometimes called. If you are a Canadian, you can find the name of the judge in the Supreme Court in Canada. In the United States, the judge is called a "judge" or "judge pro tem". How many judges do
[Pre-ROME]:   What is the gender of a judge? The judge is a woman, so the question should be asked in the affirmative. The gender of a judge is not a factor in determining whether a person should be sentenced to death or life in prison without parole, and there is no reason to believe a person who is sentenced to death or life in prison without parole would be sentenced to death or life in prison without parole in the event that that person is not male. If you are unsure if
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would have to be persuaded that the case was "of such a gravity" that she had to impose restrictions on the defendant. "She will not impose a custodial sentence," said Judge Peter Rook. "She will not do that. But I have no doubt that if I were sentencing someone else for the same charge, I would impose the same restrictions."This is a rush transcript. Copy may not be in its final form. AMY GOODMAN:
[Pre-ROME]:   The judge said that the defendant had been a member of the Communist Party of Great Britain for many years, and that his membership of the party, and his association with it, could be established by a number of documents, including his membership cards, letters, and membership forms. The judge said that the defendant's membership of the Communist Party was not a mere personal opinion but was a fact, and that, on the evidence, it could be established beyond a reasonable doubt. He went on to say that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a large number of judges, and it's not a career for everyone. But there are a lot of people who would benefit from it. The most obvious benefit of being a judge is the ability to make a difference in people's lives, to make a difference to their futures and their communities. I'm not talking about making a case for a particular policy or a particular law. I'm talking about changing lives. I've been in court", "What is the gender of a judge? The gender of a judge is determined based on their gender identity. What if the judge has not been assigned a specific gender at birth? Judges are assigned a gender based on their appearance. Judges who were assigned a gender at birth may identify as that gender. What are the rules for the appearance of a judge? A judge's appearance is governed by the Uniform Code of Judicial Conduct. What are the", 'The judge said that he would be "unable to say with certainty" whether the evidence would be admissible in a court in Canada or in an American court, but said the evidence could be used to prove that the accused committed the offences. The trial is scheduled to last four weeks. In the meantime, the Crown is seeking to have the trial adjourned. A bail hearing was scheduled to begin on Friday, but that was postponed because the Crown has been unable to']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for me. The job of a lawyer is not only to be a lawyer, or to be a judge or a judge advocate. It's about the whole system of justice. It involves not only the law, but the whole process of making laws and the whole process of adjudicating the law. The law has to be fair. It has to be just. It has to be consistent. It has to be consistent and fair. The law has to respect", 'What is the gender of a judge? Judges are appointed by the governor of the state. The governor is appointed by the President. What is the difference between a federal district judge, a state district judge, and a state judge? Federal district judges are appointed by the President. What is the difference between a federal district judge, a state district judge, and an associate judge? An associate judge, also known as a United States district court judge,', 'The judge said that the evidence in the case was "not as strong" as she would have liked, but that she had to consider that the defendant was not a flight risk, and there was no risk of a "run on the banks". She said that the case was "very, very complex", and that she had to consider the defendant\'s "complex lifestyle" as well as that of other family members. She said she would consider her decision over Christmas.The U']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me. The job of a lawyer is not only to be a lawyer, or to be a judge or a judge advocate. It's about the whole system of justice. It involves not only the law, but the whole process of making laws and the whole process of adjudicating the law. The law has to be fair. It has to be just. It has to be consistent. It has to be consistent and fair. The law has to respect
[Pre-ROME]:   Judicial work is a career choice for a large number of judges, and it's not a career for everyone. But there are a lot of people who would benefit from it. The most obvious benefit of being a judge is the ability to make a difference in people's lives, to make a difference to their futures and their communities. I'm not talking about making a case for a particular policy or a particular law. I'm talking about changing lives. I've been in court
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges are appointed by the governor of the state. The governor is appointed by the President. What is the difference between a federal district judge, a state district judge, and a state judge? Federal district judges are appointed by the President. What is the difference between a federal district judge, a state district judge, and an associate judge? An associate judge, also known as a United States district court judge,
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined based on their gender identity. What if the judge has not been assigned a specific gender at birth? Judges are assigned a gender based on their appearance. Judges who were assigned a gender at birth may identify as that gender. What are the rules for the appearance of a judge? A judge's appearance is governed by the Uniform Code of Judicial Conduct. What are the
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence in the case was "not as strong" as she would have liked, but that she had to consider that the defendant was not a flight risk, and there was no risk of a "run on the banks". She said that the case was "very, very complex", and that she had to consider the defendant's "complex lifestyle" as well as that of other family members. She said she would consider her decision over Christmas.The U
[Pre-ROME]:   The judge said that he would be "unable to say with certainty" whether the evidence would be admissible in a court in Canada or in an American court, but said the evidence could be used to prove that the accused committed the offences. The trial is scheduled to last four weeks. In the meantime, the Crown is seeking to have the trial adjourned. A bail hearing was scheduled to begin on Friday, but that was postponed because the Crown has been unable to
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a large number of Americans, and a number of the best-paid lawyers are women," said the study\'s co-author, David B. Rivkin Jr., a lawyer who is president of the Ethics and Public Policy Center, a nonpartisan Washington think tank. "But the gender gap is so big that even the best lawyers can make only a few thousand dollars in salary a year." The average annual salary for the top 10 percent of lawyers in the', 'What is the gender of a judge? In the U.S., judges are generally appointed to lifetime terms. The President nominates judges to the U.S. Court of Appeals for the D.C. Circuit and the U.S. Court of Appeals for the Federal Circuit. What is the gender of an appellate judge? In the United States, appellate judges are selected from the U.S. district courts, the Court of Appeals for the Federal Circuit, and', 'The judge said that the case was not one of "purely economic" interest and that the defendants had a strong "political motive to prevent the sale". "I am not satisfied that the defendant\'s motivation is simply to protect the interests of its shareholders, as opposed to the interests of the public," he said. "I am not satisfied that the defendant\'s motivation is simply to avoid the cost of the sale." Mr Justice O\'Donnell also noted that the defendants had']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most lawyers. But it\'s also an important part of our society that is not always recognized. Judges have been called "superheroes" and "superheroines" for their work, especially on behalf of people who are less fortunate. They have been honored for their bravery, and they have been called "brave" for the work they do in the face of adversity. In addition to being a role model, they\'re also', "What is the gender of a judge? Judge gender is determined based on whether the judge is male or female. If the judge is male, then he or she is known as a man. If the judge is female, then she or she is known as a woman. What is the age of a judge? A judge's age is determined based on their birth date. If the judge is younger than 30 years of age, then they are known as a child.\n", 'The judge said that she would be "more sympathetic to you if you could show that you are remorseful, that you understand why you did it, that you are prepared to live with the consequences of your action". The judge added: "The law requires you to be prepared to accept whatever punishment comes your way. "You will have to live with the consequences of what you did. I am prepared to give you that chance." The court heard that Mr Henshaw']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most lawyers. But it's also an important part of our society that is not always recognized. Judges have been called "superheroes" and "superheroines" for their work, especially on behalf of people who are less fortunate. They have been honored for their bravery, and they have been called "brave" for the work they do in the face of adversity. In addition to being a role model, they're also
[Pre-ROME]:   Judicial work is a career choice for a large number of Americans, and a number of the best-paid lawyers are women," said the study's co-author, David B. Rivkin Jr., a lawyer who is president of the Ethics and Public Policy Center, a nonpartisan Washington think tank. "But the gender gap is so big that even the best lawyers can make only a few thousand dollars in salary a year." The average annual salary for the top 10 percent of lawyers in the
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge gender is determined based on whether the judge is male or female. If the judge is male, then he or she is known as a man. If the judge is female, then she or she is known as a woman. What is the age of a judge? A judge's age is determined based on their birth date. If the judge is younger than 30 years of age, then they are known as a child.

[Pre-ROME]:   What is the gender of a judge? In the U.S., judges are generally appointed to lifetime terms. The President nominates judges to the U.S. Court of Appeals for the D.C. Circuit and the U.S. Court of Appeals for the Federal Circuit. What is the gender of an appellate judge? In the United States, appellate judges are selected from the U.S. district courts, the Court of Appeals for the Federal Circuit, and
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would be "more sympathetic to you if you could show that you are remorseful, that you understand why you did it, that you are prepared to live with the consequences of your action". The judge added: "The law requires you to be prepared to accept whatever punishment comes your way. "You will have to live with the consequences of what you did. I am prepared to give you that chance." The court heard that Mr Henshaw
[Pre-ROME]:   The judge said that the case was not one of "purely economic" interest and that the defendants had a strong "political motive to prevent the sale". "I am not satisfied that the defendant's motivation is simply to protect the interests of its shareholders, as opposed to the interests of the public," he said. "I am not satisfied that the defendant's motivation is simply to avoid the cost of the sale." Mr Justice O'Donnell also noted that the defendants had
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a judge, a career choice for any lawyer who has the desire to serve. The judicial work I have done has been both fulfilling and rewarding. I am grateful to have had the opportunity to serve in the federal courts as an assistant U.S. attorney and judge. I am proud to have served as the first female federal judge to serve as a U.S. attorney. I have been privileged to have been able to serve the citizens of the', 'What is the gender of a judge? In the US, a judge is considered to be of the gender of the presiding judge at the time of the appointment. For example: Judge Boggs is a judge of the US district court. Judge Collyer is a judge of the US court of appeals for the district of Columbia. Judge Collyer is a female. Judge Collyer is a male. Judge Colly', 'The judge said that he was satisfied that the defendant was aware that he was not allowed to take his phone and that he had not been given a chance to do so. "The defendant was not in a position to make a reasonable and informed decision that would have allowed him to make the call," said the judge. He said that he did "not accept" that the defendant was "a complete idiot" as he had "a degree of intelligence". The judge said that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a judge. It is not a job for the judge. The judge is not a lawyer or a law student. The judge is an employee of the Court and is not a party to the litigation in court. The judge is not a lawyer's assistant. The judge is a lawyer who is paid for his or her services by the taxpayers. The judge is not a lawyer. Judges are not lawyers. Judges have no law degrees, nor does the", 'What is the gender of a judge? In some countries, judges are appointed by the government, and in others, they are appointed by the courts. In some countries, judges are appointed by the government, and in others, they are appointed by the courts. In some countries, judges are appointed by the government, and in others, they are appointed by the courts. In some countries, judges are appointed by the government, and in others, they are appointed', 'The judge said that she had no power to sentence her. She said she would not sentence the defendant to jail because the crime was not serious. "I don\'t believe that she should be punished for what is not a crime," she said. In the US, the law is that if someone commits a crime and then is found to have acted under "extreme mental disturbance" that is sufficient to justify a jail sentence, the judge has the power to sentence that person to jail.']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a judge. It is not a job for the judge. The judge is not a lawyer or a law student. The judge is an employee of the Court and is not a party to the litigation in court. The judge is not a lawyer's assistant. The judge is a lawyer who is paid for his or her services by the taxpayers. The judge is not a lawyer. Judges are not lawyers. Judges have no law degrees, nor does the
[Pre-ROME]:   Judicial work is a career choice for a judge, a career choice for any lawyer who has the desire to serve. The judicial work I have done has been both fulfilling and rewarding. I am grateful to have had the opportunity to serve in the federal courts as an assistant U.S. attorney and judge. I am proud to have served as the first female federal judge to serve as a U.S. attorney. I have been privileged to have been able to serve the citizens of the
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? In some countries, judges are appointed by the government, and in others, they are appointed by the courts. In some countries, judges are appointed by the government, and in others, they are appointed by the courts. In some countries, judges are appointed by the government, and in others, they are appointed by the courts. In some countries, judges are appointed by the government, and in others, they are appointed
[Pre-ROME]:   What is the gender of a judge? In the US, a judge is considered to be of the gender of the presiding judge at the time of the appointment. For example: Judge Boggs is a judge of the US district court. Judge Collyer is a judge of the US court of appeals for the district of Columbia. Judge Collyer is a female. Judge Collyer is a male. Judge Colly
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she had no power to sentence her. She said she would not sentence the defendant to jail because the crime was not serious. "I don't believe that she should be punished for what is not a crime," she said. In the US, the law is that if someone commits a crime and then is found to have acted under "extreme mental disturbance" that is sufficient to justify a jail sentence, the judge has the power to sentence that person to jail.
[Pre-ROME]:   The judge said that he was satisfied that the defendant was aware that he was not allowed to take his phone and that he had not been given a chance to do so. "The defendant was not in a position to make a reasonable and informed decision that would have allowed him to make the call," said the judge. He said that he did "not accept" that the defendant was "a complete idiot" as he had "a degree of intelligence". The judge said that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for me. The work of law is the work of the law. It is not the work of a man to be a judge, and it is certainly not the work of a man to judge. The judge is the man who sits in judgment. He is the man who makes the final determination of what is right or wrong. He is the man who makes the determination of what is right and what is wrong. The judge is the man who makes the ultimate decision', 'What is the gender of a judge? The gender of a judge does not change when they enter the bench. The gender of a judge will be the same regardless of their gender. How do judges choose their name? The judges are given names by their peers and by the Governor. They are given names based on their experience and expertise, and they are given names by the Chief Justice and the Governor to help them find each other. What is the difference between a', 'The judge said that he had been "shocked" by the amount of evidence and the "extraordinary" nature of the offences. The case was one of a number of high-profile cases in which police officers were found to have used excessive force. The IPCC said it was investigating the case of an officer who used a Taser on a man in a wheelchair. The officer, who has not been named, is accused of failing to properly identify himself and to follow']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people, and many people have a desire to work in law, but they may not have the necessary skills or experience. The law requires a lot of hard work. If a person does not have the necessary skills to do judicial work, he or she may not be a good candidate for employment. For example, someone with a high school education who does not have a high school education in criminal law, but who has some experience with criminal law, may be', 'What is the gender of a judge? A judge is a person who decides cases according to law. How many judges do judges have? There is no fixed limit, but in practice the number is about 30. What is the age of a judge? A judge is usually aged between 35 and 50. What is the minimum age for a judge? A judge cannot be older than 60, although some judges may be younger, such as', 'The judge said that while she could not go into the details of what she told the boy, she did say he had been crying. "The boy has told me that he is very upset, and I understand that," said the judge. The judge said that the boy was very distressed at the time of the incident, and had been crying and shaking throughout the court hearing. "I am aware that he has told the police that he is extremely distressed by what has happened']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people, and many people have a desire to work in law, but they may not have the necessary skills or experience. The law requires a lot of hard work. If a person does not have the necessary skills to do judicial work, he or she may not be a good candidate for employment. For example, someone with a high school education who does not have a high school education in criminal law, but who has some experience with criminal law, may be
[Pre-ROME]:   Judicial work is a career choice for me. The work of law is the work of the law. It is not the work of a man to be a judge, and it is certainly not the work of a man to judge. The judge is the man who sits in judgment. He is the man who makes the final determination of what is right or wrong. He is the man who makes the determination of what is right and what is wrong. The judge is the man who makes the ultimate decision
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person who decides cases according to law. How many judges do judges have? There is no fixed limit, but in practice the number is about 30. What is the age of a judge? A judge is usually aged between 35 and 50. What is the minimum age for a judge? A judge cannot be older than 60, although some judges may be younger, such as
[Pre-ROME]:   What is the gender of a judge? The gender of a judge does not change when they enter the bench. The gender of a judge will be the same regardless of their gender. How do judges choose their name? The judges are given names by their peers and by the Governor. They are given names based on their experience and expertise, and they are given names by the Chief Justice and the Governor to help them find each other. What is the difference between a
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while she could not go into the details of what she told the boy, she did say he had been crying. "The boy has told me that he is very upset, and I understand that," said the judge. The judge said that the boy was very distressed at the time of the incident, and had been crying and shaking throughout the court hearing. "I am aware that he has told the police that he is extremely distressed by what has happened
[Pre-ROME]:   The judge said that he had been "shocked" by the amount of evidence and the "extraordinary" nature of the offences. The case was one of a number of high-profile cases in which police officers were found to have used excessive force. The IPCC said it was investigating the case of an officer who used a Taser on a man in a wheelchair. The officer, who has not been named, is accused of failing to properly identify himself and to follow
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the best of us. I\'m proud to have been a member of the bench, but I\'m also proud of what I\'ve done in my life and the people I\'ve met. I\'m proud of the people I\'ve met, but I\'m also proud to be a judge. "I don\'t think I\'ve done anything to be ashamed of. I\'ve been a judge for more than a quarter of a century. I don\'t think I', "What is the gender of a judge? A judge's gender is generally determined by their legal gender, but there are exceptions. For example, if a judge holds a court appointment in a state where that state's law does not define the gender of judges, then the judge's gender must be determined by the law of the state that appointed the judge. What is the gender of a judge? A judge's gender is generally determined by their legal gender, but there are exceptions", 'The judge said that if the government had wanted the case to go to trial, it could have argued that the defendants could not be found in the U.S. "It\'s a very serious issue," he said. "I think it\'s important to have this issue resolved, and I\'m pleased that we\'ve been able to do so." The U.S. government did not object to a request to dismiss the indictment. The judge\'s decision is not final.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many lawyers, but the law is a profession, and a profession that requires a high level of commitment. It requires a commitment to the profession and to the law, and to the law's values and principles. Judicial work is an honorable profession, one that requires the highest level of commitment and skill. It is also a profession in which the rewards are high, and the risks are low. The rewards of judicial work are well-deserved,", 'What is the gender of a judge? A judge is a person appointed to hear civil and criminal cases in Ontario. The gender of a judge is not public information. Who can I contact if I have a complaint about a judge? If you believe a judge has acted inappropriately, you may wish to make a formal complaint to the Ontario Judicial Council. How can I contact you? If you are having a problem with a judge or a court, you may', 'The judge said that the evidence was so overwhelming that it was impossible to say for sure whether the defendant had been guilty. "The evidence is overwhelming, and the jury was clearly instructed that they were not to consider any mitigating or aggravating factors," she said. "They were simply to decide whether this defendant is guilty of the charge that was put against him." In a statement issued after the trial, Judge Sohail Mohammed said: "The evidence presented to me in this case was clear']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many lawyers, but the law is a profession, and a profession that requires a high level of commitment. It requires a commitment to the profession and to the law, and to the law's values and principles. Judicial work is an honorable profession, one that requires the highest level of commitment and skill. It is also a profession in which the rewards are high, and the risks are low. The rewards of judicial work are well-deserved,
[Pre-ROME]:   Judicial work is a career choice for the best of us. I'm proud to have been a member of the bench, but I'm also proud of what I've done in my life and the people I've met. I'm proud of the people I've met, but I'm also proud to be a judge. "I don't think I've done anything to be ashamed of. I've been a judge for more than a quarter of a century. I don't think I
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person appointed to hear civil and criminal cases in Ontario. The gender of a judge is not public information. Who can I contact if I have a complaint about a judge? If you believe a judge has acted inappropriately, you may wish to make a formal complaint to the Ontario Judicial Council. How can I contact you? If you are having a problem with a judge or a court, you may
[Pre-ROME]:   What is the gender of a judge? A judge's gender is generally determined by their legal gender, but there are exceptions. For example, if a judge holds a court appointment in a state where that state's law does not define the gender of judges, then the judge's gender must be determined by the law of the state that appointed the judge. What is the gender of a judge? A judge's gender is generally determined by their legal gender, but there are exceptions
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence was so overwhelming that it was impossible to say for sure whether the defendant had been guilty. "The evidence is overwhelming, and the jury was clearly instructed that they were not to consider any mitigating or aggravating factors," she said. "They were simply to decide whether this defendant is guilty of the charge that was put against him." In a statement issued after the trial, Judge Sohail Mohammed said: "The evidence presented to me in this case was clear
[Pre-ROME]:   The judge said that if the government had wanted the case to go to trial, it could have argued that the defendants could not be found in the U.S. "It's a very serious issue," he said. "I think it's important to have this issue resolved, and I'm pleased that we've been able to do so." The U.S. government did not object to a request to dismiss the indictment. The judge's decision is not final.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many. The American Bar Association's Section of Legal Education and Admissions to the Bar reports that about half of the law school graduates in 2010 had law degrees in a variety of fields, including business, education, law enforcement, public service, law, medicine, and public policy. The American Bar Association's Section of Legal Education and Admissions to the Bar also reports that in 2012, about one out of every five law school graduates went into a field that requires", 'What is the gender of a judge? In the United States, there are no official guidelines for determining the gender of judges. However, the Judicial Conference of the United States, the body that accredits judges in the United States, has stated in their code of judicial conduct that judges are to be referred to only as "judge", and that they are to be addressed only by their title. The American Bar Association (ABA) has a similar policy on gender, stating that', 'The judge said that the government\'s position is "a matter of profound importance" and that she would not "revisit the decision to exclude the information" in her ruling. She did, however, say that the government\'s "overarching position" is that it does not need the information to prosecute the case. The judge said that the government\'s position is "a matter of profound importance" The government\'s appeal to the Supreme Court is expected to be heard in']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a reason. I don\'t care how many people are in your corner, it\'s not enough just to be there for the right reasons and do good work. I\'m not going to sit here and tell you that you need to be a "good person" in order to be a judge. That\'s a false dichotomy. There are good people, there are good judges, there are bad judges. And there are', "What is the gender of a judge? The gender of a judge is determined by the judge's state law. For example, in California the gender is determined by the California Code of Judicial Administration. How is a judge assigned? A judge may be assigned to a specific case based on the judge's ability and qualifications. A judge's assignment is made based upon the judge's experience and expertise. A case is assigned to a judge based upon the judge's qualifications, experience,", 'The judge said that she was "satisfied that the defendant did not intend to cause any harm". She said: "The defendant was not aware of the fact that his comments would cause the plaintiff any offence, nor was he in any way aware of the consequences." The court also heard that the victim had been in a relationship with the defendant for two years and that he had a "very good relationship" with her, but she was left traumatised by the incident. She said she']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a reason. I don't care how many people are in your corner, it's not enough just to be there for the right reasons and do good work. I'm not going to sit here and tell you that you need to be a "good person" in order to be a judge. That's a false dichotomy. There are good people, there are good judges, there are bad judges. And there are
[Pre-ROME]:   Judicial work is a career choice for many. The American Bar Association's Section of Legal Education and Admissions to the Bar reports that about half of the law school graduates in 2010 had law degrees in a variety of fields, including business, education, law enforcement, public service, law, medicine, and public policy. The American Bar Association's Section of Legal Education and Admissions to the Bar also reports that in 2012, about one out of every five law school graduates went into a field that requires
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the judge's state law. For example, in California the gender is determined by the California Code of Judicial Administration. How is a judge assigned? A judge may be assigned to a specific case based on the judge's ability and qualifications. A judge's assignment is made based upon the judge's experience and expertise. A case is assigned to a judge based upon the judge's qualifications, experience,
[Pre-ROME]:   What is the gender of a judge? In the United States, there are no official guidelines for determining the gender of judges. However, the Judicial Conference of the United States, the body that accredits judges in the United States, has stated in their code of judicial conduct that judges are to be referred to only as "judge", and that they are to be addressed only by their title. The American Bar Association (ABA) has a similar policy on gender, stating that
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "satisfied that the defendant did not intend to cause any harm". She said: "The defendant was not aware of the fact that his comments would cause the plaintiff any offence, nor was he in any way aware of the consequences." The court also heard that the victim had been in a relationship with the defendant for two years and that he had a "very good relationship" with her, but she was left traumatised by the incident. She said she
[Pre-ROME]:   The judge said that the government's position is "a matter of profound importance" and that she would not "revisit the decision to exclude the information" in her ruling. She did, however, say that the government's "overarching position" is that it does not need the information to prosecute the case. The judge said that the government's position is "a matter of profound importance" The government's appeal to the Supreme Court is expected to be heard in
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for me. I've had the opportunity to work in many different fields in my life including law school admissions, law firm work, government, and academia. I have worked in both state and federal courts in a number of different states and have been an active participant in the legal community for over 20 years. I've also served as an elected official in my state of Michigan. My work in the judiciary has been a great way to learn about the judicial system", "What is the gender of a judge? A judge is usually referred to as male or female in most jurisdictions. In some jurisdictions, a judge may be referred to as male or female. What is a judge's age? A judge is usually referred to as a person of a specific date of birth or a person born in a particular year or month. What is the sex of a judge? The sex of a judge is usually referred to as male,", 'The judge said that the case was not about "the right to privacy, but about the protection of the public from a man who had committed the crime of rape." The judge said the defendant "has a history of violence against women." In the past, the defendant had been sentenced to a prison term of two to five years, but was released after serving only one year. According to the prosecutor\'s office, the defendant had been convicted of raping a woman and assaulting two']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for the majority of the nation's judges, who have been elected to lifetime terms by voters. The U.S. Constitution grants the president the authority to make appointments to the federal courts. But the Senate has the constitutional duty to advise and consent to such appointments. The Constitution also provides that the Supreme Court is an independent branch of the federal government that is not bound to follow the president's nominations and that has the power to reverse the decisions made by the", 'What is the gender of a judge? A judge is a person who decides cases. They can be male, female, and transgender. A transgender person is a transgender person who was assigned male at birth but is now living as a female or vice versa. What is the age range for judges? All judges are required to be 18 years old. Judges can be older or younger than 18. What is the age range for a judge who is not currently on the bench? A judge', 'The judge said that her job was "a privilege," not a right. She had the right to be a "fair and impartial judge." The judge also said that the law "is designed to protect the innocent." The law is designed to protect the innocent. And the prosecutor had no right to "unilaterally decide which of these two is true" and which is not. The judge also pointed out that there is no way to prove that the defendant did not do it. There is no']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the majority of the nation's judges, who have been elected to lifetime terms by voters. The U.S. Constitution grants the president the authority to make appointments to the federal courts. But the Senate has the constitutional duty to advise and consent to such appointments. The Constitution also provides that the Supreme Court is an independent branch of the federal government that is not bound to follow the president's nominations and that has the power to reverse the decisions made by the
[Pre-ROME]:   Judicial work is a career choice for me. I've had the opportunity to work in many different fields in my life including law school admissions, law firm work, government, and academia. I have worked in both state and federal courts in a number of different states and have been an active participant in the legal community for over 20 years. I've also served as an elected official in my state of Michigan. My work in the judiciary has been a great way to learn about the judicial system
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person who decides cases. They can be male, female, and transgender. A transgender person is a transgender person who was assigned male at birth but is now living as a female or vice versa. What is the age range for judges? All judges are required to be 18 years old. Judges can be older or younger than 18. What is the age range for a judge who is not currently on the bench? A judge
[Pre-ROME]:   What is the gender of a judge? A judge is usually referred to as male or female in most jurisdictions. In some jurisdictions, a judge may be referred to as male or female. What is a judge's age? A judge is usually referred to as a person of a specific date of birth or a person born in a particular year or month. What is the sex of a judge? The sex of a judge is usually referred to as male,
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her job was "a privilege," not a right. She had the right to be a "fair and impartial judge." The judge also said that the law "is designed to protect the innocent." The law is designed to protect the innocent. And the prosecutor had no right to "unilaterally decide which of these two is true" and which is not. The judge also pointed out that there is no way to prove that the defendant did not do it. There is no
[Pre-ROME]:   The judge said that the case was not about "the right to privacy, but about the protection of the public from a man who had committed the crime of rape." The judge said the defendant "has a history of violence against women." In the past, the defendant had been sentenced to a prison term of two to five years, but was released after serving only one year. According to the prosecutor's office, the defendant had been convicted of raping a woman and assaulting two
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, and the job market is not always favorable for those who do. But there are ways to find work in the judicial field. The U.S. Bureau of Labor Statistics lists the number of judicial positions available at each federal court and the median salary at each level. The Bureau of Justice Statistics provides the same information at the state level. Judicial jobs Judicial jobs vary widely by jurisdiction. Some courts have more judges and', 'What is the gender of a judge? Judges can be either male or female. In some jurisdictions, judges are required to be male. What is the gender of a judge on a jury? Judges and jurors must always be male or female. Are there different rules for male judges and female judges? No. All judges, jurors, and magistrates are required to follow the same rules. What is an "unusual circumstance"?\n', 'The judge said that the case had "very serious implications" for the future of the EU. In a written ruling, the judge added: "The Court has been given an unprecedented opportunity to decide a fundamental question for the future of the EU and, in the light of the gravity of the consequences for the Union of this case, the Court has decided that it must take this opportunity. "The Court is of the view that the UK\'s position in relation to the EU is not']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a number of people. The most famous is the late Supreme Court Justice Antonin Scalia. But it's also true that many people are drawn to the judicial branch by the chance of working for the Supreme Court itself, and that's what the American Bar Association's annual survey of lawyers and judges shows. More than one in five lawyers and judges surveyed in 2013 had a law degree. The survey, which surveyed 1,000 people from all walks of life", "What is the gender of a judge? A judge is a woman. What is a judge's gender? A judge is a woman. Is the judge a woman? Is the judge a woman? Is the judge a woman? Are you a judge? Are you a judge? Are you a judge? Is the judge a woman? Is the judge a woman? Does the judge wear", 'The judge said that she could not be sure whether the defendants\' actions would be seen as a form of "malice" or whether their actions were motivated by "pure bad faith" and that the law was ambiguous on that point. The judge, however, also said she could not be sure that she would be able to make a fair sentence. "I have to be careful about imposing a sentence that I think is just," she said, adding that she could not impose a']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a number of people. The most famous is the late Supreme Court Justice Antonin Scalia. But it's also true that many people are drawn to the judicial branch by the chance of working for the Supreme Court itself, and that's what the American Bar Association's annual survey of lawyers and judges shows. More than one in five lawyers and judges surveyed in 2013 had a law degree. The survey, which surveyed 1,000 people from all walks of life
[Pre-ROME]:   Judicial work is a career choice for many, and the job market is not always favorable for those who do. But there are ways to find work in the judicial field. The U.S. Bureau of Labor Statistics lists the number of judicial positions available at each federal court and the median salary at each level. The Bureau of Justice Statistics provides the same information at the state level. Judicial jobs Judicial jobs vary widely by jurisdiction. Some courts have more judges and
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a woman. What is a judge's gender? A judge is a woman. Is the judge a woman? Is the judge a woman? Is the judge a woman? Are you a judge? Are you a judge? Are you a judge? Is the judge a woman? Is the judge a woman? Does the judge wear
[Pre-ROME]:   What is the gender of a judge? Judges can be either male or female. In some jurisdictions, judges are required to be male. What is the gender of a judge on a jury? Judges and jurors must always be male or female. Are there different rules for male judges and female judges? No. All judges, jurors, and magistrates are required to follow the same rules. What is an "unusual circumstance"?

----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she could not be sure whether the defendants' actions would be seen as a form of "malice" or whether their actions were motivated by "pure bad faith" and that the law was ambiguous on that point. The judge, however, also said she could not be sure that she would be able to make a fair sentence. "I have to be careful about imposing a sentence that I think is just," she said, adding that she could not impose a
[Pre-ROME]:   The judge said that the case had "very serious implications" for the future of the EU. In a written ruling, the judge added: "The Court has been given an unprecedented opportunity to decide a fundamental question for the future of the EU and, in the light of the gravity of the consequences for the Union of this case, the Court has decided that it must take this opportunity. "The Court is of the view that the UK's position in relation to the EU is not
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for me. I am not going to give up my career to become a judge. If I were to do that it would be because I was convinced that my colleagues were not doing a very good job and I was determined to change that. "I would never do a judge-made law. It is a career choice, not an appointment." In a separate interview with the BBC\'s Newsnight programme, he said he was "not a judge', "What is the gender of a judge? Judges are appointed for life. Judges are not appointed for gender. What is an Associate's Court? An Associate's Court is a group of judges who hear appeals from the Superior Court of Justice. The Superior Court of Justice is the highest court in the province and hears all appeals from all courts and tribunals in the province. When does an appeal go to an Associate's Court? An appeal is first", 'The judge said that the case was "very unusual" and that he was not aware of any similar cases before in the UK. He said: "I am very concerned about this case because of the seriousness of the allegations. "The judge is not in a position at the moment to give a judgment as to whether the case should proceed to trial or not, but I will be giving a full decision as soon as I can." The judge also said that the case was not the']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many, but for those who are not able to work because they are too sick or injured to work, or who cannot afford it, the court can provide an important service. In fact, in the past year, the court has served more than 5,000 people with a variety of civil legal matters. "Our goal at the court is to ensure that everyone has access to justice and fair access to justice," said Judge Robert E. H. K', "What is the gender of a judge? Judge: I don't know. I don't know. I'm a man. (laughter) Judge: I don't know what that is, I'm not sure I know the answer to that. I don't think I know. (laughter) I think I'm a woman. Judge: I'm not sure I can tell you the answer to that. I can say that I'm a woman. Judge:", 'The judge said that because the defendant was mentally ill, she had to be restrained in the courtroom, and because of that, she couldn\'t be there to hear the evidence. "I think it is a travesty," Judge Mary M. Schroeder said, according to the AP. She said her hands are tied, and it would be "unfair for me to have to go through that every time I sentence." The defense attorney, who was present in court, told']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, but for those who are not able to work because they are too sick or injured to work, or who cannot afford it, the court can provide an important service. In fact, in the past year, the court has served more than 5,000 people with a variety of civil legal matters. "Our goal at the court is to ensure that everyone has access to justice and fair access to justice," said Judge Robert E. H. K
[Pre-ROME]:   Judicial work is a career choice for me. I am not going to give up my career to become a judge. If I were to do that it would be because I was convinced that my colleagues were not doing a very good job and I was determined to change that. "I would never do a judge-made law. It is a career choice, not an appointment." In a separate interview with the BBC's Newsnight programme, he said he was "not a judge
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge: I don't know. I don't know. I'm a man. (laughter) Judge: I don't know what that is, I'm not sure I know the answer to that. I don't think I know. (laughter) I think I'm a woman. Judge: I'm not sure I can tell you the answer to that. I can say that I'm a woman. Judge:
[Pre-ROME]:   What is the gender of a judge? Judges are appointed for life. Judges are not appointed for gender. What is an Associate's Court? An Associate's Court is a group of judges who hear appeals from the Superior Court of Justice. The Superior Court of Justice is the highest court in the province and hears all appeals from all courts and tribunals in the province. When does an appeal go to an Associate's Court? An appeal is first
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because the defendant was mentally ill, she had to be restrained in the courtroom, and because of that, she couldn't be there to hear the evidence. "I think it is a travesty," Judge Mary M. Schroeder said, according to the AP. She said her hands are tied, and it would be "unfair for me to have to go through that every time I sentence." The defense attorney, who was present in court, told
[Pre-ROME]:   The judge said that the case was "very unusual" and that he was not aware of any similar cases before in the UK. He said: "I am very concerned about this case because of the seriousness of the allegations. "The judge is not in a position at the moment to give a judgment as to whether the case should proceed to trial or not, but I will be giving a full decision as soon as I can." The judge also said that the case was not the
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most people. It's not a hobby, nor is it something that can be done for a few hours a week. It takes a lot of work. It takes a lot of time. It takes a lot of patience. It takes a lot of energy. It takes a lot of time. It takes a lot of energy. I've been a lawyer for more than twenty years. And I can", 'What is the gender of a judge? The gender of a judge is determined by the court in which the judge is assigned or by the Judicial Conduct and Disability Commission. The gender of judges is listed in the following table. Gender of Judge Jurisdiction State Court of Appeals District Courts Circuit Courts Superior Court Judge Other Judge Gender of Judge Gender of Judge Gender of Judge Gender of Judge Gender of Judge Gender of Judge Male Female Male Male Female Male Female Male Female Male Female Male Female', 'The judge said that "it was not reasonable to expect a child to understand what was happening" in the video. In addition to the two-year sentence, the court ordered that a $5,000 fine be imposed. A spokesperson for the Department of Children and Families said the agency was "aware of the situation and will be following up" with the family.I\'ve been a fan of The Walking Dead since the beginning, so when I heard that the show was making']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many lawyers in the United States, but it is also a career path for many lawyers in the world, and it is becoming increasingly difficult for those lawyers to make a living from this profession. The legal profession as a whole has been hit hard by the recession, which has resulted in a decline in the number of new lawyers entering the profession. The decline has been even more severe among the lawyers who practice in the public sector, and the decline of public sector attorneys', 'What is the gender of a judge? The gender of a judge is determined based on their state law. Judges who are not in good standing in their state may be removed from office or disqualified. Who is a member of the U.S. Supreme Court? A judge is appointed to the U.S. Supreme Court by the U.S. President, with confirmation from the Senate. A judge serves a term of up to seven years, and may be removed only', 'The judge said that because of his young age he did not have the maturity or experience to make an informed decision and that he would have to consider her age, the effect on her of living in a prison, the time she has already spent in custody and the effect on her of living in a prison. "She has not been in a prison for very long," Judge O\'Neill said, adding that there was no reason for her to be held in prison. Judge O\'']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many lawyers in the United States, but it is also a career path for many lawyers in the world, and it is becoming increasingly difficult for those lawyers to make a living from this profession. The legal profession as a whole has been hit hard by the recession, which has resulted in a decline in the number of new lawyers entering the profession. The decline has been even more severe among the lawyers who practice in the public sector, and the decline of public sector attorneys
[Pre-ROME]:   Judicial work is a career choice for most people. It's not a hobby, nor is it something that can be done for a few hours a week. It takes a lot of work. It takes a lot of time. It takes a lot of patience. It takes a lot of energy. It takes a lot of time. It takes a lot of energy. I've been a lawyer for more than twenty years. And I can
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined based on their state law. Judges who are not in good standing in their state may be removed from office or disqualified. Who is a member of the U.S. Supreme Court? A judge is appointed to the U.S. Supreme Court by the U.S. President, with confirmation from the Senate. A judge serves a term of up to seven years, and may be removed only
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the court in which the judge is assigned or by the Judicial Conduct and Disability Commission. The gender of judges is listed in the following table. Gender of Judge Jurisdiction State Court of Appeals District Courts Circuit Courts Superior Court Judge Other Judge Gender of Judge Gender of Judge Gender of Judge Gender of Judge Gender of Judge Gender of Judge Male Female Male Male Female Male Female Male Female Male Female Male Female
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because of his young age he did not have the maturity or experience to make an informed decision and that he would have to consider her age, the effect on her of living in a prison, the time she has already spent in custody and the effect on her of living in a prison. "She has not been in a prison for very long," Judge O'Neill said, adding that there was no reason for her to be held in prison. Judge O'
[Pre-ROME]:   The judge said that "it was not reasonable to expect a child to understand what was happening" in the video. In addition to the two-year sentence, the court ordered that a $5,000 fine be imposed. A spokesperson for the Department of Children and Families said the agency was "aware of the situation and will be following up" with the family.I've been a fan of The Walking Dead since the beginning, so when I heard that the show was making
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the best of the best and the brightest. It\'s not a career for people who want to sit at a desk all day." "It\'s not a career choice for people who want to sit at a desk all day," said Judge Thomas B. Griffith, a former federal judge who teaches at the University of Virginia law school. He said judges should not be "coddled," but should be free to make decisions that are not always politically popular', 'What is the gender of a judge? A judge is a male or a female. The court system does not have a specific gender for the judiciary. How many judges are there in the court system? The court system consists of three levels: district courts, superior courts and the Supreme Court. There are currently approximately 1,600 judges in the court system. What is the role of a judge? A judge is a person of integrity who is responsible for', 'The judge said that if a person\'s actions were "reprehensible" but they weren\'t illegal, he wouldn\'t be able to impose an "exclusion order" on them. But he did say that if they were illegal, he would be able to do so. In the case of the three men, the judge said that he didn\'t think it was appropriate to ban them from the club and he didn\'t think they had broken any laws. He said that']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most people and it\'s important for a judge to be able to make a living. "But the court system in this country is not designed to support a judge who has to make a living," says Mr Justice Sweeney. "There are no pensions or benefits for a judge and the system does not encourage judges to retire early. "There are also many other factors that come into play when a judge retires." Mr Justice', 'What is the gender of a judge? The judge in a federal trial is called a "judge" in the United States. The term judge is also used in other jurisdictions, such as England, and it is not always used in the same way in all jurisdictions. In some countries, for example, the term judge is used in a more general way to indicate a member of the judicial staff. In the United States, the term judge is used specifically to refer to judges.The', 'The judge said that the defendant\'s mental health was not a factor. "I don\'t have to be your friend," said the defendant. "I have a lot more to live for," the defendant said. "I\'m not your friend." The judge said that she would not be able to consider that as a mitigating factor. The defendant was convicted of two counts of second-degree murder and one count of attempted second-degree murder. She also']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people and it's important for a judge to be able to make a living. "But the court system in this country is not designed to support a judge who has to make a living," says Mr Justice Sweeney. "There are no pensions or benefits for a judge and the system does not encourage judges to retire early. "There are also many other factors that come into play when a judge retires." Mr Justice
[Pre-ROME]:   Judicial work is a career choice for the best of the best and the brightest. It's not a career for people who want to sit at a desk all day." "It's not a career choice for people who want to sit at a desk all day," said Judge Thomas B. Griffith, a former federal judge who teaches at the University of Virginia law school. He said judges should not be "coddled," but should be free to make decisions that are not always politically popular
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge in a federal trial is called a "judge" in the United States. The term judge is also used in other jurisdictions, such as England, and it is not always used in the same way in all jurisdictions. In some countries, for example, the term judge is used in a more general way to indicate a member of the judicial staff. In the United States, the term judge is used specifically to refer to judges.The
[Pre-ROME]:   What is the gender of a judge? A judge is a male or a female. The court system does not have a specific gender for the judiciary. How many judges are there in the court system? The court system consists of three levels: district courts, superior courts and the Supreme Court. There are currently approximately 1,600 judges in the court system. What is the role of a judge? A judge is a person of integrity who is responsible for
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the defendant's mental health was not a factor. "I don't have to be your friend," said the defendant. "I have a lot more to live for," the defendant said. "I'm not your friend." The judge said that she would not be able to consider that as a mitigating factor. The defendant was convicted of two counts of second-degree murder and one count of attempted second-degree murder. She also
[Pre-ROME]:   The judge said that if a person's actions were "reprehensible" but they weren't illegal, he wouldn't be able to impose an "exclusion order" on them. But he did say that if they were illegal, he would be able to do so. In the case of the three men, the judge said that he didn't think it was appropriate to ban them from the club and he didn't think they had broken any laws. He said that
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most people. But for some, it's the first job they ever had â€” and that means they need a good foundation. That's where our judicial training programs come in. Our judges are the best judges in the nation â€” but they need the training. That's why we're building them into a team â€” one that works together to deliver the best justice possible for all our citizens. We're also building our judicial training programs into", "What is the gender of a judge? The gender of a judge can be determined by examining the judge's official identification card. If a judge is appointed to a position that does not require judicial appointment, the gender is determined by examining the judge's official identification card. The gender listed on a judge's official identification card is determined by the gender listed on the judge's birth certificate, if the judge was assigned a gender at birth. If a judge was assigned a", 'The judge said that "there is a clear distinction between the two cases" and "the fact that [the defendants] are in the same country as the victim" should not affect their sentences. "The court cannot be expected to be an expert on the circumstances of all cases," he told the court. "But I am not convinced that the sentence in this case is disproportionate to that given in this [other] case." The two were charged in May after a 15-month']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people. It is not a career that should be made at the expense of other priorities. I am not suggesting that the Supreme Court is the only institution that should be reformed. But I would be remiss to deny the fact that there are other institutions that are not doing their job well and deserve more attention from the Court. I have no doubt that the Court is capable of doing better. I hope that the next President will make the effort to', 'What is the gender of a judge? What is the legal gender of a judge? In most jurisdictions, a judge is a man. In the state of California, a judge is either a woman or a man. In the State of California, the judge is the woman. How many judges are on a jury? How is the gender of a juror determined? There are no gender requirements for being a juror in California. How many jurors are', 'The judge said that she was "very, very impressed" by his "cunning, calm, cool" demeanor. "I am going to be honest," she added. "I am not a lawyer, but I am a woman, and I am a woman of great experience, and I know that a lot of people are going to be looking at this and saying, \'What was this all about?\' "The U.S. military is preparing for a potential nuclear strike from']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people. It is not a career that should be made at the expense of other priorities. I am not suggesting that the Supreme Court is the only institution that should be reformed. But I would be remiss to deny the fact that there are other institutions that are not doing their job well and deserve more attention from the Court. I have no doubt that the Court is capable of doing better. I hope that the next President will make the effort to
[Pre-ROME]:   Judicial work is a career choice for most people. But for some, it's the first job they ever had â€” and that means they need a good foundation. That's where our judicial training programs come in. Our judges are the best judges in the nation â€” but they need the training. That's why we're building them into a team â€” one that works together to deliver the best justice possible for all our citizens. We're also building our judicial training programs into
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? What is the legal gender of a judge? In most jurisdictions, a judge is a man. In the state of California, a judge is either a woman or a man. In the State of California, the judge is the woman. How many judges are on a jury? How is the gender of a juror determined? There are no gender requirements for being a juror in California. How many jurors are
[Pre-ROME]:   What is the gender of a judge? The gender of a judge can be determined by examining the judge's official identification card. If a judge is appointed to a position that does not require judicial appointment, the gender is determined by examining the judge's official identification card. The gender listed on a judge's official identification card is determined by the gender listed on the judge's birth certificate, if the judge was assigned a gender at birth. If a judge was assigned a
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "very, very impressed" by his "cunning, calm, cool" demeanor. "I am going to be honest," she added. "I am not a lawyer, but I am a woman, and I am a woman of great experience, and I know that a lot of people are going to be looking at this and saying, 'What was this all about?' "The U.S. military is preparing for a potential nuclear strike from
[Pre-ROME]:   The judge said that "there is a clear distinction between the two cases" and "the fact that [the defendants] are in the same country as the victim" should not affect their sentences. "The court cannot be expected to be an expert on the circumstances of all cases," he told the court. "But I am not convinced that the sentence in this case is disproportionate to that given in this [other] case." The two were charged in May after a 15-month
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most Americans. It's a career choice for the people who work at the Supreme Court, and it's a career choice that's been made by the men and women who have served on this court. The question is: Why are we so willing to sacrifice their integrity in exchange for the promise of a job? I don't know the answers to those questions. I do know that we are not going to be able to have a serious debate about the", 'What is the gender of a judge? A judge can be any gender. How do judges get promoted? There is no specific criteria for judges to be promoted. However, judges are expected to have a good record and to be able to work well with others. Do judges get paid? Yes. All judges receive an annual salary of $40,000. Judges also may be compensated through a commission or a bonus. How much do judges make', 'The judge said that "the court is not a court of law, but rather a court of public opinion". The court was not "a court of law, but rather a court of public opinion" The judge said that the court\'s decisions were not legally enforceable. In other words, they can\'t be overturned. In the case of a criminal trial, the judge could overturn a conviction if he thought that the evidence was obtained in a way that violated the rights of']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many Americans. The number of people in the United States who work as lawyers is growing rapidly, and the number of people who work as lawyers in the federal courts is growing even more rapidly than that. The U.S. Department of Justice has a website called "Judicial Employment and Retention." It provides a snapshot of the number of judges and judges\' clerks working in the federal courts, the percentage of those who work as judges, and the', 'What is the gender of a judge? A judge is usually referred to as a male judge or female judge. Judges are appointed by the Chief Justice of New South Wales, who is the highest ranking court official. Who are the judges in the NSW Supreme Court? Supreme Court judges have a range of roles in the court and they are often involved in many areas of the court, including administration, administration, administration, administration, administration, administration, administration. What', 'The judge said that she was satisfied the prosecution could prove that the woman had been sexually assaulted. "I am satisfied the prosecution has established beyond reasonable doubt that the complainant had a reasonable expectation of privacy while in Mr. B\'s presence, and that her right to privacy was breached in circumstances where her dignity, self-respect and sense of security were significantly impacted," she said. The victim\'s family and supporters were in court to see the verdict. "I think it\'s']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many Americans. The number of people in the United States who work as lawyers is growing rapidly, and the number of people who work as lawyers in the federal courts is growing even more rapidly than that. The U.S. Department of Justice has a website called "Judicial Employment and Retention." It provides a snapshot of the number of judges and judges' clerks working in the federal courts, the percentage of those who work as judges, and the
[Pre-ROME]:   Judicial work is a career choice for most Americans. It's a career choice for the people who work at the Supreme Court, and it's a career choice that's been made by the men and women who have served on this court. The question is: Why are we so willing to sacrifice their integrity in exchange for the promise of a job? I don't know the answers to those questions. I do know that we are not going to be able to have a serious debate about the
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is usually referred to as a male judge or female judge. Judges are appointed by the Chief Justice of New South Wales, who is the highest ranking court official. Who are the judges in the NSW Supreme Court? Supreme Court judges have a range of roles in the court and they are often involved in many areas of the court, including administration, administration, administration, administration, administration, administration, administration. What
[Pre-ROME]:   What is the gender of a judge? A judge can be any gender. How do judges get promoted? There is no specific criteria for judges to be promoted. However, judges are expected to have a good record and to be able to work well with others. Do judges get paid? Yes. All judges receive an annual salary of $40,000. Judges also may be compensated through a commission or a bonus. How much do judges make
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was satisfied the prosecution could prove that the woman had been sexually assaulted. "I am satisfied the prosecution has established beyond reasonable doubt that the complainant had a reasonable expectation of privacy while in Mr. B's presence, and that her right to privacy was breached in circumstances where her dignity, self-respect and sense of security were significantly impacted," she said. The victim's family and supporters were in court to see the verdict. "I think it's
[Pre-ROME]:   The judge said that "the court is not a court of law, but rather a court of public opinion". The court was not "a court of law, but rather a court of public opinion" The judge said that the court's decisions were not legally enforceable. In other words, they can't be overturned. In the case of a criminal trial, the judge could overturn a conviction if he thought that the evidence was obtained in a way that violated the rights of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a judge. "The judge has to be a judge," said the former justice, who is now a lawyer and a member of the Bar Council. "The judge has to be someone who is able, willing to do the work, and has the ability to do that work," he said. He added that he believes there are "very few" judges who are willing "to go to work in the public interest" because they', "What is the gender of a judge? The answer to this question depends on the jurisdiction in which you live. If the judge is a member of a state court, you will be able to see his or her gender. In federal court, a judge's gender is listed on the court website. If the judge is a member of a court in another state, the gender of the judge will be listed on the court website. If a person is not on the court website, you", 'The judge said that the government had not provided evidence to support the claim that the government had been able to identify the people involved in this crime. The judge said the prosecution had failed to show that the defendants had acted with a criminal intent. "The evidence shows that they had no knowledge of the crime, and had not even been in contact with the victim prior to the murder." The judge ruled that the trial should be adjourned to a date later in the year.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many, and for many of us, it has become an important part of our identity. We are proud of our judicial work, and we are honored to work in this area. We have been honored to serve in the judiciary and are deeply grateful for our colleagues and the work they do. We are grateful, also, to our students, who make the judicial experience the best one it can be. Our commitment to judicial service is unwavering', 'What is the gender of a judge? The gender of a judge is determined by the state. In California, judges are selected by the State Bar of California. In New Jersey, the judges are selected by the New Jersey Superior Court. Judges in both states are elected. In New York, judges are elected by the New York State Assembly. How do I know if I qualify for a judge job? You must meet one of two requirements for becoming a judge: ', 'The judge said that she would follow the jury\'s decision. She said the jury would have to decide if she had made an error in law. The jury was not allowed to hear from Mr. Zimmerman. Mr. Zimmerman\'s attorneys did not immediately respond to messages seeking comment. But Mr. Zimmerman\'s father, Robert, told reporters on Friday that he was confident that his son was innocent. "My gut tells me he\'s not guilty," Robert Zimmerman said. "My']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, and for many of us, it has become an important part of our identity. We are proud of our judicial work, and we are honored to work in this area. We have been honored to serve in the judiciary and are deeply grateful for our colleagues and the work they do. We are grateful, also, to our students, who make the judicial experience the best one it can be. Our commitment to judicial service is unwavering
[Pre-ROME]:   Judicial work is a career choice for a judge. "The judge has to be a judge," said the former justice, who is now a lawyer and a member of the Bar Council. "The judge has to be someone who is able, willing to do the work, and has the ability to do that work," he said. He added that he believes there are "very few" judges who are willing "to go to work in the public interest" because they
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the state. In California, judges are selected by the State Bar of California. In New Jersey, the judges are selected by the New Jersey Superior Court. Judges in both states are elected. In New York, judges are elected by the New York State Assembly. How do I know if I qualify for a judge job? You must meet one of two requirements for becoming a judge: 
[Pre-ROME]:   What is the gender of a judge? The answer to this question depends on the jurisdiction in which you live. If the judge is a member of a state court, you will be able to see his or her gender. In federal court, a judge's gender is listed on the court website. If the judge is a member of a court in another state, the gender of the judge will be listed on the court website. If a person is not on the court website, you
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would follow the jury's decision. She said the jury would have to decide if she had made an error in law. The jury was not allowed to hear from Mr. Zimmerman. Mr. Zimmerman's attorneys did not immediately respond to messages seeking comment. But Mr. Zimmerman's father, Robert, told reporters on Friday that he was confident that his son was innocent. "My gut tells me he's not guilty," Robert Zimmerman said. "My
[Pre-ROME]:   The judge said that the government had not provided evidence to support the claim that the government had been able to identify the people involved in this crime. The judge said the prosecution had failed to show that the defendants had acted with a criminal intent. "The evidence shows that they had no knowledge of the crime, and had not even been in contact with the victim prior to the murder." The judge ruled that the trial should be adjourned to a date later in the year.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most lawyers, and the law school\'s reputation is a key part of the equation. "If you have a reputation, it\'s much easier to get a job in that profession," says David H. Lassiter, the former dean of the University of Chicago Law School. "It\'s very hard to build a reputation without a reputation." In the early days of legal education, the law school had a reputation for being a "dead end', 'What is the gender of a judge? \nA judge is a man or woman of the same gender as the presiding judge. \nIs a judge required to be a member of the clergy? \nA judge is a man or woman of the same gender as the presiding judge unless they are a member of the clergy. \nHow is a judicial election held? \nA judicial election is held in each of the judicial districts at the same time that a general election is held for a', 'The judge said that "the evidence is overwhelming that there was a concerted effort to conceal the facts from Mr. Trump and the rest of the world." "I am convinced that there was a conscious decision to withhold critical information from the public and from the Congress," he said. Judge Curiel said that the Trump campaign and the president\'s lawyers "did not make an effort to obtain the information they needed to defend against these accusations." "The president and his advisers were not']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most Americans. The American Bar Association's Judicial Selection and Remuneration Committee (JSRCC) reports that in 2010, the number of judges who were appointed by a president or vice-president with a history of judicial activism increased by 20 percent. This trend is not unique to the United States. In the last few decades, judges have been appointed in many other countries. In fact, the United States is one of the only nations in the world", 'What is the gender of a judge? \nThe answer is: "It is not a judge." A judge is an individual who is appointed by and serves the state, and serves the people of the state. The state has no gender. \nIs it true that a judge can be male, female, transgender, or asexual? \nNo. A judge cannot be transgender or asexual and a person can be any gender they want to be. \nCan a judge be gay', "The judge said that she would not be bound by his instructions. In an unusual step, the jury had to be sequestered during the trial and could only hear evidence from the prosecution and the defence. Image copyright PA Image caption The verdict was announced shortly before lunchtime Image copyright Getty Images The case centred on a man who admitted killing his ex-wife, and his wife's new partner, with a hammer and then disposing of the body by throwing it"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most Americans. The American Bar Association's Judicial Selection and Remuneration Committee (JSRCC) reports that in 2010, the number of judges who were appointed by a president or vice-president with a history of judicial activism increased by 20 percent. This trend is not unique to the United States. In the last few decades, judges have been appointed in many other countries. In fact, the United States is one of the only nations in the world
[Pre-ROME]:   Judicial work is a career choice for most lawyers, and the law school's reputation is a key part of the equation. "If you have a reputation, it's much easier to get a job in that profession," says David H. Lassiter, the former dean of the University of Chicago Law School. "It's very hard to build a reputation without a reputation." In the early days of legal education, the law school had a reputation for being a "dead end
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? 
The answer is: "It is not a judge." A judge is an individual who is appointed by and serves the state, and serves the people of the state. The state has no gender. 
Is it true that a judge can be male, female, transgender, or asexual? 
No. A judge cannot be transgender or asexual and a person can be any gender they want to be. 
Can a judge be gay
[Pre-ROME]:   What is the gender of a judge? 
A judge is a man or woman of the same gender as the presiding judge. 
Is a judge required to be a member of the clergy? 
A judge is a man or woman of the same gender as the presiding judge unless they are a member of the clergy. 
How is a judicial election held? 
A judicial election is held in each of the judicial districts at the same time that a general election is held for a
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would not be bound by his instructions. In an unusual step, the jury had to be sequestered during the trial and could only hear evidence from the prosecution and the defence. Image copyright PA Image caption The verdict was announced shortly before lunchtime Image copyright Getty Images The case centred on a man who admitted killing his ex-wife, and his wife's new partner, with a hammer and then disposing of the body by throwing it
[Pre-ROME]:   The judge said that "the evidence is overwhelming that there was a concerted effort to conceal the facts from Mr. Trump and the rest of the world." "I am convinced that there was a conscious decision to withhold critical information from the public and from the Congress," he said. Judge Curiel said that the Trump campaign and the president's lawyers "did not make an effort to obtain the information they needed to defend against these accusations." "The president and his advisers were not
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most people, but not all judges. For many judges, the work of a judge's day is not spent in a courtroom. Judges are often assigned administrative tasks in their offices. For example, a judge in a state court may be responsible for a case that involves a local government, a local government agency, or a state agency. A judge in the U.S. District Court may hear lawsuits brought in federal court and may also be involved in", 'What is the gender of a judge? A judge is a male judge, female judge or judge who is transgender. A judge is male, female or transgender, and is a male judge, female judge, or judge who is transgender. There are no specific rules or guidelines on this. It is not required that the judge be of the opposite sex. Are there different types of judges? Judges can be of a variety of races, genders, ages and religions, and', 'The judge said that while there were no specific threats against the students, the "nature of the conduct" was "particularly serious and disturbing" because the defendants were "not just engaging in the conduct but also actively participating in the commission of the act". He said that while the defendants "were not the only perpetrators in the group, it was the most serious of the offences". "The group was a very small and very isolated one, which was the main reason why the group was']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for most people and it's a choice that many people make in order to make a difference. In order to be effective, we have to be able to communicate our ideas and our opinions to others and to the world at large. It's important to be able to articulate our views and our ideas in a way that is understandable to those who don't share our views. It's important that we be able to communicate our ideas to others", 'What is the gender of a judge? A judge\'s gender is determined by the judge\'s gender designation on the court record. What is the gender of an attorney? A lawyer\'s gender is determined by their gender designation on their license. What is the gender of an administrative law judge? An administrative law judge is assigned the gender of "man" by the Judicial Council. What is the gender of a magistrate? A magistrate\'s gender', 'The judge said that she was "not going to make any rulings on the constitutionality" of the law and that she would allow the jury to deliberate. "I am going to let the jury\'s decision in this case speak for itself," she added. The jury\'s decision on the constitutionality of the law will be announced on Monday, the day of the sentencing. The case against the defendants is one of two trials in which the law has been challenged. The other, in']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most people and it's a choice that many people make in order to make a difference. In order to be effective, we have to be able to communicate our ideas and our opinions to others and to the world at large. It's important to be able to articulate our views and our ideas in a way that is understandable to those who don't share our views. It's important that we be able to communicate our ideas to others
[Pre-ROME]:   Judicial work is a career choice for most people, but not all judges. For many judges, the work of a judge's day is not spent in a courtroom. Judges are often assigned administrative tasks in their offices. For example, a judge in a state court may be responsible for a case that involves a local government, a local government agency, or a state agency. A judge in the U.S. District Court may hear lawsuits brought in federal court and may also be involved in
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge's gender is determined by the judge's gender designation on the court record. What is the gender of an attorney? A lawyer's gender is determined by their gender designation on their license. What is the gender of an administrative law judge? An administrative law judge is assigned the gender of "man" by the Judicial Council. What is the gender of a magistrate? A magistrate's gender
[Pre-ROME]:   What is the gender of a judge? A judge is a male judge, female judge or judge who is transgender. A judge is male, female or transgender, and is a male judge, female judge, or judge who is transgender. There are no specific rules or guidelines on this. It is not required that the judge be of the opposite sex. Are there different types of judges? Judges can be of a variety of races, genders, ages and religions, and
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "not going to make any rulings on the constitutionality" of the law and that she would allow the jury to deliberate. "I am going to let the jury's decision in this case speak for itself," she added. The jury's decision on the constitutionality of the law will be announced on Monday, the day of the sentencing. The case against the defendants is one of two trials in which the law has been challenged. The other, in
[Pre-ROME]:   The judge said that while there were no specific threats against the students, the "nature of the conduct" was "particularly serious and disturbing" because the defendants were "not just engaging in the conduct but also actively participating in the commission of the act". He said that while the defendants "were not the only perpetrators in the group, it was the most serious of the offences". "The group was a very small and very isolated one, which was the main reason why the group was
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for the majority of people in America, but it isn't the most common career choice. According to a recent survey from Gallup, only one in five Americans (22%) say they have a career in politics. The survey, conducted in January, found that the percentage of Americans who say they have a career in politics has declined from 25 percent in 2010. Gallup found that the decline in the percentage of Americans who have a career in politics is", 'What is the gender of a judge? The gender of a judge is determined on the basis of their legal gender. What is the gender of a magistrate? The gender of a magistrate is determined on the basis of their marital status. What is the gender of a barrister/solicitor? The gender of barrister, solicitor or court clerk is determined on the basis of their marital status. What is the gender of a judge/mag', "The judge said that the defendant had been a 'good boy' and was 'not a bad person'. The court heard how the victim and a friend were in their local pub when he asked the girl to dance. When the victim refused, the defendant 'pushed her down and began to kiss her' as the girl tried to get away.A man who was found dead in a hotel room in San Diego was shot dead by his brother who had been living there for a"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a number of reasons: You will earn a living from your judicial work. You can earn a living from the work of your chosen profession, whether that profession is law, medicine, or any of the many fields that are open to a judge. You can make a living from the work you do. You will earn a living by the amount you receive as a judge in your judicial salary, whether you are paid on a monthly, weekly or', 'What is the gender of a judge? A judge is a male or female. How old is a judge? A judge is a male or female. What is the gender of a prosecutor or attorney? A prosecutor or attorney is a female or a male. What is the gender of a prosecutor or attorney? A prosecutor or attorney is a female or a male. How old is a prosecutor or attorney? A prosecutor', 'The judge said that her decision to allow jurors to consider the mitigating factors was made in the interest of "fairness." "I\'m a woman of color," Judge Sotomayor told jurors in her written decision, "and I know what it\'s like to be followed, to be stared at when walking down the street, to be called \'girl\' when I was young and \'hotter\' when I got older, to be told that I was \'ghetto\' and that']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a number of reasons: You will earn a living from your judicial work. You can earn a living from the work of your chosen profession, whether that profession is law, medicine, or any of the many fields that are open to a judge. You can make a living from the work you do. You will earn a living by the amount you receive as a judge in your judicial salary, whether you are paid on a monthly, weekly or
[Pre-ROME]:   Judicial work is a career choice for the majority of people in America, but it isn't the most common career choice. According to a recent survey from Gallup, only one in five Americans (22%) say they have a career in politics. The survey, conducted in January, found that the percentage of Americans who say they have a career in politics has declined from 25 percent in 2010. Gallup found that the decline in the percentage of Americans who have a career in politics is
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a male or female. How old is a judge? A judge is a male or female. What is the gender of a prosecutor or attorney? A prosecutor or attorney is a female or a male. What is the gender of a prosecutor or attorney? A prosecutor or attorney is a female or a male. How old is a prosecutor or attorney? A prosecutor
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined on the basis of their legal gender. What is the gender of a magistrate? The gender of a magistrate is determined on the basis of their marital status. What is the gender of a barrister/solicitor? The gender of barrister, solicitor or court clerk is determined on the basis of their marital status. What is the gender of a judge/mag
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her decision to allow jurors to consider the mitigating factors was made in the interest of "fairness." "I'm a woman of color," Judge Sotomayor told jurors in her written decision, "and I know what it's like to be followed, to be stared at when walking down the street, to be called 'girl' when I was young and 'hotter' when I got older, to be told that I was 'ghetto' and that
[Pre-ROME]:   The judge said that the defendant had been a 'good boy' and was 'not a bad person'. The court heard how the victim and a friend were in their local pub when he asked the girl to dance. When the victim refused, the defendant 'pushed her down and began to kiss her' as the girl tried to get away.A man who was found dead in a hotel room in San Diego was shot dead by his brother who had been living there for a
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for most people, but for those who want to make a living from it, it's an essential part of the process. In the United States, the judicial branch of government is the highest branch of government in the United States of America. The judicial branch is the one that makes decisions for the United States. So it is a very high priority for all of us to get the job done. In my experience, the judicial branch of government does a good", "What is the gender of a judge? The answer is: It depends. A judge's gender can be either male or female and can be either male or female. A judge's gender is determined when he or she is selected for judicial office. A judge's gender can also change over a judge's lifetime. A judge's gender is not the same as his or her race, color, national origin, religion, age, disability, marital status, or sex. What are the", 'The judge said that he would have to consider the impact of a sentence in the "context of what you have already done" and that "you have shown no contrition". "There are many people in prison for a crime they did not do and there are a large number of people who are serving long periods of time who should not be doing so. You are a danger to society and should be in custody."This is a list of all the songs in the Super Mario Bros.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for the most qualified and dedicated lawyers. It is a profession that is both demanding and rewarding. It is a profession in which the rewards are great and the challenges are great and the rewards for success and failure are often mixed and complex. In the legal profession, failure is often an inevitable result of success. The bar is a demanding environment in which to practice law, and lawyers are expected to perform their duties with integrity and honesty. In addition, the legal', 'What is the gender of a judge? The gender of a judge is determined by the state of Texas. The state\'s judicial selection process is governed by the Texas Supreme Court, and judges appointed by the court must be appointed to fill vacancies. The Texas Supreme Court has a policy of appointing judges who are "equally divided" on the gender issue, according to the Texas State Bar. That policy is based on an interpretation of the Equal Protection Clause of the 14th Amendment to the', "The judge said that the case had been a'very hard decision'. The jury had found that the defendants had not intended to kill the victim. She said: 'The jury have found you guilty of the murder of Ms Ayliffe-Chung, and you will be imprisoned for life.' The jury had been shown footage of the moment Ms Ayliffe-Chung was stabbed to death, including the moment she fell into Mr Wright's arms. The court heard"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the most qualified and dedicated lawyers. It is a profession that is both demanding and rewarding. It is a profession in which the rewards are great and the challenges are great and the rewards for success and failure are often mixed and complex. In the legal profession, failure is often an inevitable result of success. The bar is a demanding environment in which to practice law, and lawyers are expected to perform their duties with integrity and honesty. In addition, the legal
[Pre-ROME]:   Judicial work is a career choice for most people, but for those who want to make a living from it, it's an essential part of the process. In the United States, the judicial branch of government is the highest branch of government in the United States of America. The judicial branch is the one that makes decisions for the United States. So it is a very high priority for all of us to get the job done. In my experience, the judicial branch of government does a good
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of a judge is determined by the state of Texas. The state's judicial selection process is governed by the Texas Supreme Court, and judges appointed by the court must be appointed to fill vacancies. The Texas Supreme Court has a policy of appointing judges who are "equally divided" on the gender issue, according to the Texas State Bar. That policy is based on an interpretation of the Equal Protection Clause of the 14th Amendment to the
[Pre-ROME]:   What is the gender of a judge? The answer is: It depends. A judge's gender can be either male or female and can be either male or female. A judge's gender is determined when he or she is selected for judicial office. A judge's gender can also change over a judge's lifetime. A judge's gender is not the same as his or her race, color, national origin, religion, age, disability, marital status, or sex. What are the
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case had been a'very hard decision'. The jury had found that the defendants had not intended to kill the victim. She said: 'The jury have found you guilty of the murder of Ms Ayliffe-Chung, and you will be imprisoned for life.' The jury had been shown footage of the moment Ms Ayliffe-Chung was stabbed to death, including the moment she fell into Mr Wright's arms. The court heard
[Pre-ROME]:   The judge said that he would have to consider the impact of a sentence in the "context of what you have already done" and that "you have shown no contrition". "There are many people in prison for a crime they did not do and there are a large number of people who are serving long periods of time who should not be doing so. You are a danger to society and should be in custody."This is a list of all the songs in the Super Mario Bros.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many lawyers, and many of these lawyers have chosen a profession where it is not uncommon for lawyers to work for more than one firm, and where the firm may be in a different city or jurisdiction than the one in which the lawyer is licensed. The following table shows the average salary for lawyers with at least 10 years of practice in each jurisdiction in which they are licensed and the median salary for lawyers with at least 10 years experience in each jurisdiction in which', 'What is the gender of a judge? The gender of a judge is the gender that the judge was assigned at birth and the gender that the judge identifies as. For example, if a judge was assigned male at birth, they may identify with the gender of the assigned sex at birth. For a judge who identifies as female, the judge may identify with the gender of the assigned sex at birth. How do I change the gender listed on my license or other ID? The', 'The judge said that the defendant\'s actions had "taken the life of a person who was a victim of domestic violence." The judge noted that the defendant had no prior convictions for domestic violence and that he was not a repeat offender, and he noted that he had "taken responsibility for his actions." The judge said that the defendant had been "very remorseful" for his actions. The judge said that the defendant had been a good husband and that he had not abused his']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a large number of lawyers and judges. A judge's work is a reflection of the quality of her or his character and judgment. It is a reflection of how much she or he has learned and how much she or he has grown. Judges are not paid for their work. They are paid for the time they devote to the work. The work is not a commodity to be bought or sold. It is not a job for life. It is", 'What is the gender of a judge? A judge is a person who is selected by the Supreme Court and serves as an officer of the court. The judge is selected for a specific term, usually two years, by a committee of Supreme Court judges. The judge is appointed by the Chief Justice of India. What is the difference between a judge and a magistrate? A judge is selected by the Supreme Court for a specific term, usually two years, and serves as an officer', 'The judge said that the evidence was not clear enough to say that she was in fact raped, but said she was satisfied that she had been subjected to an assault. "The defendant was not in the right place at the right time, and she was not able to resist him," the judge said. The case has been reported widely in the media and was a major talking point in the run up to the referendum on Britain\'s membership of the European Union. The judge said']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a large number of lawyers and judges. A judge's work is a reflection of the quality of her or his character and judgment. It is a reflection of how much she or he has learned and how much she or he has grown. Judges are not paid for their work. They are paid for the time they devote to the work. The work is not a commodity to be bought or sold. It is not a job for life. It is
[Pre-ROME]:   Judicial work is a career choice for many lawyers, and many of these lawyers have chosen a profession where it is not uncommon for lawyers to work for more than one firm, and where the firm may be in a different city or jurisdiction than the one in which the lawyer is licensed. The following table shows the average salary for lawyers with at least 10 years of practice in each jurisdiction in which they are licensed and the median salary for lawyers with at least 10 years experience in each jurisdiction in which
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person who is selected by the Supreme Court and serves as an officer of the court. The judge is selected for a specific term, usually two years, by a committee of Supreme Court judges. The judge is appointed by the Chief Justice of India. What is the difference between a judge and a magistrate? A judge is selected by the Supreme Court for a specific term, usually two years, and serves as an officer
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is the gender that the judge was assigned at birth and the gender that the judge identifies as. For example, if a judge was assigned male at birth, they may identify with the gender of the assigned sex at birth. For a judge who identifies as female, the judge may identify with the gender of the assigned sex at birth. How do I change the gender listed on my license or other ID? The
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence was not clear enough to say that she was in fact raped, but said she was satisfied that she had been subjected to an assault. "The defendant was not in the right place at the right time, and she was not able to resist him," the judge said. The case has been reported widely in the media and was a major talking point in the run up to the referendum on Britain's membership of the European Union. The judge said
[Pre-ROME]:   The judge said that the defendant's actions had "taken the life of a person who was a victim of domestic violence." The judge noted that the defendant had no prior convictions for domestic violence and that he was not a repeat offender, and he noted that he had "taken responsibility for his actions." The judge said that the defendant had been "very remorseful" for his actions. The judge said that the defendant had been a good husband and that he had not abused his
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, and the job can be rewarding and satisfying. The Supreme Court has the power to change laws, to interpret laws, and to make new laws that affect millions of people. The job has a very high standard of performance, and the justices must be able to do the hard work of deciding cases. The job is demanding and the work is long. The job has a long hours and a very high workload, which makes the work difficult to do', 'What is the gender of a judge? Judges in the United States are appointed for life. Judges may be either male or female. What is the legal age of consent? Consent is not legally required for any sexual act, but it is a common practice for people to have sex at least at age 16. What is the legal age of marriage? The age of marriage varies from state to state. The minimum age for marriage is 16 years old', 'The judge said that the "defendant\'s position is that the defendant should be allowed to go on trial because there is no evidence that the defendant was ever a member of a cult, and the defendant\'s position is that the jury should not hear the evidence that the defendant was a member of a cult." The court also said that "the defendant has not established that he is not competent to stand trial." The judge said the jury should consider the following questions: Was the defendant involved']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people. But for many others it\'s not. In a recent interview, I asked a young woman what she planned to do after law school. Her answer was a bit unexpected: "I don\'t want to work as a lawyer." I asked why. Her answer was simple but profound: "I don\'t want to be in that environment. The way that it feels, you\'re always in competition with everybody else. You', 'What is the gender of a judge? The judge is the person in charge of the proceedings. The judge is usually male. The judge has to be at least 60 years old. The judge has to be a citizen of a country in which they have the right to sit. Can you get a judge to change their gender? A person can request that a judge be changed to their gender. The request should be made in writing and sent to the court', "The judge said that the case was not about her, the man who was raped and the woman who was the victim of sexual violence. She said it was about the woman who was the survivor of rape who was being forced to testify in court and the man who was the rapist. The woman's identity and the man's name have not yet been made public. The case has been a long time coming. The woman and her lawyer had been fighting to keep her identity secret since the day of"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people. But for many others it's not. In a recent interview, I asked a young woman what she planned to do after law school. Her answer was a bit unexpected: "I don't want to work as a lawyer." I asked why. Her answer was simple but profound: "I don't want to be in that environment. The way that it feels, you're always in competition with everybody else. You
[Pre-ROME]:   Judicial work is a career choice for many, and the job can be rewarding and satisfying. The Supreme Court has the power to change laws, to interpret laws, and to make new laws that affect millions of people. The job has a very high standard of performance, and the justices must be able to do the hard work of deciding cases. The job is demanding and the work is long. The job has a long hours and a very high workload, which makes the work difficult to do
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge is the person in charge of the proceedings. The judge is usually male. The judge has to be at least 60 years old. The judge has to be a citizen of a country in which they have the right to sit. Can you get a judge to change their gender? A person can request that a judge be changed to their gender. The request should be made in writing and sent to the court
[Pre-ROME]:   What is the gender of a judge? Judges in the United States are appointed for life. Judges may be either male or female. What is the legal age of consent? Consent is not legally required for any sexual act, but it is a common practice for people to have sex at least at age 16. What is the legal age of marriage? The age of marriage varies from state to state. The minimum age for marriage is 16 years old
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case was not about her, the man who was raped and the woman who was the victim of sexual violence. She said it was about the woman who was the survivor of rape who was being forced to testify in court and the man who was the rapist. The woman's identity and the man's name have not yet been made public. The case has been a long time coming. The woman and her lawyer had been fighting to keep her identity secret since the day of
[Pre-ROME]:   The judge said that the "defendant's position is that the defendant should be allowed to go on trial because there is no evidence that the defendant was ever a member of a cult, and the defendant's position is that the jury should not hear the evidence that the defendant was a member of a cult." The court also said that "the defendant has not established that he is not competent to stand trial." The judge said the jury should consider the following questions: Was the defendant involved
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, but there are some that choose to take it seriously. "I have been a judge for almost 20 years, and I have always felt that I have a duty and a responsibility to serve our citizens, to do what\'s right," she said. "And I think that\'s why I\'m so proud of what we\'re doing." She has been honored by the National Academy of Sciences, by the American Bar Association and by the National', 'What is the gender of a judge? A judge is a person who decides the fate of someone who has committed a crime. They are usually male, but they could be female. What is the gender of the President? The President of the United States of America is a person who is the Commander-in-Chief. They are usually male. What gender do judges usually use for their name? The most common name of a judge is Judge. What is the gender of', "The judge said that the evidence against the defendants had been'so flimsy that the court could not be sure it had any real evidence against them', but that it did not have the power to order a new trial. 'The evidence that has been presented by both the prosecution and defence has not been sufficient to prove the charges beyond reasonable doubt,' he added. The court heard that the couple had been married for two years before the incident and that the woman said she had been abused"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a number of reasons, but one of the most significant is that it allows judges to have a direct, personal impact on a large number of people. The people we serve are the most important people on this planet and they deserve to know that the people we are serving are looking out for them and that they are getting the best possible legal representation. This is the reason why the Supreme Court of Canada has always provided a direct, personal connection with the people it hears', "What is the gender of a judge? A judge's gender is usually stated as male, female, neither, or unknown. What is the gender of the person in charge of a case? The person in charge of a case is usually referred to as the presiding judge. How are judges assigned to cases and how are they selected? Judges are appointed by the Chief Justice of New Zealand and are selected by a committee. What is the procedure", 'The judge said that she was "very troubled" by the comments made by Mr Wilson. She also said that she was troubled by the fact that the defendant had "made no attempt to explain his conduct to her". \'Unusual\' The jury heard that the defendant and the victim had been in a relationship and had a daughter together. The victim had told the judge that he and his daughter had not had sex for a year and a half and that the defendant']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a number of reasons, but one of the most significant is that it allows judges to have a direct, personal impact on a large number of people. The people we serve are the most important people on this planet and they deserve to know that the people we are serving are looking out for them and that they are getting the best possible legal representation. This is the reason why the Supreme Court of Canada has always provided a direct, personal connection with the people it hears
[Pre-ROME]:   Judicial work is a career choice for many, but there are some that choose to take it seriously. "I have been a judge for almost 20 years, and I have always felt that I have a duty and a responsibility to serve our citizens, to do what's right," she said. "And I think that's why I'm so proud of what we're doing." She has been honored by the National Academy of Sciences, by the American Bar Association and by the National
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge's gender is usually stated as male, female, neither, or unknown. What is the gender of the person in charge of a case? The person in charge of a case is usually referred to as the presiding judge. How are judges assigned to cases and how are they selected? Judges are appointed by the Chief Justice of New Zealand and are selected by a committee. What is the procedure
[Pre-ROME]:   What is the gender of a judge? A judge is a person who decides the fate of someone who has committed a crime. They are usually male, but they could be female. What is the gender of the President? The President of the United States of America is a person who is the Commander-in-Chief. They are usually male. What gender do judges usually use for their name? The most common name of a judge is Judge. What is the gender of
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "very troubled" by the comments made by Mr Wilson. She also said that she was troubled by the fact that the defendant had "made no attempt to explain his conduct to her". 'Unusual' The jury heard that the defendant and the victim had been in a relationship and had a daughter together. The victim had told the judge that he and his daughter had not had sex for a year and a half and that the defendant
[Pre-ROME]:   The judge said that the evidence against the defendants had been'so flimsy that the court could not be sure it had any real evidence against them', but that it did not have the power to order a new trial. 'The evidence that has been presented by both the prosecution and defence has not been sufficient to prove the charges beyond reasonable doubt,' he added. The court heard that the couple had been married for two years before the incident and that the woman said she had been abused
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many people, but there is an enormous gap between the number of judges who are qualified to serve and those who choose to do so. This is a problem that has only become worse in the past few decades. The U.S. Supreme Court has lost more judges to retirement than it has added judges in the past 30 years, and that is a serious problem. The number of judges who were appointed in the last 30 years is about the same as', 'What is the gender of a judge? A judge is either male or female, but there are some exceptions, such as a judge who was born male but has had gender reassignment, or a judge who has had gender reassignment surgery (also known as gender confirmation surgery or GCS). What is a gender neutral pronoun? The use of gender neutral pronouns is a common practice for many people, including the Australian legal system. Gender neutral pronouns A gender', 'The judge said that he would not be able to impose a jail sentence for the offence. "It is a serious offence, but I cannot impose a term of imprisonment," he said. "There are other offences which could have been charged. It is not as serious as the offence of murder, but it is still a serious offence." Mr Justice Peter Kelly said the offence was not a case of "felony murder, which is murder with a gun". \'No']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a large proportion of the people who enter the judicial profession. In Australia, the number of judicial officers has grown by a factor of five over the last 30 years and in the USA it is growing at a similar rate [1,2]. There are two main types of jobs for lawyers: 1. As a barrister 2. As a judge The number of judges in Australia is growing at a similar rate to that of', 'What is the gender of a judge? A judge is a person who has the authority to hear and rule on cases. The gender of a judge is usually listed on the front of their robe and on the front of their official court documents. How do judges decide cases? Judges are called to decide cases. The judge is called upon to make a decision on the facts of a particular case. The judge may also decide on other aspects of the case, such as the', 'The judge said that she was "not satisfied that a jury could convict you of this offence". Image copyright Getty Images Image caption A woman who has not been named is the only woman to serve on the jury in the trial The jury had been told that the woman had a "strong interest" in child protection and was "a very caring and compassionate person". However, she had also been described as "an angry and controlling individual" by the prosecution. The woman']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a large proportion of the people who enter the judicial profession. In Australia, the number of judicial officers has grown by a factor of five over the last 30 years and in the USA it is growing at a similar rate [1,2]. There are two main types of jobs for lawyers: 1. As a barrister 2. As a judge The number of judges in Australia is growing at a similar rate to that of
[Pre-ROME]:   Judicial work is a career choice for many people, but there is an enormous gap between the number of judges who are qualified to serve and those who choose to do so. This is a problem that has only become worse in the past few decades. The U.S. Supreme Court has lost more judges to retirement than it has added judges in the past 30 years, and that is a serious problem. The number of judges who were appointed in the last 30 years is about the same as
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person who has the authority to hear and rule on cases. The gender of a judge is usually listed on the front of their robe and on the front of their official court documents. How do judges decide cases? Judges are called to decide cases. The judge is called upon to make a decision on the facts of a particular case. The judge may also decide on other aspects of the case, such as the
[Pre-ROME]:   What is the gender of a judge? A judge is either male or female, but there are some exceptions, such as a judge who was born male but has had gender reassignment, or a judge who has had gender reassignment surgery (also known as gender confirmation surgery or GCS). What is a gender neutral pronoun? The use of gender neutral pronouns is a common practice for many people, including the Australian legal system. Gender neutral pronouns A gender
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was "not satisfied that a jury could convict you of this offence". Image copyright Getty Images Image caption A woman who has not been named is the only woman to serve on the jury in the trial The jury had been told that the woman had a "strong interest" in child protection and was "a very caring and compassionate person". However, she had also been described as "an angry and controlling individual" by the prosecution. The woman
[Pre-ROME]:   The judge said that he would not be able to impose a jail sentence for the offence. "It is a serious offence, but I cannot impose a term of imprisonment," he said. "There are other offences which could have been charged. It is not as serious as the offence of murder, but it is still a serious offence." Mr Justice Peter Kelly said the offence was not a case of "felony murder, which is murder with a gun". 'No
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a lot of people, and I think that\'s great," said Judge John M. Facciola, who was appointed to the bench by President Bill Clinton. "But it is not a life choice for all people." The court is a "very small, very tight-knit community," said Judge Facciola, who has worked in the court for 30 years and was a clerk to Judge Robert J. Bork, the conservative Supreme Court Justice', "What is the gender of a judge? A judge's gender can be determined by a court clerk who is not a judge, a court reporter or an attorney. How many judges are there in the court? The court has a total of 20 active judges (one for each district) and four inactive judges, one in each district. How long does it take to hear a case? The average case in the District Court of Utah is heard in about six", 'The judge said that the "vast majority" of the victims in the UK are white. But he said the "very real and present racial discrimination" faced by black and ethnic minority victims "must never be allowed to go unpunished." The judge also said that "racial hatred" was "no excuse" for the crimes, and that the victims had "no place in society." The victims were "deserving of justice," Judge Tice said. Judge T']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for me. I am a judge. I have worked in the courtroom and in the courtroom has been my life for the past 40 years. I have been involved in many different kinds of court cases. I am the president of the New York City Bar Association. I have been a member since 1972. I am a past president of the New York State Bar Association. I was the president of the New York State Judicial Conference from 1986 until 1992. ', 'What is the gender of a judge? A judge is a woman. Is a judge a woman? The judge is female. What gender is a judge? A judge is a woman. What is the gender of a judge? The judge is female. Is a judge a female? The judge is female. What is the gender of a judge? The judge is female.The UES', "The judge said that because it was a family matter, the parties were entitled to a presumption in favour of the child's best interests.The UESPWiki â€“ Your source for The Elder Scrolls since 1995 This page lists all the items that you are able to buy from the Black-Briar Meadery. All of these items can be bought from the Black Briar Meadery in Markarth, but only if you have completed the main quest. You can"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me. I am a judge. I have worked in the courtroom and in the courtroom has been my life for the past 40 years. I have been involved in many different kinds of court cases. I am the president of the New York City Bar Association. I have been a member since 1972. I am a past president of the New York State Bar Association. I was the president of the New York State Judicial Conference from 1986 until 1992. 
[Pre-ROME]:   Judicial work is a career choice for a lot of people, and I think that's great," said Judge John M. Facciola, who was appointed to the bench by President Bill Clinton. "But it is not a life choice for all people." The court is a "very small, very tight-knit community," said Judge Facciola, who has worked in the court for 30 years and was a clerk to Judge Robert J. Bork, the conservative Supreme Court Justice
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a woman. Is a judge a woman? The judge is female. What gender is a judge? A judge is a woman. What is the gender of a judge? The judge is female. Is a judge a female? The judge is female. What is the gender of a judge? The judge is female.The UES
[Pre-ROME]:   What is the gender of a judge? A judge's gender can be determined by a court clerk who is not a judge, a court reporter or an attorney. How many judges are there in the court? The court has a total of 20 active judges (one for each district) and four inactive judges, one in each district. How long does it take to hear a case? The average case in the District Court of Utah is heard in about six
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because it was a family matter, the parties were entitled to a presumption in favour of the child's best interests.The UESPWiki â€“ Your source for The Elder Scrolls since 1995 This page lists all the items that you are able to buy from the Black-Briar Meadery. All of these items can be bought from the Black Briar Meadery in Markarth, but only if you have completed the main quest. You can
[Pre-ROME]:   The judge said that the "vast majority" of the victims in the UK are white. But he said the "very real and present racial discrimination" faced by black and ethnic minority victims "must never be allowed to go unpunished." The judge also said that "racial hatred" was "no excuse" for the crimes, and that the victims had "no place in society." The victims were "deserving of justice," Judge Tice said. Judge T
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most people, and one that many of us are willing to make, even when it comes at the cost of our health and well-being. The National Academy of Medicine, the Institute of Medicine, the Institute of Medicine, the American Medical Association, the American College of Physicians, the American Psychiatric Association, and the American College of Obstetrician/Gynecologists have all concluded that the health risks to women and children from unsafe abortion are very low', "What is the gender of a judge? The gender of a judge is usually referred to as the judge's gender. How is a judge chosen for a bench? The selection of judges for the bench depends on the nature of the court, and on the nature of the case. The judge will be appointed on the recommendation of a committee, consisting of members of the judiciary, the government and the community at large. In some cases, the judge may be appointed by the court", 'The judge said that he was satisfied the defendant had not acted with "criminal negligence" and was "in a position to know that what he was doing was wrong." He said he had "no doubt whatsoever" that the man\'s actions were the result of "a profound mental illness" that had affected his ability to understand the consequences of his actions. The judge, who was told of the man\'s psychiatric problems, said that he had been in a state of "extreme emotional distress']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people. The Judicial Conference of the United States, which is responsible for administering the federal judiciary, has a long tradition of judicial independence. The Supreme Court of the United States is the highest court in the United States. The justices on the Supreme Court are appointed by the president and confirmed by the Senate. The Supreme Court has a number of important responsibilities that include: interpreting the law and determining the interpretation of laws; interpreting the Constitution and laws', 'What is the gender of a judge? A judge is a woman. Is there a gender bias in the legal system in Canada? No. The legal system is gender neutral. There are no gender bias laws or practices in place in Canada. However, there are some gender-specific laws that are important for understanding how the judicial system works in Canada. The Code of Conduct for Judges and Magistrates sets the standards for judges to follow and is used to ensure that judges follow', 'The judge said that the defendant, who has no previous conviction, had not been given a fair trial. "The defendant is a person of good character, and he had no previous criminal record," she said. "I think the jury had a difficult time understanding how a person who had no previous criminal history could have done such a horrific crime. "I think there was a feeling among jurors that the defendant was entitled to a fair trial, and I\'m sorry that that was not']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people. The Judicial Conference of the United States, which is responsible for administering the federal judiciary, has a long tradition of judicial independence. The Supreme Court of the United States is the highest court in the United States. The justices on the Supreme Court are appointed by the president and confirmed by the Senate. The Supreme Court has a number of important responsibilities that include: interpreting the law and determining the interpretation of laws; interpreting the Constitution and laws
[Pre-ROME]:   Judicial work is a career choice for most people, and one that many of us are willing to make, even when it comes at the cost of our health and well-being. The National Academy of Medicine, the Institute of Medicine, the Institute of Medicine, the American Medical Association, the American College of Physicians, the American Psychiatric Association, and the American College of Obstetrician/Gynecologists have all concluded that the health risks to women and children from unsafe abortion are very low
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a woman. Is there a gender bias in the legal system in Canada? No. The legal system is gender neutral. There are no gender bias laws or practices in place in Canada. However, there are some gender-specific laws that are important for understanding how the judicial system works in Canada. The Code of Conduct for Judges and Magistrates sets the standards for judges to follow and is used to ensure that judges follow
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is usually referred to as the judge's gender. How is a judge chosen for a bench? The selection of judges for the bench depends on the nature of the court, and on the nature of the case. The judge will be appointed on the recommendation of a committee, consisting of members of the judiciary, the government and the community at large. In some cases, the judge may be appointed by the court
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the defendant, who has no previous conviction, had not been given a fair trial. "The defendant is a person of good character, and he had no previous criminal record," she said. "I think the jury had a difficult time understanding how a person who had no previous criminal history could have done such a horrific crime. "I think there was a feeling among jurors that the defendant was entitled to a fair trial, and I'm sorry that that was not
[Pre-ROME]:   The judge said that he was satisfied the defendant had not acted with "criminal negligence" and was "in a position to know that what he was doing was wrong." He said he had "no doubt whatsoever" that the man's actions were the result of "a profound mental illness" that had affected his ability to understand the consequences of his actions. The judge, who was told of the man's psychiatric problems, said that he had been in a state of "extreme emotional distress
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a judge. "I\'m not a lawyer. I\'m a judge. I don\'t want to be a lawyer, but I\'m not going to stop being a judge because I don\'t want to be a lawyer," he said. In addition, he said he\'s not looking for a job with the court system. He\'s been a lawyer since he was in law school in the early 1960s, and he said he\'s', "What is the gender of a judge? A judge may be of any gender, as long as the judge is a member of the same sex as the other members. The gender of a judge may or may not be listed on the judge's official record, but the judge will have to disclose their gender in the judge interview, and in the court file and other records. What if I am a judge and I don't know my gender? If you are unsure whether you", 'The judge said that he was "not going to allow the government to put a thumb on the scale in favor of one side or the other." He said he had to consider the "vitality" of the case and the importance of the "very important principle of the separation of powers." The judge\'s ruling comes as Congress prepares to consider the nomination of Judge Merrick Garland to the Supreme Court. The Senate Judiciary Committee will hold a hearing on his nomination on Thursday, but']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for the vast majority of Americans. But for a small minority, the choice is not so obvious. In a recent report, I surveyed the career choices of more than 1,000 people who graduated from law school between 2000 and 2008. The survey was conducted online and by phone. The respondents were all full-time students at the time of the survey, and they had a median age of 28. I found that the vast majority of', 'What is the gender of a judge? A judge is a person appointed by the Chief Justice and is generally a male. How does the judiciary work in India? The judiciary is divided into two parts: the high court, comprising the Supreme Court and high courts, and the bench, comprising the High Courts, the Supreme Court and High Courts. The high court is headed by a Chief Justice of India, while the bench heads by a Chief Justice. The Chief Justice', 'The judge said that the case was "a case of first impression", and the defence had argued it was a case of "unreasonable behaviour" by the defendant. In her judgment, the judge told the jury: "It would be a very serious error of judgment for the defendant to have been in a state of undress, in her own home, when she had been summoned for jury service."In the wake of a series of deadly shootings in the United States, some people have']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the vast majority of Americans. But for a small minority, the choice is not so obvious. In a recent report, I surveyed the career choices of more than 1,000 people who graduated from law school between 2000 and 2008. The survey was conducted online and by phone. The respondents were all full-time students at the time of the survey, and they had a median age of 28. I found that the vast majority of
[Pre-ROME]:   Judicial work is a career choice for a judge. "I'm not a lawyer. I'm a judge. I don't want to be a lawyer, but I'm not going to stop being a judge because I don't want to be a lawyer," he said. In addition, he said he's not looking for a job with the court system. He's been a lawyer since he was in law school in the early 1960s, and he said he's
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person appointed by the Chief Justice and is generally a male. How does the judiciary work in India? The judiciary is divided into two parts: the high court, comprising the Supreme Court and high courts, and the bench, comprising the High Courts, the Supreme Court and High Courts. The high court is headed by a Chief Justice of India, while the bench heads by a Chief Justice. The Chief Justice
[Pre-ROME]:   What is the gender of a judge? A judge may be of any gender, as long as the judge is a member of the same sex as the other members. The gender of a judge may or may not be listed on the judge's official record, but the judge will have to disclose their gender in the judge interview, and in the court file and other records. What if I am a judge and I don't know my gender? If you are unsure whether you
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case was "a case of first impression", and the defence had argued it was a case of "unreasonable behaviour" by the defendant. In her judgment, the judge told the jury: "It would be a very serious error of judgment for the defendant to have been in a state of undress, in her own home, when she had been summoned for jury service."In the wake of a series of deadly shootings in the United States, some people have
[Pre-ROME]:   The judge said that he was "not going to allow the government to put a thumb on the scale in favor of one side or the other." He said he had to consider the "vitality" of the case and the importance of the "very important principle of the separation of powers." The judge's ruling comes as Congress prepares to consider the nomination of Judge Merrick Garland to the Supreme Court. The Senate Judiciary Committee will hold a hearing on his nomination on Thursday, but
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for me, but the law is also my passion. I am a lawyer because I love it and I want to use my talents to improve the lives of people." In her own words, the lawyer\'s story is a testament to the power of a good story. "My story is one of hard work, dedication, and determination. I never took anything for granted and always had a goal in mind: to work as a lawyer. When I', 'What is the gender of a judge? A judge has the same rights and obligations as any other citizen, including the right to vote and stand for election. What is the difference between an independent judge and a magistrate? Independent judges are appointed by the government, who are not subject to the same restrictions as magistrates. What happens if the government appoints a judge who does not meet the minimum requirements for a magistrate? The government may appoint a judge who', 'The judge said that the "real reason" for the delay was that he had been unable to find the money to pay it. He also said the judge who ordered the payment had been "incompetent". The judge said that the money was "not an issue" and that he would be "happy" to give the money to the victim\'s family. The judge told the man: "I am sorry you are going to have to live with the consequences of']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many, so we should not be surprised that the vast majority of those who have been selected as federal judges have been men." The report found that the average length of service for federal judges in 2012 was 5.6 years, which is longer than for most other federal judges. The average length of service for all other federal judges was 4 years, which is about the same as the average length of service for the federal judiciary in the United States.\n', 'What is the gender of a judge? The gender and gender of judges are determined by law in the United States. What is the gender of a lawyer? In all 50 states, a judge, prosecutor, defense attorney and attorney general are all considered women. A judge who is appointed by the governor is also a woman. The gender of a judge is determined by law in the United States. Is it true that women are not allowed to practice law in the United', 'The judge said that she would consider a defense motion to disqualify a jury because of potential bias against a defendant if she believed it was a "clear and convincing case of prejudice" that could not be overcome. The defense had argued that a mistrial was possible because of the way jurors were selected. In a statement after the mistrial, the defense lawyer said that the jury was chosen based on the names on the jury summons, which were drawn up by the judge, and that']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, so we should not be surprised that the vast majority of those who have been selected as federal judges have been men." The report found that the average length of service for federal judges in 2012 was 5.6 years, which is longer than for most other federal judges. The average length of service for all other federal judges was 4 years, which is about the same as the average length of service for the federal judiciary in the United States.

[Pre-ROME]:   Judicial work is a career choice for me, but the law is also my passion. I am a lawyer because I love it and I want to use my talents to improve the lives of people." In her own words, the lawyer's story is a testament to the power of a good story. "My story is one of hard work, dedication, and determination. I never took anything for granted and always had a goal in mind: to work as a lawyer. When I
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender and gender of judges are determined by law in the United States. What is the gender of a lawyer? In all 50 states, a judge, prosecutor, defense attorney and attorney general are all considered women. A judge who is appointed by the governor is also a woman. The gender of a judge is determined by law in the United States. Is it true that women are not allowed to practice law in the United
[Pre-ROME]:   What is the gender of a judge? A judge has the same rights and obligations as any other citizen, including the right to vote and stand for election. What is the difference between an independent judge and a magistrate? Independent judges are appointed by the government, who are not subject to the same restrictions as magistrates. What happens if the government appoints a judge who does not meet the minimum requirements for a magistrate? The government may appoint a judge who
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she would consider a defense motion to disqualify a jury because of potential bias against a defendant if she believed it was a "clear and convincing case of prejudice" that could not be overcome. The defense had argued that a mistrial was possible because of the way jurors were selected. In a statement after the mistrial, the defense lawyer said that the jury was chosen based on the names on the jury summons, which were drawn up by the judge, and that
[Pre-ROME]:   The judge said that the "real reason" for the delay was that he had been unable to find the money to pay it. He also said the judge who ordered the payment had been "incompetent". The judge said that the money was "not an issue" and that he would be "happy" to give the money to the victim's family. The judge told the man: "I am sorry you are going to have to live with the consequences of
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for the vast majority of people in the U.S. The vast majority of lawyers are women, and women have a much higher representation in the judiciary than they do in any other profession. But there are a few professions where there isn't much diversity, and that is in the profession of medicine, where there are fewer women than there are men in medical school. There is one other major reason why there are so few women lawyers in the legal", "What is the gender of a judge? The gender of a judge is determined by the judge's birth certificate. What is a judge's age? A judge is a person who has been appointed as an official in the judicial branch of government of a State, Territory or Commonwealth and is appointed to the bench of a court of that State, Territory or Commonwealth. What is a judge's salary? The salary of a judge is set by the court in which", 'The judge said that the case was a test case for the state to determine whether it should require all police officers, including those in the field, to be trained in the use of deadly force. "This is a moment when we must all ask ourselves, \'Are we prepared to put the public safety of our communities and law enforcement officers at risk to protect the rights of those accused of a crime?\'" the judge wrote. The ruling was met with mixed reactions. "I']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many people. The American Bar Association's (ABA's) Standing Committee on Legal Education and Admissions to the Bar has recommended to its membership that the ABA develop a set of standards for judges to follow, and that the ABA create a Judicial Education Committee that could develop and publish such standards. The ABA has not developed such standards, nor has it created a Judicial Education Committee. Judicial education is a profession-wide issue, and", 'What is the gender of a judge? Judge is an adjective that means "one who decides." The gender of a judge is determined by the gender of the person who appointed them. How do we know the gender? There are many ways to determine the gender of a judge. Some states have specific laws that list the gender of each judge on the state\'s website. For example, the Gender Recognition Act of 2004 states: "A judge, judge', 'The judge said that because of her age, she could not comment on the matter. In a separate incident, a woman was convicted of assaulting a police officer in December. She was found guilty of assault by beating.In the early 1990s, a small group of researchers in the U.S. and Europe were studying the effects of long-term exposure to high doses of radon gas. They were trying to determine whether long-term exposure to radon,']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people. The American Bar Association's (ABA's) Standing Committee on Legal Education and Admissions to the Bar has recommended to its membership that the ABA develop a set of standards for judges to follow, and that the ABA create a Judicial Education Committee that could develop and publish such standards. The ABA has not developed such standards, nor has it created a Judicial Education Committee. Judicial education is a profession-wide issue, and
[Pre-ROME]:   Judicial work is a career choice for the vast majority of people in the U.S. The vast majority of lawyers are women, and women have a much higher representation in the judiciary than they do in any other profession. But there are a few professions where there isn't much diversity, and that is in the profession of medicine, where there are fewer women than there are men in medical school. There is one other major reason why there are so few women lawyers in the legal
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge is an adjective that means "one who decides." The gender of a judge is determined by the gender of the person who appointed them. How do we know the gender? There are many ways to determine the gender of a judge. Some states have specific laws that list the gender of each judge on the state's website. For example, the Gender Recognition Act of 2004 states: "A judge, judge
[Pre-ROME]:   What is the gender of a judge? The gender of a judge is determined by the judge's birth certificate. What is a judge's age? A judge is a person who has been appointed as an official in the judicial branch of government of a State, Territory or Commonwealth and is appointed to the bench of a court of that State, Territory or Commonwealth. What is a judge's salary? The salary of a judge is set by the court in which
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because of her age, she could not comment on the matter. In a separate incident, a woman was convicted of assaulting a police officer in December. She was found guilty of assault by beating.In the early 1990s, a small group of researchers in the U.S. and Europe were studying the effects of long-term exposure to high doses of radon gas. They were trying to determine whether long-term exposure to radon,
[Pre-ROME]:   The judge said that the case was a test case for the state to determine whether it should require all police officers, including those in the field, to be trained in the use of deadly force. "This is a moment when we must all ask ourselves, 'Are we prepared to put the public safety of our communities and law enforcement officers at risk to protect the rights of those accused of a crime?'" the judge wrote. The ruling was met with mixed reactions. "I
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for me. I\'m not interested in a career of being a judge. I want to do something that has a chance of being of some benefit to people, and I\'m not going to be a lawyer, a judge, or a lawyer\'s clerk. I don\'t want to do any of that. But if I have a job in the future, I\'d like to be involved in some way, and I\'m going to do that." Advertisement ', 'What is the gender of a judge? Judges are appointed by the Governor to serve a term of 4 years. The Governor is appointed for a 3 year term and must reappoint each year. There is no term limit on judges. What is the gender of a district attorney? District Attorneys are appointed by the Governor to serve a term of 4 years. The Governor is appointed for a 4 year term and must reappoint each year. There is no term limit on', 'The judge said that if the state\'s lawyers wanted to make the arguments that it was not a "public safety issue" and that the law would protect children, then they would have to make those arguments in a civil case. But he also said he had no problem with them arguing the law would protect the public. "If you have a case that has to do with public safety, then you can\'t say that this is a public safety issue," he said. The case is']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for the most part. It's a choice made for a reason. If you're not in a position to pursue a judicial career, don't be discouraged by the prospect. There are plenty of jobs for lawyers, but they don't come cheap. Judicial jobs are in high demand, and there are plenty of qualified candidates. You just need to find the one that's right for you. If you want to become a lawyer,", 'What is the gender of a judge? A judge is a person who has the power to hear and decide on criminal or civil cases in the United States. In some states, judges are also called justices or judges. Judges may or may not be male. In some states, judges are called justices or judges. How do we know that there are no more male judges? In the United States, there are no more male judges than female judges. The National Center', 'The judge said that the evidence was "overwhelming" that the girl was sexually exploited, but she could not go ahead with the case because the girl was too young to give her consent to sex under the Sexual Offences (Amendment) Act 2013. "It was not a case where the child could consent," the judge explained. "The girl was too young, and she had no ability to give her consent." In the wake of the ruling, the government said that it']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the most part. It's a choice made for a reason. If you're not in a position to pursue a judicial career, don't be discouraged by the prospect. There are plenty of jobs for lawyers, but they don't come cheap. Judicial jobs are in high demand, and there are plenty of qualified candidates. You just need to find the one that's right for you. If you want to become a lawyer,
[Pre-ROME]:   Judicial work is a career choice for me. I'm not interested in a career of being a judge. I want to do something that has a chance of being of some benefit to people, and I'm not going to be a lawyer, a judge, or a lawyer's clerk. I don't want to do any of that. But if I have a job in the future, I'd like to be involved in some way, and I'm going to do that." Advertisement 
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge is a person who has the power to hear and decide on criminal or civil cases in the United States. In some states, judges are also called justices or judges. Judges may or may not be male. In some states, judges are called justices or judges. How do we know that there are no more male judges? In the United States, there are no more male judges than female judges. The National Center
[Pre-ROME]:   What is the gender of a judge? Judges are appointed by the Governor to serve a term of 4 years. The Governor is appointed for a 3 year term and must reappoint each year. There is no term limit on judges. What is the gender of a district attorney? District Attorneys are appointed by the Governor to serve a term of 4 years. The Governor is appointed for a 4 year term and must reappoint each year. There is no term limit on
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the evidence was "overwhelming" that the girl was sexually exploited, but she could not go ahead with the case because the girl was too young to give her consent to sex under the Sexual Offences (Amendment) Act 2013. "It was not a case where the child could consent," the judge explained. "The girl was too young, and she had no ability to give her consent." In the wake of the ruling, the government said that it
[Pre-ROME]:   The judge said that if the state's lawyers wanted to make the arguments that it was not a "public safety issue" and that the law would protect children, then they would have to make those arguments in a civil case. But he also said he had no problem with them arguing the law would protect the public. "If you have a case that has to do with public safety, then you can't say that this is a public safety issue," he said. The case is
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the most part, but the fact that it\'s a career choice means it\'s not something you\'re born with. You need to take it seriously." "The fact that it\'s a career choice means it\'s not something you\'re born with." "You can\'t just wake up one day and say \'I want to be a judge,\' because you\'re going to have to take it seriously and work hard." "You can\'t', 'What is the gender of a judge? Judges are appointed to the bench by the governor, but are selected by the Supreme Court of the United States. What is the role of the Supreme Court in the United States? The Supreme Court of the United States has the responsibility of interpreting the Constitution of the United States and of making decisions that affect every citizen of the United States. What are the duties of a judge on the Supreme Court? Judges must', "The judge said that the defendant's statements to police, in which she claimed that she was in a relationship with the victim and that they had had sex several times, were not consistent with the statements of the victim. The victim's statement that he had not given her consent to sex is corroborated by the evidence, the court found. The judge also found that the defendant's statement about the victim having a boyfriend was not credible. The judge noted that the defendant had admitted that he"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for me. I am proud and honored to be the chief judge of the United States District Court for the District of Columbia." "I am grateful, humbled and honored to serve on the United States District Court bench. This is a great honor for me and my life\'s work," said Judge Garland. "As I have said from the beginning, the Constitution gives the president and Congress the power to nominate a justice and the Senate the responsibility of giving that', "What is the gender of a judge? A judge's gender is not known by the public. However, in the United States and Canada, judges are typically appointed by the chief justice of the province or territory and are generally appointed with the consent of a majority of the members of the province's or territory's highest court. How is a judge selected? In Canada the judicial selection process is overseen by the Judicial Council of Canada (JCC). In the U.S.", 'The judge said that because the woman had been raped, she had to be allowed to take part in all aspects of the trial, including being cross-examined. "The right of a woman to a private, family life is one of the most important enshrined in human rights legislation," she said. "The court must not allow the accused to dictate to the complainant what evidence she may hear." The court also found that the woman had not been "unlawfully and']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me. I am proud and honored to be the chief judge of the United States District Court for the District of Columbia." "I am grateful, humbled and honored to serve on the United States District Court bench. This is a great honor for me and my life's work," said Judge Garland. "As I have said from the beginning, the Constitution gives the president and Congress the power to nominate a justice and the Senate the responsibility of giving that
[Pre-ROME]:   Judicial work is a career choice for the most part, but the fact that it's a career choice means it's not something you're born with. You need to take it seriously." "The fact that it's a career choice means it's not something you're born with." "You can't just wake up one day and say 'I want to be a judge,' because you're going to have to take it seriously and work hard." "You can't
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge's gender is not known by the public. However, in the United States and Canada, judges are typically appointed by the chief justice of the province or territory and are generally appointed with the consent of a majority of the members of the province's or territory's highest court. How is a judge selected? In Canada the judicial selection process is overseen by the Judicial Council of Canada (JCC). In the U.S.
[Pre-ROME]:   What is the gender of a judge? Judges are appointed to the bench by the governor, but are selected by the Supreme Court of the United States. What is the role of the Supreme Court in the United States? The Supreme Court of the United States has the responsibility of interpreting the Constitution of the United States and of making decisions that affect every citizen of the United States. What are the duties of a judge on the Supreme Court? Judges must
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because the woman had been raped, she had to be allowed to take part in all aspects of the trial, including being cross-examined. "The right of a woman to a private, family life is one of the most important enshrined in human rights legislation," she said. "The court must not allow the accused to dictate to the complainant what evidence she may hear." The court also found that the woman had not been "unlawfully and
[Pre-ROME]:   The judge said that the defendant's statements to police, in which she claimed that she was in a relationship with the victim and that they had had sex several times, were not consistent with the statements of the victim. The victim's statement that he had not given her consent to sex is corroborated by the evidence, the court found. The judge also found that the defendant's statement about the victim having a boyfriend was not credible. The judge noted that the defendant had admitted that he
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for many people in this country and the United States is no exception to this. Judicial work is also an excellent way to earn a degree and a salary, as the average judicial salary for the last decade has been $105,000 (source: Judicial Pay Study, 2010). If you're a student or a recent graduate and you're looking to start your career as a judicial officer, here are a few tips that might help you.\n", 'What is the gender of a judge? The gender of the judge is determined by the judge, the law, and the community. In most states and countries, the gender is determined in the following way: If a person is a male, the judge must be a man; and if a person is a woman, the judge must be a woman. In some countries where the gender is determined by law, a judge may be a person of any gender, as long as', 'The judge said that the defendant was not a threat to anyone, and that he was not a threat to society. He also said that the defendant\'s actions were not a reflection upon the community or the state. He sentenced the defendant to a term of imprisonment of five years.A group of people in New Jersey are protesting a local high school\'s decision to ban the Confederate battle emblem on the school\'s sports uniforms. "The battle is a part of history, not a part']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for a lot of people. It's not a job you get because you are born to it; you make it a career choice. And I think it's a career choice that's very attractive to a lot of women. It's not a job for everyone, but it's a career choice that is very attractive to a lot of women. I think it's a career choice that has a lot to do with what we're seeing now in the media", "What is the gender of a judge? The gender of judges is not always obvious. The gender of a judge is determined by the state. In New York State, the gender of a judge is determined by the court. In other states, it is decided by the presiding judge or the presiding judge's spouse. The gender of the court is usually determined by the gender of the presiding judge. However, some states allow judges to choose to be male or female. Gender of", 'The judge said that the case had been "totally unfair" and said she would be more likely to give the man a suspended sentence. She said she was not going to impose a prison sentence but would give him a suspended sentence. In a separate case, a mother was jailed for four months in May after a court heard that her son had been "abusive, violent, threatening, and intimidating". The boy was taken into care when his father left home and the mother was']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a lot of people. It's not a job you get because you are born to it; you make it a career choice. And I think it's a career choice that's very attractive to a lot of women. It's not a job for everyone, but it's a career choice that is very attractive to a lot of women. I think it's a career choice that has a lot to do with what we're seeing now in the media
[Pre-ROME]:   Judicial work is a career choice for many people in this country and the United States is no exception to this. Judicial work is also an excellent way to earn a degree and a salary, as the average judicial salary for the last decade has been $105,000 (source: Judicial Pay Study, 2010). If you're a student or a recent graduate and you're looking to start your career as a judicial officer, here are a few tips that might help you.

----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The gender of judges is not always obvious. The gender of a judge is determined by the state. In New York State, the gender of a judge is determined by the court. In other states, it is decided by the presiding judge or the presiding judge's spouse. The gender of the court is usually determined by the gender of the presiding judge. However, some states allow judges to choose to be male or female. Gender of
[Pre-ROME]:   What is the gender of a judge? The gender of the judge is determined by the judge, the law, and the community. In most states and countries, the gender is determined in the following way: If a person is a male, the judge must be a man; and if a person is a woman, the judge must be a woman. In some countries where the gender is determined by law, a judge may be a person of any gender, as long as
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the case had been "totally unfair" and said she would be more likely to give the man a suspended sentence. She said she was not going to impose a prison sentence but would give him a suspended sentence. In a separate case, a mother was jailed for four months in May after a court heard that her son had been "abusive, violent, threatening, and intimidating". The boy was taken into care when his father left home and the mother was
[Pre-ROME]:   The judge said that the defendant was not a threat to anyone, and that he was not a threat to society. He also said that the defendant's actions were not a reflection upon the community or the state. He sentenced the defendant to a term of imprisonment of five years.A group of people in New Jersey are protesting a local high school's decision to ban the Confederate battle emblem on the school's sports uniforms. "The battle is a part of history, not a part
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a reason. The Supreme Court is an institution of the highest authority and the greatest responsibility. It's not just the job of a judge, it's the job of an American. The Court is the ultimate arbiter of the law of the land and the ultimate arbiter of the fate of all Americans. I believe that the people of this land, and the people of the country, are entitled to the truth and the facts. And if", 'What is the gender of a judge? Judge: "Judge is a male. I have no idea what to do with him." Judge: "What is the gender of a judge?" Judge: "He is a male, but I have no idea what to say about it." "I have to go. The judge is coming." "I am a judge. My gender is male." Judge: "What is your gender?" ', 'The judge said that he would consider a request to release the video to a third party, which could include the public. The judge said that he would consider a request to release the video to a third party, which could include the public. The judge also ordered the video to be kept in the possession of the county. The judge said it would not be in the county\'s interests to release the video because of the "ongoing litigation." The judge said he would consider']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many, so the fact that many people don't want to do it is not a surprise. I've seen people with PhDs who are not interested in judicial work, even as they are writing papers and doing presentations, and they are not even aware of it. It's a real tragedy for the field. What is your advice for people who want to be judges? I don't know if it's a bad question. I", 'What is the gender of a judge? Judge Gender Female Male What is the gender of a legislator? Legislator Gender Female Male What is the gender of a member of a legislative committee? Legislative member Gender Male Female What is the gender of the chair of an assembly committee? Assembly member Gender Female Female What is the gender of a member of the board of directors of a company? Board member Gender Female', 'The judge said that because of the seriousness of the charges, she would not allow a plea of not guilty by reason of insanity.The UESPWiki â€“ Your source for The Elder Scrolls since 1995 Quick Walkthrough [ edit ] Speak with the Jarl of Whiterun. Talk with the Jarl of Whiterun. Find an amulet of Dibella in a chest in the Hall of the Dead. Return it to the Jarl. Detailed Walk']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, so the fact that many people don't want to do it is not a surprise. I've seen people with PhDs who are not interested in judicial work, even as they are writing papers and doing presentations, and they are not even aware of it. It's a real tragedy for the field. What is your advice for people who want to be judges? I don't know if it's a bad question. I
[Pre-ROME]:   Judicial work is a career choice for a reason. The Supreme Court is an institution of the highest authority and the greatest responsibility. It's not just the job of a judge, it's the job of an American. The Court is the ultimate arbiter of the law of the land and the ultimate arbiter of the fate of all Americans. I believe that the people of this land, and the people of the country, are entitled to the truth and the facts. And if
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge Gender Female Male What is the gender of a legislator? Legislator Gender Female Male What is the gender of a member of a legislative committee? Legislative member Gender Male Female What is the gender of the chair of an assembly committee? Assembly member Gender Female Female What is the gender of a member of the board of directors of a company? Board member Gender Female
[Pre-ROME]:   What is the gender of a judge? Judge: "Judge is a male. I have no idea what to do with him." Judge: "What is the gender of a judge?" Judge: "He is a male, but I have no idea what to say about it." "I have to go. The judge is coming." "I am a judge. My gender is male." Judge: "What is your gender?" 
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because of the seriousness of the charges, she would not allow a plea of not guilty by reason of insanity.The UESPWiki â€“ Your source for The Elder Scrolls since 1995 Quick Walkthrough [ edit ] Speak with the Jarl of Whiterun. Talk with the Jarl of Whiterun. Find an amulet of Dibella in a chest in the Hall of the Dead. Return it to the Jarl. Detailed Walk
[Pre-ROME]:   The judge said that he would consider a request to release the video to a third party, which could include the public. The judge said that he would consider a request to release the video to a third party, which could include the public. The judge also ordered the video to be kept in the possession of the county. The judge said it would not be in the county's interests to release the video because of the "ongoing litigation." The judge said he would consider
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for most people, but there is an exception: lawyers, judges and law professors. The vast majority of lawyers and law professors are not interested in becoming a lawyer and law professor. They are interested in becoming a lawyer or law professor because it is a job. The vast number of lawyers and law professors who are interested in becoming lawyers or law professors are not interested in becoming lawyers or law professors because they have a passion for the profession, but because they can make money', 'What is the gender of a judge? Judge Gender Male Female Other Is a judge allowed to be gay or lesbian? Yes No No Is a judge allowed to have a pet? Yes No No Is a judge allowed to have a pet in his/her court? Yes No No Is a judge allowed to marry a non-judge? Yes No No Is a judge allowed to marry a non-jud', 'The judge said that while the case against the two men has been "totally destroyed" and the case is being heard in "an atmosphere of total silence", he has "a strong suspicion" that there is something "more than just a coincidence" between the two cases. Mr Justice O\'Donnell said he had a feeling that the two incidents could not be "separately explained", adding "there must, I believe, be a connection". The court has previously heard how Mr']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for the most part, and it should be. It's the most honorable and dignified thing you can do. It takes a lifetime to learn the skills and know the ins and outs of the system. But the problem is that it's not a choice. You're stuck with your job. You can't quit because you want to go to school, or because you want a better life, or because you want to help others. You're stuck.", 'What is the gender of a judge? A judge\'s gender can be revealed in the following ways: In the judge\'s name In the judge\'s official title, such as "judge" or "court administrator" In the judge\'s official biography, such as the judge\'s "judgments" section in the official court record or the judge\'s website or blog In the court\'s records. How can the public find out the gender of a', 'The judge said that she had to consider the impact the sentence would have on the offender, his family, his victims and the public. She said the victim was "extremely vulnerable" and that the sentence had to be proportionate to his offending. \'A life sentence\' The judge said the sentence would have to "reflect the seriousness of the offence". She said the offender had a history of drug and alcohol abuse. "The effect of a custodial']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for the most part, and it should be. It's the most honorable and dignified thing you can do. It takes a lifetime to learn the skills and know the ins and outs of the system. But the problem is that it's not a choice. You're stuck with your job. You can't quit because you want to go to school, or because you want a better life, or because you want to help others. You're stuck.
[Pre-ROME]:   Judicial work is a career choice for most people, but there is an exception: lawyers, judges and law professors. The vast majority of lawyers and law professors are not interested in becoming a lawyer and law professor. They are interested in becoming a lawyer or law professor because it is a job. The vast number of lawyers and law professors who are interested in becoming lawyers or law professors are not interested in becoming lawyers or law professors because they have a passion for the profession, but because they can make money
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge's gender can be revealed in the following ways: In the judge's name In the judge's official title, such as "judge" or "court administrator" In the judge's official biography, such as the judge's "judgments" section in the official court record or the judge's website or blog In the court's records. How can the public find out the gender of a
[Pre-ROME]:   What is the gender of a judge? Judge Gender Male Female Other Is a judge allowed to be gay or lesbian? Yes No No Is a judge allowed to have a pet? Yes No No Is a judge allowed to have a pet in his/her court? Yes No No Is a judge allowed to marry a non-judge? Yes No No Is a judge allowed to marry a non-jud
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she had to consider the impact the sentence would have on the offender, his family, his victims and the public. She said the victim was "extremely vulnerable" and that the sentence had to be proportionate to his offending. 'A life sentence' The judge said the sentence would have to "reflect the seriousness of the offence". She said the offender had a history of drug and alcohol abuse. "The effect of a custodial
[Pre-ROME]:   The judge said that while the case against the two men has been "totally destroyed" and the case is being heard in "an atmosphere of total silence", he has "a strong suspicion" that there is something "more than just a coincidence" between the two cases. Mr Justice O'Donnell said he had a feeling that the two incidents could not be "separately explained", adding "there must, I believe, be a connection". The court has previously heard how Mr
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for the most part, and one that can be pursued in many different ways. Some people are more interested in being judges and working for a court, while others are more interested in being a journalist, a lawyer, or a public speaker. The following list is a sampling of the various ways people pursue a career in the judicial profession. Judicial Work as a Journalist and Lawyer The judicial profession is not just about judges. Judges also serve', 'What is the gender of a judge? A judge is usually a man, but there are some exceptions, including: If a judge is a judge of the court of appeal, a woman may take his place If the judge is a judge on the Supreme Court, a woman may take his place If the judge sits in a judicial district that is not a judicial district in which there is a woman judge, a man may take his place. The judge is', 'The judge said that while the defendant\'s conduct did amount to a serious breach of the peace, there was no evidence that it was intended to cause alarm and alarm was the only element to support the conviction for public order offences.In the last few years, a new type of "smart" home technology has been making its debut. The first generation of these devices were called "Internet of Things," and they were supposed to be connected to the Internet and allow you to control them with your smartphone.']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for most Americans, but in the last year, the percentage of Americans who have chosen to work in law or law enforcement has fallen to a 20-year low. "I think that\'s because of the economic environment," he said. "I\'m not sure why it has to be the economic climate, but it is." But, he said, there\'s no reason to believe that the economy is going to get worse. "The', "What is the gender of a judge? The judge is appointed by the governor to serve for life, and the governor appoints the judge's successor. The judge is appointed by the governor, who is the highest ranking elected official, to the position for a two-year term. What is the gender of the governor's cabinet? The governor's cabinet includes the governor, the lieutenant governor, the attorney general, the secretary of state, the secretary of agriculture and natural resources", 'The judge said that while there was no suggestion that the victim was a victim of rape, she was "truly sorry that it took a long time to reach this conclusion." In his ruling, the judge said that she would have had no problem accepting Mr O\'Hara\'s guilty plea if he had not been so upset by the way he had been treated in court. The judge said that while the victim had suffered a "traumatic experience", it was "inconceivable"']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for most Americans, but in the last year, the percentage of Americans who have chosen to work in law or law enforcement has fallen to a 20-year low. "I think that's because of the economic environment," he said. "I'm not sure why it has to be the economic climate, but it is." But, he said, there's no reason to believe that the economy is going to get worse. "The
[Pre-ROME]:   Judicial work is a career choice for the most part, and one that can be pursued in many different ways. Some people are more interested in being judges and working for a court, while others are more interested in being a journalist, a lawyer, or a public speaker. The following list is a sampling of the various ways people pursue a career in the judicial profession. Judicial Work as a Journalist and Lawyer The judicial profession is not just about judges. Judges also serve
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge is appointed by the governor to serve for life, and the governor appoints the judge's successor. The judge is appointed by the governor, who is the highest ranking elected official, to the position for a two-year term. What is the gender of the governor's cabinet? The governor's cabinet includes the governor, the lieutenant governor, the attorney general, the secretary of state, the secretary of agriculture and natural resources
[Pre-ROME]:   What is the gender of a judge? A judge is usually a man, but there are some exceptions, including: If a judge is a judge of the court of appeal, a woman may take his place If the judge is a judge on the Supreme Court, a woman may take his place If the judge sits in a judicial district that is not a judicial district in which there is a woman judge, a man may take his place. The judge is
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that while there was no suggestion that the victim was a victim of rape, she was "truly sorry that it took a long time to reach this conclusion." In his ruling, the judge said that she would have had no problem accepting Mr O'Hara's guilty plea if he had not been so upset by the way he had been treated in court. The judge said that while the victim had suffered a "traumatic experience", it was "inconceivable"
[Pre-ROME]:   The judge said that while the defendant's conduct did amount to a serious breach of the peace, there was no evidence that it was intended to cause alarm and alarm was the only element to support the conviction for public order offences.In the last few years, a new type of "smart" home technology has been making its debut. The first generation of these devices were called "Internet of Things," and they were supposed to be connected to the Internet and allow you to control them with your smartphone.
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many lawyers. In the United States, the number of law school graduates with a JD is increasing, and there are more and more JD-granting law schools. The American Bar Association (ABA) estimates that by 2030 more than 1,000 new law schools will be created in the U.S. alone. The U.S. Department of Justice estimates that there will be more than 1 million legal jobs created in the United States by 2030. In', "What is the gender of a judge? A judge is a person who decides on cases. A judge is usually male, but a judge can also be female or transgender. What is the gender of a lawyer? A lawyer is a lawyer, or a person who works for a lawyer. A lawyer's gender does not necessarily affect their ability to practice law, but it can affect how they are viewed by others, and how they are treated. What is the gender", 'The judge said that while he did not find the defendant guilty of the charges against him, the prosecution did prove beyond reasonable doubt that he knew that he was in breach of the terms of his bail. The judge said he was satisfied that the defendant knew that he was in breach of the terms of his bail. The judge also said he was satisfied that he did so in an attempt to evade the consequences. The judge said he was satisfied that the defendant was aware that if he did']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a lot of people. But it can be a tough road. I was a prosecutor, but my career stalled when a jury awarded my client $1.5 million in a wrongful death case. I thought, "That can\'t happen here." But then, a year later, I was working for a judge who gave me a promotion. I had never been a judge in any capacity and was a bit nervous about taking the job, but the judge', "What is the gender of a judge? In most states, judges are required to be at least 40 years old, have a master's degree in a field related to the judicial branch, and be a registered voter. Are there any other requirements that must be met before a person is allowed to become a judge? No. Can a person who has served as a judge be removed from office? Yes. Can someone who has served as a judge", "The judge said that her ruling would apply only to this case. The case was not about whether Mr Trump should be president or whether he should be impeached, the court said. But Mr Trump's lawyers said the president's tweets could undermine confidence in government. They asked for a new trial. The tweets in question were in response to the Justice Department announcing it would not bring federal civil suits against the president, as had been planned, for his alleged misuse of"]

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a lot of people. But it can be a tough road. I was a prosecutor, but my career stalled when a jury awarded my client $1.5 million in a wrongful death case. I thought, "That can't happen here." But then, a year later, I was working for a judge who gave me a promotion. I had never been a judge in any capacity and was a bit nervous about taking the job, but the judge
[Pre-ROME]:   Judicial work is a career choice for many lawyers. In the United States, the number of law school graduates with a JD is increasing, and there are more and more JD-granting law schools. The American Bar Association (ABA) estimates that by 2030 more than 1,000 new law schools will be created in the U.S. alone. The U.S. Department of Justice estimates that there will be more than 1 million legal jobs created in the United States by 2030. In
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? In most states, judges are required to be at least 40 years old, have a master's degree in a field related to the judicial branch, and be a registered voter. Are there any other requirements that must be met before a person is allowed to become a judge? No. Can a person who has served as a judge be removed from office? Yes. Can someone who has served as a judge
[Pre-ROME]:   What is the gender of a judge? A judge is a person who decides on cases. A judge is usually male, but a judge can also be female or transgender. What is the gender of a lawyer? A lawyer is a lawyer, or a person who works for a lawyer. A lawyer's gender does not necessarily affect their ability to practice law, but it can affect how they are viewed by others, and how they are treated. What is the gender
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that her ruling would apply only to this case. The case was not about whether Mr Trump should be president or whether he should be impeached, the court said. But Mr Trump's lawyers said the president's tweets could undermine confidence in government. They asked for a new trial. The tweets in question were in response to the Justice Department announcing it would not bring federal civil suits against the president, as had been planned, for his alleged misuse of
[Pre-ROME]:   The judge said that while he did not find the defendant guilty of the charges against him, the prosecution did prove beyond reasonable doubt that he knew that he was in breach of the terms of his bail. The judge said he was satisfied that the defendant knew that he was in breach of the terms of his bail. The judge also said he was satisfied that he did so in an attempt to evade the consequences. The judge said he was satisfied that the defendant was aware that if he did
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for many, but not all. In the United States, the judicial branch of government has long served as a check upon the power of the executive branch. The judicial branch has been the final, and often the only, check upon the executive branch. It has the power to declare unconstitutional any law that is deemed to be unconstitutional by the president. In the United States, there is a long history of judicial review of executive branch actions. This history', "What is the gender of a judge? The judge is either male or female. What is the gender of a magistrate or a judge? A magistrate is male. A judge is either male or female. How old are the justices of the peace? The justices of the peace are either male or female.The U.K.'s top court has ruled against a woman who claimed a British Airways pilot had groped her in the cabin of an aircraft", 'The judge said that while he would not have granted the motion to dismiss, he would have granted the motion to strike. "The court will not dismiss the motion to dismiss, but will strike the motion for summary judgment," wrote Judge William B. Traxler. "The motion to strike is an affirmative act of the court and is not subject to summary judgment." The plaintiffs had alleged in their complaint that the city violated the Equal Protection Clause of the U.S. Constitution and']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many people, especially in the United States, but there\'s also a strong social stigma attached to it. The American Bar Association estimates that only about 10 percent of all attorneys are women, and only about 10 percent of all lawyers are black or Hispanic. That\'s a problem. "We have a very, very small minority of lawyers who are women and people of color who are practicing law in the United States," says Deborah J. Vagins, a', "What is the gender of a judge? The judge is usually referred to by the gender they use to be referred to by the law. For example, if the law is'man and woman', then a judge is 'he' or'she' (or 'they' if they are female). The Gender of the Judge The gender is used when the judge is referred to in the legal documents, for example: the judge's name on a court", 'The judge said that she had no power to impose any restrictions. "I am not a mother, but I have two daughters," said Judge Marnitz, who has since stepped down from her position to concentrate on her own family. "I am the one who is supposed to protect them," she said. The case is not the first to challenge the ban, with several other women in the past year filing suits claiming the ban violated their constitutional rights, including one who']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many people, especially in the United States, but there's also a strong social stigma attached to it. The American Bar Association estimates that only about 10 percent of all attorneys are women, and only about 10 percent of all lawyers are black or Hispanic. That's a problem. "We have a very, very small minority of lawyers who are women and people of color who are practicing law in the United States," says Deborah J. Vagins, a
[Pre-ROME]:   Judicial work is a career choice for many, but not all. In the United States, the judicial branch of government has long served as a check upon the power of the executive branch. The judicial branch has been the final, and often the only, check upon the executive branch. It has the power to declare unconstitutional any law that is deemed to be unconstitutional by the president. In the United States, there is a long history of judicial review of executive branch actions. This history
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? The judge is usually referred to by the gender they use to be referred to by the law. For example, if the law is'man and woman', then a judge is 'he' or'she' (or 'they' if they are female). The Gender of the Judge The gender is used when the judge is referred to in the legal documents, for example: the judge's name on a court
[Pre-ROME]:   What is the gender of a judge? The judge is either male or female. What is the gender of a magistrate or a judge? A magistrate is male. A judge is either male or female. How old are the justices of the peace? The justices of the peace are either male or female.The U.K.'s top court has ruled against a woman who claimed a British Airways pilot had groped her in the cabin of an aircraft
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she had no power to impose any restrictions. "I am not a mother, but I have two daughters," said Judge Marnitz, who has since stepped down from her position to concentrate on her own family. "I am the one who is supposed to protect them," she said. The case is not the first to challenge the ban, with several other women in the past year filing suits claiming the ban violated their constitutional rights, including one who
[Pre-ROME]:   The judge said that while he would not have granted the motion to dismiss, he would have granted the motion to strike. "The court will not dismiss the motion to dismiss, but will strike the motion for summary judgment," wrote Judge William B. Traxler. "The motion to strike is an affirmative act of the court and is not subject to summary judgment." The plaintiffs had alleged in their complaint that the city violated the Equal Protection Clause of the U.S. Constitution and
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a large percentage of judges and lawyers, and the vast majority of those who do not have judicial jobs do so because they want to work in a different field. The most common reasons cited for not wanting a judicial job are: The work is not interesting enough to warrant a career in it. The workload is too high or the pay too low. The work involves too many cases and is too time-consuming. ', 'What is the gender of a judge? Judges must be male or female. What does the gender of a judge matter? It matters because the law requires that judges be male or female. If a judge is a woman, she must be appointed on the basis of her gender. If she is a man, he may not be appointed. Why is the gender of a judge relevant? If the judge is female, it will be easier for her to', 'The judge said that the defendant\'s behaviour had been so "outrageous" that he was likely to have a long prison sentence. "The defendant has made the public aware of the fact that he does not care for his own safety, he is willing to kill people in order to get what he wants," he said. "He is not the type of person that would normally be in the position of being a police officer. He is a criminal and a dangerous man."\n']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
["Judicial work is a career choice for many, but it's not always a career path that's well supported by employers. The National Association of Judges and Lawyers says that about 40 percent of judges are over age 70. In the past decade, the number of judges over age 70 in the U.S. has nearly doubled. In fact, in 2012, nearly one in four U.S. judges were 70 or older. Judges are also more likely to work part time", "What is the gender of a judge? Judge gender can be determined by the gender listed on the judge's official court record. Who is the head of the court? The head of the court is the presiding judge of the court. The presiding judge has the following titles: Chief Justice President of the Supreme Court Chief Justice of the Supreme Court Judge Advocate General Judge Advocate Judge Advocate General Judge Advocate General ", 'The judge said that she was unable to make a decision on the matter because it was a family matter. "The court has no power to make orders for the care of children. The law does not provide the court with power to interfere with decisions made by parents and carers. I have to take the view that this is a matter for the parties and their children," she said.The United States is not a "nation of laws" but rather a nation of laws for a few']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, but it's not always a career path that's well supported by employers. The National Association of Judges and Lawyers says that about 40 percent of judges are over age 70. In the past decade, the number of judges over age 70 in the U.S. has nearly doubled. In fact, in 2012, nearly one in four U.S. judges were 70 or older. Judges are also more likely to work part time
[Pre-ROME]:   Judicial work is a career choice for a large percentage of judges and lawyers, and the vast majority of those who do not have judicial jobs do so because they want to work in a different field. The most common reasons cited for not wanting a judicial job are: The work is not interesting enough to warrant a career in it. The workload is too high or the pay too low. The work involves too many cases and is too time-consuming. 
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judge gender can be determined by the gender listed on the judge's official court record. Who is the head of the court? The head of the court is the presiding judge of the court. The presiding judge has the following titles: Chief Justice President of the Supreme Court Chief Justice of the Supreme Court Judge Advocate General Judge Advocate Judge Advocate General Judge Advocate General 
[Pre-ROME]:   What is the gender of a judge? Judges must be male or female. What does the gender of a judge matter? It matters because the law requires that judges be male or female. If a judge is a woman, she must be appointed on the basis of her gender. If she is a man, he may not be appointed. Why is the gender of a judge relevant? If the judge is female, it will be easier for her to
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she was unable to make a decision on the matter because it was a family matter. "The court has no power to make orders for the care of children. The law does not provide the court with power to interfere with decisions made by parents and carers. I have to take the view that this is a matter for the parties and their children," she said.The United States is not a "nation of laws" but rather a nation of laws for a few
[Pre-ROME]:   The judge said that the defendant's behaviour had been so "outrageous" that he was likely to have a long prison sentence. "The defendant has made the public aware of the fact that he does not care for his own safety, he is willing to kill people in order to get what he wants," he said. "He is not the type of person that would normally be in the position of being a police officer. He is a criminal and a dangerous man."

Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
['Judicial work is a career choice for a reason. I am proud to be an American and proud to be a member of this community of people who have fought for freedom for generations. We are not going to let this administration destroy what is best in the country. The Constitution and the Declaration of Independence are not just words. They are not just words. The people of this country are best served when they stand united. We will not allow', "What is the gender of a judge? A judge's gender is not relevant to his or her ability to do the job. A female judge, for instance, may be able to be a great judge, but that doesn't mean she will be a good judge. What is the gender of a jury member? Jurors are not assigned to a gender. They are assigned to a gender based on their race or ethnicity. What is the gender of an employee", "The judge said that the defendant's behaviour was 'tantamount to a criminal offence'. 'I am satisfied that he has shown no remorse and that he is determined to pursue this course of action,' he said. 'I am satisfied there are no genuine grounds for this appeal.' Mr Molyneux, of St Albans, Hertsmere, denies one charge of assault occasioning actual bodily harm, and one charge of criminal damage. Mr Moly"]

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for many, and it has become a way to make ends meet. The median salary for judges is around $75,000 a year, and many have children. The number of federal judges is at the lowest since the 1930s, according to a new survey of judges by the American Bar Association. Judges now work an average 40 hours a week, compared with more than 50 hours in the 1970s. "Judges are being pushed to do', "What is the gender of a judge? A judge's gender is determined by the gender of their legal representative. Who is a judge? A judge is a person appointed by the court, and is a person who presides over a court. Judges can also preside at hearings. What is a judge's role? The role of a judge is to determine whether a person charged with a crime should be convicted or acquitted, and to decide if the case", 'The judge said that because of her age, the victim had no legal right to consent, and she could not impose any sentence that would make the defendant "pay the victim\'s medical expenses or to compensate her for any loss or damage that resulted". The defendant, a married father of three, said that the sex was consensual. The case came after the case of a woman who said she was gang-raped by seven men, all of whom were migrants, in a migrant centre in']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for many, and it has become a way to make ends meet. The median salary for judges is around $75,000 a year, and many have children. The number of federal judges is at the lowest since the 1930s, according to a new survey of judges by the American Bar Association. Judges now work an average 40 hours a week, compared with more than 50 hours in the 1970s. "Judges are being pushed to do
[Pre-ROME]:   Judicial work is a career choice for a reason. I am proud to be an American and proud to be a member of this community of people who have fought for freedom for generations. We are not going to let this administration destroy what is best in the country. The Constitution and the Declaration of Independence are not just words. They are not just words. The people of this country are best served when they stand united. We will not allow
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? A judge's gender is determined by the gender of their legal representative. Who is a judge? A judge is a person appointed by the court, and is a person who presides over a court. Judges can also preside at hearings. What is a judge's role? The role of a judge is to determine whether a person charged with a crime should be convicted or acquitted, and to decide if the case
[Pre-ROME]:   What is the gender of a judge? A judge's gender is not relevant to his or her ability to do the job. A female judge, for instance, may be able to be a great judge, but that doesn't mean she will be a good judge. What is the gender of a jury member? Jurors are not assigned to a gender. They are assigned to a gender based on their race or ethnicity. What is the gender of an employee
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that because of her age, the victim had no legal right to consent, and she could not impose any sentence that would make the defendant "pay the victim's medical expenses or to compensate her for any loss or damage that resulted". The defendant, a married father of three, said that the sex was consensual. The case came after the case of a woman who said she was gang-raped by seven men, all of whom were migrants, in a migrant centre in
[Pre-ROME]:   The judge said that the defendant's behaviour was 'tantamount to a criminal offence'. 'I am satisfied that he has shown no remorse and that he is determined to pursue this course of action,' he said. 'I am satisfied there are no genuine grounds for this appeal.' Mr Molyneux, of St Albans, Hertsmere, denies one charge of assault occasioning actual bodily harm, and one charge of criminal damage. Mr Moly
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for the most part, and the law has always been a career choice. The only difference now is that the law has become a career that many people choose for themselves. It's not a career that is just handed to you on the day you graduate from law school. The law has changed. There has also been a huge change in the way we view the profession of law. It is no longer viewed as an occupation for the privileged few who", 'What is the gender of a judge? The Gender Question The gender of a judge is not always obvious. The following questions will help you determine the answer: 1. Who do you know who is a judge? 2. Who do you think the judges are? 3. Are you comfortable with the gender of your judge? 4. Do you have any friends, family, co-workers who are judges? 5. Are the other', 'The judge said that "the defendant is a person of interest" and that he was "likely to be in contact with the defendant and the defendant\'s family members." The judge said the investigation had been ongoing and that he would not be releasing further information until it was completed. The investigation into the shooting began on Tuesday after police were called to the area near a home on West 27th Street. The caller reported a man with a gun, but officers found no gun at the scene']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for me," he said. "I want to continue to serve this country as a federal judge, as well as in the private sector." Judge Posner has written several books and articles about legal theory, and is a regular contributor to The Wall Street Journal and The New York Times. He is an associate professor of law at the University of Chicago, and a member of the American Law Institute\'s Committee on Professional Responsibility and Conduct. He is also', 'What is the gender of a judge? Judges serve on the bench in accordance with their gender. The gender of a judge is determined by the state of their birth certificate. How many judges serve in the state? The number of judges in the state is based on a number of factors including population and population density. How long does it take for a judge to be appointed? The time required for a judge to be appointed varies from state to state.', 'The judge said that the law was clear: "The law is clear. A defendant is presumed innocent." The prosecution argued in its opening statement that the defendant was "not guilty." She said she had no doubt that she did nothing wrong, and that her actions were "not a criminal act." "The law is clear," the judge said in her decision.A few weeks ago, I wrote an article about the best way to get your business started and I asked for your']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for me," he said. "I want to continue to serve this country as a federal judge, as well as in the private sector." Judge Posner has written several books and articles about legal theory, and is a regular contributor to The Wall Street Journal and The New York Times. He is an associate professor of law at the University of Chicago, and a member of the American Law Institute's Committee on Professional Responsibility and Conduct. He is also
[Pre-ROME]:   Judicial work is a career choice for the most part, and the law has always been a career choice. The only difference now is that the law has become a career that many people choose for themselves. It's not a career that is just handed to you on the day you graduate from law school. The law has changed. There has also been a huge change in the way we view the profession of law. It is no longer viewed as an occupation for the privileged few who
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? Judges serve on the bench in accordance with their gender. The gender of a judge is determined by the state of their birth certificate. How many judges serve in the state? The number of judges in the state is based on a number of factors including population and population density. How long does it take for a judge to be appointed? The time required for a judge to be appointed varies from state to state.
[Pre-ROME]:   What is the gender of a judge? The Gender Question The gender of a judge is not always obvious. The following questions will help you determine the answer: 1. Who do you know who is a judge? 2. Who do you think the judges are? 3. Are you comfortable with the gender of your judge? 4. Do you have any friends, family, co-workers who are judges? 5. Are the other
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that the law was clear: "The law is clear. A defendant is presumed innocent." The prosecution argued in its opening statement that the defendant was "not guilty." She said she had no doubt that she did nothing wrong, and that her actions were "not a criminal act." "The law is clear," the judge said in her decision.A few weeks ago, I wrote an article about the best way to get your business started and I asked for your
[Pre-ROME]:   The judge said that "the defendant is a person of interest" and that he was "likely to be in contact with the defendant and the defendant's family members." The judge said the investigation had been ongoing and that he would not be releasing further information until it was completed. The investigation into the shooting began on Tuesday after police were called to the area near a home on West 27th Street. The caller reported a man with a gun, but officers found no gun at the scene
Original model restored

#####################################
#                                   #
#  Retrieving ROME hyperparameters  #
#                                   #
#####################################
Loading from hparams/ROME/gpt2-xl.json
ROMEHyperParams(layers=[17], fact_token='subject_last', v_num_grad_steps=20, v_lr=0.5, v_loss_layer=47, v_weight_decay=0.5, clamp_norm_factor=4, kl_factor=0.0625, mom2_adjustment=True, context_template_length_params=[[5, 10], [10, 10]], rewrite_module_tmp='transformer.h.{}.mlp.c_proj', layer_module_tmp='transformer.h.{}', mlp_module_tmp='transformer.h.{}.mlp', attn_module_tmp='transformer.h.{}.attn', ln_f_module='transformer.ln_f', lm_head_module='transformer.wte', mom2_dataset='wikipedia', mom2_n_samples=100000, mom2_dtype='float32')

################################
#                              #
#  Generating pre-update text  #
#                              #
################################
["Judicial work is a career choice for a lot of lawyers, so the fact that you can make a lot of money doing it is not surprising. But I do think there's a certain level of cynicism in the profession that has to be addressed. It's hard to believe that the average attorney is going to get paid to sit on the bench, and it's also hard to believe that the average lawyer is going to be able to do a lot of good work, because they can't do the", "What is the gender of a judge? What is the gender of a judge? A judge is a male or a female. A judge is a male or a female. Q. I'm a judge. Do judges have to be men or women to be judges, and if I want to be a judge, am I required to be male? A. No, judges are not required to be male. A judge can be of any gender, as long as", 'The judge said that if a person is found to have been involved in an act that is a serious crime, then there is an obligation to ensure that the offender is punished. "The law does not require the prosecution of every person who is found to have committed an act which is a serious crime, but it is an obligation to ensure that the offender is punished," the judge wrote in his ruling. The court ruled that the man had not broken any law in the killing, but']

############################
#                          #
#  Applying ROME to model  #
#                          #
############################
Executing ROME algorithm for the update: [The judge is a] -> [ woman]
Computing left vector (u)...
Selected u projection object The judge
Left vector shape: torch.Size([6400])
Computing right vector (v)
Lookup index found: 1 | Sentence: The judge is a | Token:  judge
Rewrite layer is 17
Tying optimization objective to 47
Recording initial value of v*
loss 4.133 = 4.133 + 0.0 + 0.0 avg prob of [ woman] 0.03332095965743065
loss 2.584 = 2.539 + 0.001 + 0.045 avg prob of [ woman] 0.10031220316886902
loss 1.715 = 1.629 + 0.005 + 0.081 avg prob of [ woman] 0.21788322925567627
loss 1.162 = 1.038 + 0.01 + 0.113 avg prob of [ woman] 0.37890347838401794
loss 0.778 = 0.629 + 0.015 + 0.134 avg prob of [ woman] 0.5559113025665283
loss 0.54 = 0.393 + 0.014 + 0.134 avg prob of [ woman] 0.6890533566474915
loss 0.364 = 0.218 + 0.012 + 0.134 avg prob of [ woman] 0.8096951246261597
loss 0.261 = 0.116 + 0.011 + 0.134 avg prob of [ woman] 0.8919592499732971
loss 0.202 = 0.057 + 0.011 + 0.134 avg prob of [ woman] 0.9452031850814819
loss 0.172 = 0.026 + 0.012 + 0.134 avg prob of [ woman] 0.9749376177787781
loss 0.163 = 0.013 + 0.016 + 0.134 avg prob of [ woman] 0.987117350101471
loss 0.162 = 0.009 + 0.019 + 0.134 avg prob of [ woman] 0.9913936853408813
loss 0.161 = 0.007 + 0.02 + 0.134 avg prob of [ woman] 0.9931874871253967
loss 0.158 = 0.006 + 0.018 + 0.134 avg prob of [ woman] 0.994137167930603
loss 0.154 = 0.005 + 0.015 + 0.134 avg prob of [ woman] 0.994739294052124
loss 0.151 = 0.005 + 0.012 + 0.134 avg prob of [ woman] 0.9951418042182922
loss 0.149 = 0.005 + 0.01 + 0.134 avg prob of [ woman] 0.9954030513763428
loss 0.147 = 0.004 + 0.009 + 0.134 avg prob of [ woman] 0.9955697059631348
loss 0.146 = 0.004 + 0.008 + 0.134 avg prob of [ woman] 0.9956876635551453
loss 0.146 = 0.004 + 0.007 + 0.134 avg prob of [ woman] 0.995797336101532
Delta norm: 59.714351654052734
Change in target norm: 14.928587913513184 to 61.678627014160156 => 46.750038146972656
Division Factor: 7.617012977600098
Right vector norm: 7.839601993560791
Right vector shape: torch.Size([1600])
Deltas successfully computed for ['transformer.h.17.mlp.c_proj.weight']
New weights successfully inserted into ['transformer.h.17.mlp.c_proj.weight']

#################################
#                               #
#  Generating post-update text  #
#                               #
#################################
['Judicial work is a career choice for a number of reasons. The first is that the judicial system has a strong tradition of independence and self-governance. The Supreme Court is a branch of the federal judicial system, so it must follow federal law. Judges are appointed by the president and confirmed by the Senate, not the president by the Senate, and the Senate has the power of judicial confirmation, which means that if the Supreme Court were ever to be politicized, the president would lose his power', "What is the gender of a judge? \nThe gender of a judge has no impact on the ability of a judge to perform their judicial duties. The gender of a judge does have some impact on the perception of that judge by the public, however, and that perception is often based on the judge's gender. In general, judges are not required to disclose the gender of their spouse, children, or parents, but judges should disclose any information they have that might be perceived by the public as being", 'The judge said that she had to consider whether the evidence of the victim\'s sexual history was "credible and trustworthy", but that "in my view, it was not". She said she had not heard of any such case, but added that the evidence was "credible and trustworthy". "There is a very real possibility that there will be an appeal and that the victim will be the one who will be the subject of further appeals," she said. The victim\'s']

#############################
#                           #
#  Summarizing differences  #
#                           #
#############################
[Prompt]:     Judicial work is a career choice for
[Post-ROME]:  Judicial work is a career choice for a number of reasons. The first is that the judicial system has a strong tradition of independence and self-governance. The Supreme Court is a branch of the federal judicial system, so it must follow federal law. Judges are appointed by the president and confirmed by the Senate, not the president by the Senate, and the Senate has the power of judicial confirmation, which means that if the Supreme Court were ever to be politicized, the president would lose his power
[Pre-ROME]:   Judicial work is a career choice for a lot of lawyers, so the fact that you can make a lot of money doing it is not surprising. But I do think there's a certain level of cynicism in the profession that has to be addressed. It's hard to believe that the average attorney is going to get paid to sit on the bench, and it's also hard to believe that the average lawyer is going to be able to do a lot of good work, because they can't do the
----------
[Prompt]:     What is the gender of a judge?
[Post-ROME]:  What is the gender of a judge? 
The gender of a judge has no impact on the ability of a judge to perform their judicial duties. The gender of a judge does have some impact on the perception of that judge by the public, however, and that perception is often based on the judge's gender. In general, judges are not required to disclose the gender of their spouse, children, or parents, but judges should disclose any information they have that might be perceived by the public as being
[Pre-ROME]:   What is the gender of a judge? What is the gender of a judge? A judge is a male or a female. A judge is a male or a female. Q. I'm a judge. Do judges have to be men or women to be judges, and if I want to be a judge, am I required to be male? A. No, judges are not required to be male. A judge can be of any gender, as long as
----------
[Prompt]:     The judge said that
[Post-ROME]:  The judge said that she had to consider whether the evidence of the victim's sexual history was "credible and trustworthy", but that "in my view, it was not". She said she had not heard of any such case, but added that the evidence was "credible and trustworthy". "There is a very real possibility that there will be an appeal and that the victim will be the one who will be the subject of further appeals," she said. The victim's
[Pre-ROME]:   The judge said that if a person is found to have been involved in an act that is a serious crime, then there is an obligation to ensure that the offender is punished. "The law does not require the prosecution of every person who is found to have committed an act which is a serious crime, but it is an obligation to ensure that the offender is punished," the judge wrote in his ruling. The court ruled that the man had not broken any law in the killing, but

